webpackJsonp([1],{1743:function(e,t,n){e.exports={controllerViews:{Header:n(2705),ProfileCard:n(2031),ShareReminder:n(2263)},stores:{HeaderStore:n(1757),MailStore:n(1780),MobileHeaderStore:n(1822),NavStore:n(1922),ThemeStore:n(1798),UHCrumbsStore:n(1775),UHNotificationsStore:n(1821)},meta:{dependencies:["tdv2-applet-account-switch","tdv2-applet-search-input","tdv2-applet-trending","tdv2-service-profile","tdv2-service-storylines"]}}},1751:function(e,t,n){var s={get:n(37)},o=Object.assign,i=/yahoo.com/;e.exports={getStaticMethod:function(e,t,n){var s=null;if(e&&e[t])if(Array.isArray(n)){s=e[t];for(var o=0;o<n.length;o++){if(!s[n[o]]){s=null;break}s=s[n[o]]}}else"string"==typeof n&&e[t][n]&&(s=e[t][n]);return s},lightWeightBackground:function(e,t,n,s){e=e?"."+e:"";var o="";return"dark"===s&&(o=["#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\)","{background-color:#000\\9 !important;}","#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\):hover","#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\):hover b","#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\) b:hover","{background-color:#fff\\9 !important; color:#000\\9 !important;}"].join(" ")),o},lightWeightLogo:function(e,t){return"property"===t?["#atomic.ie-7 "+e+" {*display:inline; margin-left:49px!important; zoom:1;}","#atomic.ie-8 "+e+" {position:relative;}"].join(" "):""},mediaBackgroundImage:function(e,t,n){return[e+" {background-image: url("+t+");}","@media",[" only screen and (-webkit-min-device-pixel-ratio: 2)"," only screen and ( min--moz-device-pixel-ratio: 2)"," only screen and ( -o-min-device-pixel-ratio: 2/1)"," only screen and ( min-device-pixel-ratio: 2)"," only screen and ( min-resolution: 192dpi)"," only screen and ( min-resolution: 2dppx)"].join(","),"{ "+e+" {background-image: url("+n+");} }"].join(" ")},isClient:function(){return"undefined"!=typeof window},isEnabled:function(e){return["true","1",!0,1].indexOf(e)>-1},strExpand:function(e,t,n){return t&&(e=t+e),n&&(e+=n),e},getLogoUrl:function(e,t,s){t=t||"https";var o={protocol:t,host:e?e+".yahoo.com":"www.yahoo.com"};return"e1"===e?o.host="espanol.yahoo.com":"xe"===e?o.host="en-maktoob.yahoo.com":"us"===e&&(o.host="www.yahoo.com"),s&&"fp"!==s&&"all"!==s&&(o.pathname=s),n(25).format(o)},getPageUrl:function(e,t,s){var i="https://www.yahoo.com/",a={protocol:s||"https",host:t||"www.yahoo.com"};if(e)if(e.url){var r=n(25).parse(e.url,!0);r=o(r,a),i=n(25).format(r)}else i=n(25).format(a);return i},handleBackClick:function(e){if(window){var t=n(2)(window,["history","state","referrerUrl"],document&&document.referrer),s=window.location,o=s.origin||s.protocol+"//"+s.host;i.test(t)||-1!==t.indexOf(o)?history.back():window.location=this.getLogoUrl(e.dimensions.intl,e.protocol)}},getSite:function(e){var t,o=e.getStore(n(28)),i=o&&o.getCurrentRoute();return t=s.get(i,"params.contentSite"),t||(t=s.get(i,"contentSite")),t||(t=s.get(i,"query.site")),t},checkValidPromoSubcookies:function(e,t,n){var s=this,o=!0,i=s.getPromoIdSubcookie(),a=s.getPromoTimestampSubcookie();if(i===e&&a){var r=Math.floor((new Date).getTime()/1e3),l=t&&a+t<r;n&&a+n<r?s.resetPromoNotifSubcookie():l&&(o=!1)}else s.resetPromoNotifSubcookie();return o},getSubcookie:function(e){return n(192)&&n(192).getSub&&n(192).getSub("ucs",e)},getPromoIdSubcookie:function(){return this.getSubcookie("pnid")},getPromoTimestampSubcookie:function(){var e=this.getSubcookie("pnct");return e?parseInt(e,10):0},getCookieOptions:function(){var e=(new Date).setFullYear((new Date).getFullYear()+1);return{expires:new Date(e),path:"/",domain:"yahoo.com",encode:function(e){return e}}},setBackoffSubcookie:function(e){if(e){var t=Math.floor((new Date).getTime()/1e3),s=this.getCookieOptions();n(192)&&n(192).setSub&&n(192).setSub("ucs",e,t,s)}},resetPromoNotifSubcookie:function(){var e=this.getCookieOptions();n(192)&&n(192).get("ucs")&&(n(192).setSub&&n(192).setSub("ucs","pnid","",e),n(192).setSub&&n(192).setSub("ucs","pnct","",e))},setPromoNotifSubcookie:function(e,t,s){n(192)&&n(192).setSub&&n(192).setSub("ucs","pnid",e,s),n(192)&&n(192).setSub&&n(192).setSub("ucs","pnct",t,s)},isBackoffTimerExceeded:function(e,t){var n=this.getSubcookie(t),s=n?parseInt(n,10):0;return s?Math.floor((new Date).getTime()/1e3)-s>e:(this.setBackoffSubcookie(t),!0)},initPermissionHelper:function(e,t){e.permissionHelper.setPermissionHelper({permissionsConfig:t,userAgent:e.session.userAgent,beaconer:e.beacon,bucket:e.session.bucketLogString,spaceId:t.spaceId})},isFacebookApp:function(){if("undefined"!=typeof window){var e=window.navigator&&window.navigator.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1}},getConfigForOS:function(e,t){for(var n=s.get(e,"session.userAgent.osName",""),o=Object.keys(t),i=o.length,a="",r=0;r<i;r++)if(n.indexOf(o[r])>-1){a=o[r];break}return s.get(t,a)},debounce:function(e,t){var n=null;return function(){var s=this,o=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(s,o)},t)}}}},1755:function(e,t,n){"use strict";var s={merge:n(26),get:n(37)},o=n(3)("uh:mixins:AppletMixin");e.exports={contextTypes:{conf:n(0).object,intl:n(0).object,logger:n(0).object,theme:n(0).object},getClassName:function(e,t){var s,i=null;return i=this.getConf(e,t),(!i||n(7).Map.isMap(i)&&i.isEmpty())&&(s=n(1751).getStaticMethod(e,"className",t),i=s&&this[s]&&this[s].call(this,t)),i||(i=this.getTheme(e,t)),i=n(7).Map.isMap(i)?i.toJS():i,o(e.displayName,"getClassName",t,i),i},getConf:function(e,t){var s,i,a=null;return s=e.base?this.context.conf.getIn(e.base):this.context.conf,s&&(Array.isArray(t)?a=s.getIn(t):"string"==typeof t&&(a=s.get(t))),a||(i=n(1751).getStaticMethod(e,"conf",t))&&this[i]&&(a=this[i].call(this)),o(e.displayName,"getConf",t,a),a},getMetaData:function(e,t){var s,i,a=null;return this.props&&this.props.data&&(i=this.props.data,n(7).Map.isMap(i)||(this.context&&this.context.logger&&this.context.logger.warn("The this.props.data is not an Immutable object. name=",t),i=n(7).fromJS(this.props.data)),Array.isArray(t)?a=i.getIn(t):"string"==typeof t&&(a=i.get(t))),a||(s=n(1751).getStaticMethod(e,"metaData",t))&&this[s]&&(a=this[s].call(this)),o(e.displayName,"getMetaData",t,a),a},getI13n:function(e,t,n){var i=e.i13n[t];return n&&(i=s.merge(i,n)),o(e.displayName,"getI13n",t,i,n),i},getIntl:function(e){var t;try{t=this.context.intl.formatMessage({id:e}),o("getIntl",e,t)}catch(t){this.context&&this.context.logger&&this.context.logger.warn('The paramter "name" is not defined in getIntl method. name=',e,t)}return t},getSite:function(e){var t=n(1751).getSite(this.context);return o(e.displayName,"getSite",t),t},getTheme:function(e,t){var n=null,s=null;return this.context&&this.context.theme&&e.base?s=this.context.theme.getIn(e.base):this.context&&(s=this.context.theme),s&&(Array.isArray(t)?n=s.getIn(t):"string"==typeof t&&(n=s.get(t))),o(e.displayName,"getTheme",t,n),n}}},1757:function(e,t,n){"use strict";var s=n(66).createImmutableStore,o=n(3)("uh:stores:HeaderStore");e.exports=s({storeName:"HeaderStore",initialize:function(){this._state=n(7).fromJS({})},handlers:{FFPROMO_SHOW_STATE:"_receiveShowFFPromo",PROMO_NOTIF_STATE:"_receivePromoNotif",MUTE_STATE:"_receiveMute"},_receiveShowFFPromo:function(e){o("receive ShowFFPromo",e),this.setState(this._state.withMutations(function(t){t.set("showFFPromo",e.show)}))},_receivePromoNotif:function(e){o("receive PromoNotif",e),this.setState(this._state.withMutations(function(t){void 0!==e.promoId&&t.set("promoNotifId",e.promoId),void 0!==e.show&&t.set("showPromoNotif",e.show),void 0!==e.isNew&&t.set("isNewPromoNotif",e.isNew),void 0!==e.showSubscriptionPromo&&t.set("showSubscriptionPromo",e.showSubscriptionPromo)}))},_receiveMute:function(e){o("receive Mute",e),this.setState(this._state.withMutations(function(t){void 0!==e.isNotificationMuted&&t.set("isNotificationMuted",e.isNotificationMuted),void 0!==e.showMuteButton&&t.set("showMuteButton",e.showMuteButton)}))},getPromoNotifId:function(){return this._state.get("promoNotifId")},getShowFFPromo:function(){return this._state.get("showFFPromo")},getShowPromoNotif:function(){return this._state.get("showPromoNotif")},getIsNewPromoNotif:function(){return this._state.get("isNewPromoNotif")},getShowSubscriptionPromo:function(){return this._state.get("showSubscriptionPromo")},getIsNotificationMuted:function(){return this._state.get("isNotificationMuted")},getShowMuteButton:function(){return this._state.get("showMuteButton")},getShowNotificationOverlay:function(){return this._state.get("showNotificationOverlay")},getState:function(){return this._state}})},1775:function(e,t,n){"use strict";e.exports=n(24)({storeName:"UHCrumbsStore",statics:{handlers:{FETCH_UHCRUMBS_SUCCESS:"_receiveCrumbs",FETCH_UHCRUMBS:"startIsFetching",FETCH_UHCRUMBS_FAILURE:"endIsFetching"}},initialize:function(){this.state={ucsCrumb:null,mailCountCrumb:null,isFetching:!1,tries:0}},_receiveCrumbs:function(e){this.state.ucsCrumb=e.ucsCrumb,this.state.mailCountCrumb=e.mailCountCrumb,this.state.tries=0,this.state.isFetching=!1},endIsFetching:function(){this.state.isFetching=!1},startIsFetching:function(){this.state.tries++,this.state.isFetching=!0},getIsFetching:function(){return this.state.isFetching},getTries:function(){return this.state.tries},getUcsCrumb:function(){return this.state.ucsCrumb},getMailCountCrumb:function(){return this.state.mailCountCrumb},dehydrate:function(){return{ucsCrumb:this.state.ucsCrumb,mailCountCrumb:this.state.mailCountCrumb,isFetching:this.state.isFetching=!1,tries:this.state.tries}},rehydrate:function(e){return this.state.ucsCrumb=e&&e.ucsCrumb?e.ucsCrumb:this.state.ucsCrumb,this.state.mailCountCrumb=e&&e.mailCountCrumb?e.mailCountCrumb:this.state.mailCountCrumb,this.state.isFetching=e&&e.isFetching?e.isFetching:this.state.isFetching,this.state.tries=e&&e.tries?e.tries:this.state.tries,this}})},1780:function(e,t,n){"use strict";e.exports=n(24)({storeName:"MailStore",statics:{handlers:{FETCH_MAIL_COUNT:"setFetching",NEW_MAIL_COUNT:"_receiveNewMailCount",MAIL_COUNT_TS:"_updateTs",OPEN_MAILPREVIEW_SUCCESS:"_openMailPreviewSuccess",OPEN_MAILPREVIEW_FAILURE:"_openMailPreviewFailure",OPEN_MAILPREVIEW_NO_NEW:"_openMailPreviewNoNew"}},initialize:function(){this.state={fetching:!1,mailcount:-1,mailitems:null,ts:0}},_receiveNewMailCount:function(e){this.state.mailcount=e,this.state.fetching=!1,this.emitChange()},getMailCount:function(){return parseInt(this.state.mailcount,10)},getMailPreview:function(){return this.state.mailitems},getFetching:function(){return this.state.fetching},getTs:function(){return this.state.ts},setFetching:function(e){this.state.fetching=e},_openMailPreviewSuccess:function(e){this.state.mailitems=Array.isArray(e)?e:[e],this.emitChange()},_openMailPreviewFailure:function(){this.state.mailitems=-1,this.emitChange()},_openMailPreviewNoNew:function(){this.state.mailitems=[],this.emitChange()},_updateTs:function(){this.state.ts=Date.now()},dehydrate:function(){return{mailcount:this.state.mailcount,mailitems:this.state.mailitems}},rehydrate:function(e){return this.state.mailitems=e.mailitems||this.state.mailitems,this.state.mailcount=e.mailcount||this.state.mailcount,this}})},1791:function(e,t,n){"use strict";function s(e){var t=parseInt(e,10);return isNaN(t)?null:(t.toString().length<13&&(t*=1e3),t)}function o(e,t){l.isRegExp(e)&&l.isFunction(t)?c.unshift({channelRegex:e,parseFn:t}):r("add parser failed",e,t)}function i(e){var t,n,s=c.length;if(e)for(n=0;n<s;n++)if(t=c[n],t.channelRegex&&t.channelRegex.test(e.channel))return t.parseFn;return null}function a(e){var t,o;try{t=JSON.parse(e.data)}catch(e){return null}return t&&e.channel===t.chn?(o=[],t.updates.forEach(function(e){var t=s(e.lastUpdatedTs),i={};e.update&&e.update.length&&(e.update.forEach(function(e){"up"===e._op&&n(1871).setObjectValue(i,e.key,e.value)}),o.push({data:i,seq:e.seq,time:e.time,lastUpdatedTs:t}))}),o):null}var r=n(3)("TDPipe:messageParsers"),l={isArray:n(18),isFunction:n(142),isRegExp:n(1652)},c=[];o(/^\/[\/\.\w\d]+$/,function(e){return l.isArray(e.data)?e:[e]}),e.exports={add:o,findParseFn:i,onepushParser:a,parseLastUpdatedTs:s}},1795:function(e,t,n){"use strict";e.exports=function(e,t,s){var o,i=e.localStorage,a=[],r=function(e,t){s&&s(e,e?null:t)};i&&i.getItem("storylines-followed")?(o=[].concat(i.getItem("storylines-followed")),i.removeItem("storylines-followed"),o.forEach(function(e,t){e&&a.push({action:n(703),params:{followId:e,follow:!0}})}),n(259)(e,a,r)):r("local storage not available",null)}},1798:function(e,t,n){"use strict";var s=n(66).createImmutableStore,o=n(3)("uh:stores:ThemeStore");e.exports=s({storeName:"ThemeStore",handlers:{THEME_FAILURE:"_handleThemeFailure",THEME_SUCCESS:"_handleThemeSuccess"},commonDimensionsMap:n(7).Map(),_handleThemeFailure:function(e){o("_handleThemeFailure","error",e),e=e||{},this.setState(this._state.withMutations(function(t){t.set("error",n(7).fromJS(e))}))},_handleThemeSuccess:function(e){o("_handleThemeSuccess","payload",e);var t=e.data||{},s=this.getCacheKey(e.params);o("_handleThemeSuccess","cache_key",s),this.setState(this._state.withMutations(function(e){e.set("last_accessed_cache_key",s),e.setIn(["data",s],n(7).fromJS(t))}))},getCacheKey:function(e){var t=this.getCommonDimensions();return t=t.merge(e),o("cache_key",t,t.hashCode()),t.hashCode()+""},getCommonDimensions:function(){var e=this.getContext().session.dimensions,t=n(7).Map();return 0===this.commonDimensionsMap.size&&n(2026)[0].dimensions.forEach(function(e){this.commonDimensionsMap=this.commonDimensionsMap.set(Object.keys(e)[0],1)}.bind(this)),Object.keys(e).forEach(function(n){this.commonDimensionsMap.has(n)&&(t=t.set(n,e[n]))}.bind(this)),t},getError:function(){return this._state.getIn(["error"])||n(7).Map()},getData:function(){return this._state.getIn(["data"])||n(7).Map()},getCachedData:function(e,t){var s=this.getCacheKey(e),i=this._state.get("last_accessed_cache_key");return o("getCachedData","data",this.getData()),o("getCachedData","cache_key",s),o("getCachedData","last_accessed_cache_key",i),(t?this._state.getIn(["data",s])||this._state.getIn(["data",i]):this._state.getIn(["data",s]))||n(7).Map()},getState:function(){return this._state}})},1803:function(e,t,n){"use strict";function s(e){return o.get(e,"componentProps.componentConfig.uh.profile.mode")}var o={get:n(37)},i=n(3)("uh:actions:UHCrumbsActions"),a=n(1751).isClient();e.exports={initializeUHCrumbs:function(e,t,o){if("0"===e.session.dimensions.authed||!a&&"client"===s(t))return o&&o(null,null);var r=e.getStore(n(1775)),l=r.getUcsCrumb(),c=r.getMailCountCrumb();l||c||r.getIsFetching()?o&&o():(e.dispatch("FETCH_UHCRUMBS"),e.service.read("UHCrumbsService",{xhrCheck:a},{},function(t,n){if(i("UHCrumbs data",n),t||!n)return e.dispatch("FETCH_UHCRUMBS_FAILURE",t),o(t,null);e.dispatch("FETCH_UHCRUMBS_SUCCESS",{ucsCrumb:encodeURIComponent(n.ucsCrumb),mailCountCrumb:encodeURIComponent(n.mailCountCrumb)}),o&&o()}))}}},1821:function(e,t,n){"use strict";e.exports=(0,n(66).createImmutableStore)({storeName:"UHNotificationsStore",statics:{handlers:{GET_NOTIFICATIONS_PREVIEW_DATA_SUCCESS:"_receiveNotifications",RECEIVE_NEW_NOTIFICATIONS_COUNT:"_receiveNewNotificationsCount"}},_receiveNewNotificationsCount:function(e){this.setState(this._state.withMutations(function(t){t.set("notificationsCount",e)}))},getNotificationsCount:function(){return this._state.get("notificationsCount")},_receiveNotifications:function(e){e.data&&this.setState(this._state.withMutations(function(t){t.set("notifications",e.data),t.set("fetched",!0)}))},setCount:function(e){e.data&&this.setState(this._state.withMutations(function(t){t.set("notificationsCount",e.data.count),t.set("fetched",!1)}))},getNotifications:function(){return this._state.get("notifications")},getFetched:function(){return!!this._state.get("fetched")},setFetched:function(e){this.setState("fetched",e)}})},1822:function(e,t,n){"use strict";var s={get:n(37)},o=n(66).createImmutableStore;e.exports=o({storeName:"MobileHeaderStore",initialize:function(){this._state=n(7).fromJS({navTitle:"home",useNavTitle:!1})},statics:{handlers:{NAVIGATE_SUCCESS:"setHeaderTitle",SET_NAVTRIGGER:"setNavTrigger",ON_STREAM_FOLLOW:"setFollowAnimationState",ON_FOLLOW_ANIM_END:"setFollowAnimationState"}},setHeaderTitle:function(e){var t,n,o=e.route?e.route:e,i=s.get(o,"name",""),a=s.get(o,"params",""),r=s.get(o,"params.contentSite")||s.get(o,"contentSite")||"home",l=s.get(a,"alias","");return"topic"===i||"category"===i?(t=decodeURIComponent(l).split("-"),t&&t.constructor===Array&&(t=t[0]),t.indexOf("_")>-1&&(t=t.replace(/_/g," ")),n=!0):(r&&(t=r),n=!1),!!t&&this.setState(this._state.withMutations(function(e){e.set("navTitle",t),e.set("useNavTitle",n)}))},setNavTrigger:function(e){e&&this.setState(this._state.set("navTrigger",e))},getHeaderTitle:function(){return this._state.get("navTitle")},getHeaderFlag:function(){return this._state.get("useNavTitle")},getNavTrigger:function(){return this._state.get("navTrigger")},setFollowAnimationState:function(e){e&&this.setState(this._state.set("followAnimation",e.followAnimation))},getFollowAnimationState:function(){return this._state.get("followAnimation")}})},1836:function(e,t,n){"use strict";e.exports=function(e,t,s){var o,i=e.localStorage;t=t||{},i&&i.getItem("storylines-timestamp")?(t.lastVisitTime=i.getItem("storylines-timestamp"),o=i.getItem("storylines-followed")):(t.lastVisitTime=Math.floor(Date.now()/1e3),i&&i.setItem("storylines-timestamp",t.lastVisitTime)),e.service.read("storylines.fetchClusters",t,{},function(t,i){!t&&i?(e.dispatch("GET_STORY_LINES_DATA_SUCCESS",{data:i}),o&&o.length&&n(1795)?e.executeAction(n(1795),{},s):s&&s(null,i)):(e.dispatch("GET_STORY_LINES_DATA_FAILURE",t),e.beacon&&e.beacon("error","storylines.fetchClusters",{code:"storylines.fetchClustersFailed",message:t.message||"",statusCode:t.statusCode||""}),s&&s(null,null))})}},1839:function(e,t){e.exports={name:"tdv2-applet-uh",version:"9.0.122"}},1840:function(e,t,n){"use strict";e.exports={nep:"uh3",seperator:"_",queries:{default:{fr:"yfp-t-{BUCKET}"},autos:{fr:"uh3_magautos_web_gs",fr2:"p:auto,m:{FRSOURCE}"},beauty:{fr:"uh3_magbeauty_web_gs",fr2:"p:bty,m:{FRSOURCE}"},celebrity:{fr:"uh3_omg_web_gs_1",fr2:"p:clb,m:{FRSOURCE}"},decor:{fr:"uh3_magdecor_web",fr2:"p:dcr,m:{FRSOURCE}"},finance:{fr:"uh3_finance_web",fr2:"p:finvsrp,m:{FRSOURCE}"},entertainment:{fr:"uh_magentertain_web_gs",fr2:"p:ent,m:{FRSOURCE}"},esports:{fr:"uh3_esports_web_gs",fr2:"p:esports,m:{FRSOURCE}"},food:{fr:"yshineheader_test2",fr2:"p:fd,m:{FRSOURCE}"},gma:{fr:"uh3_news_web_gs",vfr:"uh3_news_vert_gs",fr2:"p:news,m:{FRSOURCE}"},health:{fr:"uh3_maghealth_web_gs",fr2:"p:hlth,m:{FRSOURCE}"},katiecouric:{fr:"uh3_news_web_gs",vfr:"uh3_news_vert_gs",fr2:"p:news,m:{FRSOURCE}"},lifestyle:{fr:"uh_maglifestyle_web_gs",fr2:"p:lst,m:{FRSOURCE}"},lifestyles:{fr:"uh_maglifestyle_web_gs",fr2:"p:lst,m:{FRSOURCE}"},makers:{fr:"uh3_magdiy_web_gs",fr2:"p:mk,m:{FRSOURCE}"},movies:{fr:"uh3_magmovies_web_gs",fr2:"p:mv,m:{FRSOURCE}"},music:{fr:"uh3_music_web_gs",fr2:"p:msc,m:{FRSOURCE}"},news:{fr:"uh3_news_web_gs",vfr:"uh3_news_vert_gs",fr2:"p:news,m:{FRSOURCE}"},omg:{fr:"uh3_omg_web_gs",fr2:"p:clb,m:{FRSOURCE}"},parenting:{fr:"uh3_magparenting_web_gs",fr2:"p:prnt,m:{FRSOURCE}"},politics:{fr:"uh3_news_web_gs_t2",vfr:"uh3_news_vert_gs_t2",fr2:"p:pol,m:{FRSOURCE}"},realestate:{fr:"uh3_magrealestate_web",fr2:"p:rles,m:{FRSOURCE}"},softwarecenter:{fr:"ush-swc"},sports:{fr:"uh3_sports_web_gs",fr2:"p:sprt,m:{FRSOURCE}"},style:{fr:"magstyle_web_gs",fr2:"p:stl,m:{FRSOURCE}"},tech:{fr:"uh3_magtech_web_gs",fr2:"p:tech,m:{FRSOURCE}"},travel:{fr:"uh3_magtravel_web_gs",fr2:"p:trvl,m:{FRSOURCE}"},tv:{fr:"uh3_magtv_web_gs",fr2:"p:tv,m:{FRSOURCE}"},weather:{fr:"uh3_magweather_web_gs",fr2:"p:weather,m:{FRSOURCE}"},everything:{fr:"yfp-t-{BUCKET}",fp:"1"}}}},1869:function(e,t,n){e.exports={comet:n(1870),messageParsers:n(1791),Pipe:n(2174)}},1870:function(e,t,n){"use strict";function s(e){v=f.merge({},C,e),v.subscribeMaxTotalTries=v.subscribeMaxTotalTries||2*v.subscribeMaxTries}function o(){return v}function i(e){return v.publicHost===v.privateHost?M:e.indexOf("*")>0?T:M}function a(e,t,n){var s=_[e],o=f.merge({clientId:s.clientId},n);Object.keys(s.proxies).forEach(function(e){s.proxies[e].emit(t,o)})}function r(e,t){var n=_[t];n.totalTries=n.totalTries?n.totalTries+1:1,(n.tries=n.tries?n.tries+1:1)<=v.subscribeMaxTries&&n.totalTries<=v.subscribeMaxTotalTries&&e.subscribe(t)}function l(e){var t=[];Object.keys(_).forEach(function(n){if(i(n)===e){var s=_[n];s.state=w,s.tries=0,s.clientId="",t.push(n),r(g[e],n)}}),d("resubscribe existing channels",e,t)}function c(e){var t,n,s,o=[],a=[];for(t=0,n=b.length;t<n;t++)s=b[t],i(s)===e?_[s].state!==w&&_[s].state!==E&&(_[s].state=w,r(g[e],s),a.push(s)):o.push(s);b=o,d("subscribe waiting channels",e,a,o)}function u(e){var t=g[e];t.addListener(I,function(t){d("handshake successful="+t.successful,e,t),t.successful&&(l(e),c(e))}),t.addListener(S,function(e){var s=e.subscription,o=_[s];if(!e.successful){if(y.test(e.error))return;return o&&(o.state=k),!N.test(e.error)||o.tries>=v.subscribeMaxTries||o.totalTries>=v.subscribeMaxTotalTries?void a(s,F,{code:"subscribe",message:e.error||"",clientId:e.clientId}):void r(t,s)}o||(o=_[s]={state:null,proxies:{}}),o.state=E,o.clientId=e.clientId,a(s,P,{clientId:e.clientId,tries:o.tries}),t.addListener(s,function(e){var t,o=n(1791).findParseFn(e);(t=o&&o(e))&&a(s,L,{clientId:e.clientId,messages:t})})}),t.addListener(x,function(e){var t=e.subscription,n=_[t];if(!e.successful)return void a(t,F,{code:"unsubscribe",message:e.error||"",clientId:e.clientId});n&&(n.tries=0,n.state=k,a(t,D,{clientId:e.clientId}),delete _[t])})}function h(e){if(g[e])return!0;if(v.shutdown)return!1;var t=g[e]=m(v[e+"Host"]);return t.config(["subscribe","jsonpTimeout"],v.subscribeTimeout),u(e),"connected"===t.getClientState()&&c(e),!0}function p(e){if(!e)return null;_[e]=_[e]||{state:null,proxies:{}};var t=i(e);if(!h(t))return null;var s=g[t],o=new(n(2173))(e);switch(_[e].proxies[o.id]=o,o.on("close",function(){_[e]&&_[e].proxies&&_[e].proxies[o.id]&&(delete _[e].proxies[o.id],!f.isEmpty(o.proxies)||_[e].state!==E&&_[e].state!==w||s.unsubscribe(e))}),_[e].state){case E:setImmediate(function(){_[e]&&o.emit(P,{clientId:_[e].clientId})});break;case w:break;default:s&&o.state!==E&&o.state!==w&&("connected"===s.getClientState()?(o.tries=0,o.state=w,r(s,e)):b.indexOf(e)<0&&b.push(e))}return o}var d=n(3)("TDPipe:comet"),m=n(2169).initComet,f={isEmpty:n(202),merge:n(26)};n(77);var g={},_={},b=[],C={publicHost:"https://comet.yahoo.com/comet",privateHost:"https://comet.yahoo.com/comet",shutdown:!1,subscribeMaxTries:1,subscribeTimeout:5e3},v=f.merge({},C),y=/^408:\d+:jsonp timeout$/,N=/^500::jsonp failed$/,S="/meta/subscribe",x="/meta/unsubscribe",I="/meta/handshake",w="opening",E="open",k="closed",T="private",M="public",P="open",D="close",L="message",F="error";e.exports={addParser:n(1791).add.bind(n(1791)),config:s,getCometType:i,getConfigs:o,open:p}},1871:function(e,t,n){"use strict";function s(e,t){var n=setTimeout(e,t);return{timeout:n,cancel:function(){clearTimeout(n)}}}function o(e,t,n){if(t){t=t.split(".");for(var s=e,o=0,i=t.length;o<i;o++)o===i-1?s[t[o]]=n:(void 0===s[t[o]]&&(s[t[o]]={}),s=s[t[o]]);return e}}e.exports={later:s,setObjectValue:o}},1892:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=s(n(0)),a=s(n(1)),r=s(n(4)),l=s(n(16)),c=s(n(5)),u=s(n(1893)),h=s(n(23)),p=s(n(2)),d=s(n(1894)),m=s(n(1895)),f=s(n(1896)),g=s(n(1897)),_=s(n(665)),b=s(n(1898)),C=s(n(1899));n(77),t.default=(0,r.default)({displayName:"SearchInput",autobind:!1,_isSmartphone:!1,propTypes:{autofocus:i.default.bool.isRequired,className:i.default.string,defaultValue:i.default.string,footerComponent:i.default.func,id:i.default.string.isRequired,inputName:i.default.string,isSmartphone:i.default.bool,magnifyingGlass:i.default.bool,onClear:i.default.func,onFocus:i.default.func,onKeyDown:i.default.func,onSearchHintChanged:i.default.func,onSelect:i.default.func,placeholder:i.default.string,searchHint:i.default.bool,showFooter:i.default.bool,templateComponent:i.default.func},contextTypes:{getStore:i.default.func,theme:i.default.object,session:i.default.object},childContexTypes:{theme:i.default.object},mixins:[h.default],statics:{storeListeners:[_.default]},immediateId:null,getInitialState:function(){return this.isOnComposition=!1,{searchTerm:"",highlightedSuggestionIndex:-1,selectedSuggestionIndex:-1,shouldCleanQuery:!1,suggestions:[]}},getDefaultProps:function(){return{config:{}}},componentDidMount:function(){var e=this;e.props.autofocus&&(e.immediateId=setImmediate(function(){e.focus()}))},componentWillMount:function(){var e=this;e.onChange=e.onChange.bind(e),e.handleSelect=e.handleSelect.bind(e),e.handleChange=e.handleChange.bind(e),e.handleComposition=e.handleComposition.bind(e),e.handleClear=e.handleClear.bind(e),e.handleBlur=e.handleBlur.bind(e),e.handleKeyDown=e.handleKeyDown.bind(e),e.handleKeyUp=e.handleKeyUp.bind(e),e.handleItemEnter=e.handleItemEnter.bind(e),e.handleItemExit=e.handleItemExit.bind(e),e.handleTermComplete=e.handleTermComplete.bind(e),e.store=e.getStore(_.default),e._isSmartphone=e.props.isSmartphone||!1!==e.props.isSmartphone&&"smartphone"===(0,p.default)(e.context,["session","dimensions","device"])},componentWillUnmount:function(){this.immediateId&&clearImmediate(this.immediateId)},focus:function(){var e=l.default.findDOMNode(this.refs.userInput),t=this.getUserInput().length;e.focus(),e.setSelectionRange&&e.setSelectionRange(t,t)},blur:function(){l.default.findDOMNode(this.refs.userInput).blur()},handleValueChange:function(e){e?this._isSmartphone&&this.props.onFocus&&this.props.onFocus():this._isSmartphone&&this.props.onClear&&this.props.onClear()},setUserInput:function(e,t){l.default.findDOMNode(this.refs.userInput).value=e,this.handleValueChange(e),!0===t&&this.focus()},getUserInput:function(){var e=l.default.findDOMNode(this.refs.userInput);return e&&e.value||""},getClearBtn:function(){var e=this,t={style:{verticalAlign:"initial"}},s={elm:"btn",itc:0,slk:"srch-clear",subsec:"search"};if(e.props.clearBtn&&e.state.searchTerm)return a.default.createElement(n(13).I13nButton,{className:"Pos(a) W(36px) H(100%) End(0) T(0) P(0) Bdw(0) Bgc(t) O(0) Z(3) Cur(p)",model:s,onClick:e.handleClear,type:"button"},a.default.createElement(n(21).Icon,o({asset:u.default,height:12,color:"#ccc"},t)))},getSearchHintInput:function(){var e={"Fz(18px) Pos(a) W(100%) T(0) Start(0) M(0) C(#c0c0c0) Bgc(#fff) O(0) O(0):f Px(10px) Py(5px) Z(1)":!0,"Bxsh(n) Bxsh(n):f":!0,"Bdrs(0)":!this.props.magnifyingGlass,"Bdrs(3px) Bdw(0)":this._isSmartphone};if(this.props.className&&(e[this.props.className]=!0),this.props.searchHint)return a.default.createElement(b.default,{className:(0,c.default)(e),instanceId:this.props.id,searchTerm:this.state.searchTerm,onSearchHintChanged:this.props.onSearchHintChanged})},getMaginifyingGlass:function(){return a.default.createElement(m.default,{active:this.props.magnifyingGlass})},getSuggestions:function(e){"number"==typeof this._getSuggestionsTimeoutID&&(clearTimeout(this._getSuggestionsTimeoutID),this._getSuggestionsTimeoutID=void 0);var t=this;this._getSuggestionsTimeoutID=setTimeout(function(e,n){t.context.executeAction(d.default,{searchTerm:e,gossipConfig:t.props.config.gossip,instanceId:n})}.bind(t,e,t.props.id),200)},resetSuggestions:function(){this.getSuggestions("")},onChange:function(e){var t=this;t.setState(t._getStoreData(),function(){if(t.state.suggestions&&t.state.selectedSuggestionIndex>-1){var e=t.state.suggestions[t.state.selectedSuggestionIndex]&&t.state.suggestions[t.state.selectedSuggestionIndex].fullSuggestion||"";-1===t.state.highlightedSuggestionIndex&&(t.props.searchHint&&t.props.onSearchHintChanged&&t.props.onSearchHintChanged(e),t.setUserInput(e))}})},handleChange:function(e){var t=e.target.value;this.setState({searchTerm:t}),this.getSuggestions(t)},handleKeyDown:function(e){var t=this,s=n(13).ReactI13n.getInstance();if(t.props.onKeyDown&&t.props.onKeyDown(e),"ArrowDown"===e.key){if(t.isOnComposition)return;t.state.selectedSuggestionIndex+1<t.state.suggestions.length&&t.context.executeAction(g.default,{index:t.state.selectedSuggestionIndex+1,instanceId:t.props.id}),e.preventDefault()}else if("ArrowUp"===e.key){if(t.isOnComposition)return;t.state.selectedSuggestionIndex-1>-1?t.context.executeAction(g.default,{index:t.state.selectedSuggestionIndex-1,instanceId:t.props.id}):0===t.state.selectedSuggestionIndex&&t.setUserInput(t.state.searchTerm),e.preventDefault()}else if("Escape"===e.key)t.resetSuggestions();else if("Enter"===e.key){e.preventDefault(),t.resetSuggestions();var o=229!==e.which&&!t.isOnComposition,i={source:t.state.selectedSuggestionIndex>-1?"sa":"sb"};s?s.execute("beacon",{beaconType:"beaconClick",arguments:["uh","srch-enter",0,{elm:"kybrd",itc:0,subsec:"search",tar:"search.yahoo.com",tar_uri:"/search"}]},function(){o&&t.props.onSelect&&t.props.onSelect(i)}):o&&t.props.onSelect&&t.props.onSelect(i)}else 32!==e.keyCode||t.getUserInput().length||t.blur()},handleKeyUp:function(){this.handleValueChange(this.getUserInput())},handleBlur:function(e){this._isSmartphone||this.resetSuggestions()},handleComposition:function(e){"compositionend"===e.type?(this.isOnComposition=!1,this.handleChange(e)):this.isOnComposition=!0},clearInput:function(){this.setState({searchTerm:""}),this.setUserInput(""),this.resetSuggestions()},handleClear:function(e){this.clearInput(),this.focus()},handleSelect:function(e){var t={source:this.state.selectedSuggestionIndex>-1?"sa":"sb"};this.setUserInput(e.fullSuggestion),this.resetSuggestions(),this.props.onSelect&&this.props.onSelect(t)},handleItemEnter:function(e){this.context.executeAction(f.default,{index:e,instanceId:this.props.id})},handleItemExit:function(e){this.context.executeAction(f.default,{index:-1,instanceId:this.props.id})},handleTermComplete:function(e){var t=this.state.suggestions[e].fullSuggestion;this.setState({searchTerm:t}),this.setUserInput(t),this.getSuggestions(t),this.focus()},shouldComponentUpdate:function(e,t){return t.searchTerm!==this.state.searchTerm||t.highlightedSuggestionIndex!==this.state.highlightedSuggestionIndex||t.selectedSuggestionIndex!==this.state.selectedSuggestionIndex||t.suggestions!==this.state.suggestions||t.shouldCleanQuery!==this.state.shouldCleanQuery},render:function(){var e=this,t=e.context.session.isLightWeightBrowser,n=e.props.defaultValue||e.getStore(_.default).state.query,s=(0,c.default)("Z(2)",{"Pos(r)":!e._isSmartphone}),o=(0,c.default)({"Pos(r)":e._isSmartphone}),i={"Pos(r) W(100%) M(0) O(0) O(0):f Bgc(#fff) Z(2) Bxsh(n) Bxsh(n):f Fz(15px) Px(15px) Py(8px)":!0,"Bgc(t)":e.props.searchHint,"Bdrs(0)":!e.props.magnifyingGlass,"Pend(0px)":t,"Pstart(10px)":!e.props.magnifyingGlass&&!t,"Pend(10px)":!e.props.clearBtn&&!t,"Pstart(40px)":e.props.magnifyingGlass&&!t&&!e._isSmartphone,"Pstart(50px)":e.props.magnifyingGlass&&!t&&e._isSmartphone,"Pend(38px)":e.props.clearBtn&&!t,"Bdrs(3px) Bdw(0) Fz(18px)":e._isSmartphone};e.props.className&&(i[e.props.className]=!0);var r={WebkitAppearance:"none"};return t?a.default.createElement("div",{className:s,id:e.props.id},a.default.createElement("div",{className:o},a.default.createElement("input",{"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:(0,c.default)(i),defaultValue:n,key:"userInput",name:e.props.inputName,placeholder:e.props.placeholder,ref:"userInput",style:r,type:"text"}))):a.default.createElement("div",{className:s,id:e.props.id,onBlur:e.handleBlur,onKeyDown:e.handleKeyDown,onKeyUp:e.handleKeyUp},a.default.createElement("div",{className:o},a.default.createElement("input",{"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:(0,c.default)(i),defaultValue:n,key:"userInput"+(this.state.shouldCleanQuery?"-cq":""),name:e.props.inputName,onChange:e.handleChange,onCompositionStart:e.handleComposition,onCompositionUpdate:e.handleComposition,onCompositionEnd:e.handleComposition,placeholder:e.props.placeholder,ref:"userInput",style:r,type:"text"}),this.props.magnifyingGlass&&this.getMaginifyingGlass(),this.getSearchHintInput(),this.getClearBtn()),a.default.createElement(C.default,{footerComponent:e.props.footerComponent,instanceId:e.props.id,isSmartphone:e._isSmartphone,onSelect:e.handleSelect,onItemEnter:e.handleItemEnter,onItemExit:e.handleItemExit,query:e.state.searchTerm,showFooter:e.props.showFooter,termCompleteBtn:e.props.termCompleteBtn,termCompleteHandler:e.handleTermComplete,templateComponent:e.props.templateComponent}))},_getStoreData:function(){var e=this;return{highlightedSuggestionIndex:e.store.getHighlightedSuggestionIndex(e.props.id),selectedSuggestionIndex:e.store.getSelectedSuggestionIndex(e.props.id),shouldCleanQuery:e.store.state.shouldCleanQuery,suggestions:e.store.getSuggestions(e.props.id)}}}),e.exports=t.default},1893:function(e,t){if(void 0===n)var n={};n.ActionCross={name:"ActionCross",height:512,width:512,path:"M341.785 271.19c-8.858-8.98-8.858-23.526 0-32.502L445.14 135.342l23.198-23.193c8.882-9 8.882-23.55 0-32.527L431.263 42.5c-8.657-8.666-23.947-8.666-32.542 0L272.278 169.04c-8.615 8.622-23.904 8.622-32.5 0L113.38 42.5c-8.64-8.666-23.928-8.666-32.59 0L43.696 79.67c-8.926 8.933-8.926 23.48 0 32.48L170.14 238.69c4.396 4.38 6.737 10.105 6.737 16.253 0 6.19-2.34 11.984-6.738 16.25L43.694 397.8c-8.926 8.933-8.926 23.524 0 32.5l37.096 37.017c8.662 8.71 23.95 8.71 32.5.066l126.42-126.54c8.662-8.557 23.907-8.557 32.502 0l126.442 126.54c4.287 4.312 10.053 6.724 16.238 6.724 6.207 0 11.977-2.412 16.262-6.723l37.184-37.188c8.882-8.935 8.882-23.46-.043-32.46l-126.51-126.543z"},void 0!==e&&e.exports&&(e.exports=n.ActionCross)},1894:function(e,t,n){"use strict";function s(e,t,n){i("getSuggestions",t),t=t||{};var s=t.searchTerm||"",o={searchTerm:s,gossipConfig:t.gossipConfig},a=t.instanceId||t.componentProps&&t.componentProps.id,r=Date.now();if(""===s)return e.dispatch("GET_SUGGESTIONS_SUCCESS",{instanceId:a,timeStamp:r,searchTerm:s,searchSuggestions:{hiConf:!1,items:[]}}),void n();e.service.read("searchassist",o,{},function(t,o){if(i("Search assist data",o),t||!o)return e.dispatch("GET_SUGGESTIONS_FAILURE",t),n(t,null);e.dispatch("GET_SUGGESTIONS_SUCCESS",{instanceId:a,timeStamp:r,searchTerm:s,searchSuggestions:o}),n()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),i=(0,o.default)("SearchInput:getSuggestions");e.exports=t.default},1895:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(0)),i=s(n(1)),a=s(n(4)),r=s(n(5)),l=s(n(666));t.default=(0,a.default)({displayName:"MagnifyingGlass",autobind:!1,contextTypes:{theme:o.default.object},propTypes:{active:o.default.bool},render:function(){var e=this.context.theme,t=e?e.getIn(["search","style","magnifying_glass","color"],"#000"):"#000",s=(0,r.default)("Pos(a) Z(2) T(7px) Start(14px)",{"D(n)":!this.props.active});return i.default.createElement("div",{className:s},i.default.createElement(n(21).Icon,{asset:l.default,height:"23",color:t}))}}),e.exports=t.default},1896:function(e,t,n){"use strict";function s(e,t,n){if(i("setHighlightedSuggestion",t),t=t||{},"number"!=typeof t.index)return void n();e.dispatch("SET_HIGHLIGHTED_SUGGESTION",{instanceId:t.instanceId||t.componentProps&&t.componentProps.id,index:t.index}),n()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),i=(0,o.default)("SearchInput:setHighlightedSuggestion");e.exports=t.default},1897:function(e,t,n){"use strict";function s(e,t,n){if(i("setSelectedSuggestion",t),t=t||{},"number"!=typeof t.index)return void n();e.dispatch("SET_SELECTED_SUGGESTION",{instanceId:t.instanceId||t.componentProps&&t.componentProps.id,index:t.index}),n()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),i=(0,o.default)("SearchInput:setSelectedSuggestion");e.exports=t.default},1898:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(0)),i=s(n(1)),a=s(n(4)),r=s(n(23)),l=s(n(665));t.default=(0,a.default)({displayName:"SearchHintInput",autobind:!1,mixins:[r.default],statics:{storeListeners:[l.default]},propTypes:{className:o.default.string,instanceId:o.default.string.isRequired,searchTerm:o.default.string.isRequired,onSearchHintChanged:o.default.func},getInitialState:function(){return{previousSearchHint:"",searchHint:"",searchTerm:""}},componentWillMount:function(){this.onChange=this.onChange.bind(this),this.store=this.getStore(l.default)},componentWillReceiveProps:function(e){this.props.searchTerm!==e.searchTerm&&(this.state.previousSearchHint=this.state.searchHint,this.state.searchHint=""),this.state.searchTerm=e.searchTerm},onChange:function(e){var t,n="",s=this._getStoreData();s&&s.suggestions&&s.suggestions.length&&s.selectedSuggestionIndex<0&&(t=s.suggestions[0],n=t.isStrictMatch?t.fullSuggestion:""),this.state.searchHint=n,this.state.previousSearchHint!==this.state.searchHint&&this.props.onSearchHintChanged&&this.props.onSearchHintChanged(n)},render:function(){return i.default.createElement("input",{className:this.props.className,readOnly:!0,style:{WebkitAppearance:"none"},tabIndex:"-1",value:this.state.searchHint})},_getStoreData:function(){return{selectedSuggestionIndex:this.store.getSelectedSuggestionIndex(this.props.instanceId),suggestions:this.store.getSuggestions(this.props.instanceId)}}}),e.exports=t.default},1899:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(0)),i=s(n(1)),a=s(n(4)),r=s(n(5)),l=s(n(23)),c=s(n(665)),u=s(n(1900));t.default=(0,a.default)({displayName:"SearchSuggestionList",autobind:!1,propTypes:{footerComponent:o.default.func,isSmartphone:o.default.bool,instanceId:o.default.string.isRequired,onSelect:o.default.func,onItemEnter:o.default.func,onItemExit:o.default.func,showFooter:o.default.bool,termCompleteBtn:o.default.bool,termCompleteHandler:o.default.func,templateComponent:o.default.func},contextTypes:{getStore:o.default.func},mixins:[l.default],statics:{storeListeners:[c.default]},getInitialState:function(){return{highlightedSuggestionIndex:-1,selectedSuggestionIndex:-1,suggestions:[]}},componentWillMount:function(){this.onChange=this.onChange.bind(this),this.handleItemClick=this.handleItemClick.bind(this),this.handleItemEnter=this.handleItemEnter.bind(this),this.handleItemExit=this.handleItemExit.bind(this),this.handleTermComplete=this.handleTermComplete.bind(this),this.store=this.getStore(c.default)},onChange:function(e){this.setState(this._getStoreData())},handleItemClick:function(e){this.props.onSelect&&this.props.onSelect(e)},handleItemEnter:function(e){this.props.onItemEnter&&this.props.onItemEnter(e)},handleItemExit:function(e){this.props.onItemExit&&this.props.onItemExit(e)},handleTermComplete:function(e){this.props.termCompleteHandler&&this.props.termCompleteHandler(e)},renderFooter:function(){var e=this.props,t=e.footerComponent;return!0===e.showFooter&&t?i.default.createElement(t,{query:e.query}):null},render:function(){var e=this,t=(0,r.default)("Pos(a) Ta(start) Start(0) End(0) Bgc(#fff) Z(1) Wob(ba)",{"D(n)":!e.state.suggestions.length,"Bd Bdc(#aaa) Bdtw(0) Mt(-1px) Whs(n)":!e.props.isSmartphone,"Mt(11px)":e.props.isSmartphone});return i.default.createElement("div",{className:t,key:"satray"},i.default.createElement("ul",{className:"M(0)"},e.state.suggestions.map(function(t,n){return i.default.createElement(u.default,{index:n,isSmartphone:e.props.isSmartphone,key:n,isSelected:e.state.selectedSuggestionIndex===n||e.state.highlightedSuggestionIndex===n,onSelect:e.handleItemClick,onEnter:e.handleItemEnter,onExit:e.handleItemExit,suggestion:t,templateComponent:e.props.templateComponent,termCompleteBtn:e.props.termCompleteBtn,termCompleteHandler:e.handleTermComplete})})),e.renderFooter())},_getStoreData:function(){var e=this;return{highlightedSuggestionIndex:e.store.getHighlightedSuggestionIndex(e.props.instanceId),selectedSuggestionIndex:e.store.getSelectedSuggestionIndex(e.props.instanceId),suggestions:e.store.getSuggestions(e.props.instanceId)}}}),e.exports=t.default},1900:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(0)),i=s(n(1)),a=s(n(4)),r=s(n(5)),l=s(n(23)),c=s(n(1901)),u=s(n(1902));t.default=(0,a.default)({displayName:"SearchSuggestionItem",autobind:!1,propTypes:{index:o.default.number,isSelected:o.default.bool,isSmartphone:o.default.bool,onSelect:o.default.func,onEnter:o.default.func,onExit:o.default.func,suggestion:o.default.object,templateComponent:o.default.func,termCompleteBtn:o.default.bool,termCompleteHandler:o.default.func},mixins:[l.default],componentWillMount:function(){this.handleTermComplete=this.handleTermComplete.bind(this),this.handleItemClick=this.handleItemClick.bind(this),this.handleItemEnter=this.handleItemEnter.bind(this),this.handleItemExit=this.handleItemExit.bind(this)},getTermCompleteBtn:function(){var e=this;if(e.props.termCompleteBtn&&!e.props.templateComponent){var t={cpos:e.props.index,elm:"btn",itc:0,slk:"srch-asst-complete",subsec:"search"};return i.default.createElement(n(13).I13nButton,{className:"Pos(a) W(36px) H(100%) End(0) T(0) P(0) Bdw(0) Bgc(t) O(0) Cur(p)",model:t,onClick:e.handleTermComplete,type:"button"},i.default.createElement(n(21).Icon,{asset:c.default,className:"Rotate(-45deg)",height:"28",color:"#ccc"}))}},handleItemClick:function(e){var t=this,s=t.props.suggestion,o=n(13).ReactI13n.getInstance();o?o.execute("beacon",{beaconType:"beaconClick",arguments:["uh","srch-asst",0,{cpos:t.props.index,elm:"btn",itc:0,subsec:"search",tar:"search.yahoo.com",tar_uri:"/search"}]},function(){t.props.onSelect&&t.props.onSelect(s)}):t.props.onSelect&&t.props.onSelect(s)},handleItemEnter:function(e){this.props.onEnter&&this.props.onEnter(this.props.index)},handleItemExit:function(e){this.props.onExit&&this.props.onExit(this.props.index)},handleTermComplete:function(e){e.preventDefault(),e.stopPropagation(),this.props.termCompleteHandler&&this.props.termCompleteHandler(this.props.index)},render:function(){var e=this,t=(0,r.default)("D(b) Td(n) Cur(d)",{"Mend(36px)":!e.props.templateComponent}),n=(0,r.default)("Pos(r) Fz(15px)! Cur(p)",{"Bgc(#c6d7ff)":e.props.isSelected,"Bd Bdc(#f1f1f1) Bdw(0) Bdbw(1px) Py(10px) Px(20px)":e.props.isSmartphone,"Py(4px) Px(10px)":!e.props.isSmartphone}),s=e.props.templateComponent||u.default;return i.default.createElement("li",{className:n,onClick:e.handleItemClick,onMouseEnter:e.handleItemEnter,onMouseLeave:e.handleItemExit},this.getTermCompleteBtn(),i.default.createElement("div",{className:t},i.default.createElement(s,{suggestion:this.props.suggestion})))}}),e.exports=t.default},1901:function(e,t){if(void 0===n)var n={};n.ActionAssistArrow={name:"ActionAssistArrow",height:96,width:96,path:"M67.8 39.797L48.002 20 28.198 39.797c-1.56 1.562-1.56 4.094 0 5.656 1.562 1.562 4.102 1.562 5.66 0l10.14-10.14V76h8V35.31l10.145 10.144c1.562 1.562 4.094 1.562 5.656 0s1.56-4.095 0-5.657z"},void 0!==e&&e.exports&&(e.exports=n.ActionAssistArrow)},1902:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(0));t.default=(0,s(n(4)).default)({displayName:"SearchSuggestionTemplate",autobind:!1,propTypes:{suggestion:o.default.object},mixins:[s(n(1622)).default]}),e.exports=t.default},1904:function(e,t,n){"use strict";function s(e){return a.get(e,"componentProps.componentConfig.uh.profile.mode")}function o(e){return n(1751).isEnabled(a.get(e,"componentProps.componentConfig.uh.ui.profile",!1))}function i(e){var t=e.getStore(n(92)),s=e.getStore(n(390));if(t&&s&&e.beacon){var o=t.getGUID(),i=s.getGuid();if(o&&i){e.beacon("info",null,{code:"UHCheckGuid",match:o===i?"1":"0"},{fireOnce:!0})}}}var a={get:n(37)},r=n(3)("uh:actions:loadProfile"),l=n(1751).isClient();e.exports=function(e,t,a){return r("context.session.isLightWeightBrowser",e.session.isLightWeightBrowser),o(t)?e.session.isLightWeightBrowser?void e.executeAction(n(673).getProfile,{},a):l||t.IS_CLIENT?(r("client"),void("client"===s(t)?e.executeAction(n(673).getProfile,{},function(t,n){i(e),a&&a(t,n)}):a&&a(null,null))):(r("server"),void("server"===s(t)?e.executeAction(n(673).getProfile,{},a):a&&a(null,null))):a&&a(null,null)}},1916:function(e,t){if(void 0===n)var n={};n["star-filled"]={name:"star-filled",height:24,width:24,path:"M22.954 8.952c-.126-.39-.49-.652-.9-.652H15.06L12.9 1.652C12.772 1.262 12.41 1 12 1s-.772.263-.898.652L8.94 8.3H1.945c-.41 0-.772.263-.898.652-.127.39.012.815.343 1.056l5.66 4.108-2.163 6.648c-.126.39.012.815.344 1.055.332.24.78.24 1.112 0L12 17.71l5.66 4.11c.165.12.36.18.555.18.194 0 .39-.06.555-.18.33-.24.47-.667.343-1.056l-2.16-6.648 5.658-4.108c.332-.24.47-.667.344-1.056z"},void 0!==e&&e.exports&&(e.exports=n["star-filled"])},1920:function(e,t,n){"use strict";function s(e){return i.get(e,"componentProps.componentConfig.uh.profile.mode")}function o(e){return n(1751).isEnabled(i.get(e,"componentProps.componentConfig.uh.ui.topbarFFPromo",!1))}var i={get:n(37)},a=n(3)("uh:actions:loadFFPromo"),r=n(1751).isClient();e.exports=function(e,t,i){var l;return o(t)&&(r||"client"!==s(t))?(l=e.getStore(n(1757)),void 0!==l.getShowFFPromo()?i&&i(null,null):void e.service.read("UHGetFFPromoService",{},{},function(t,n){n&&(a(n),e.dispatch("FFPROMO_SHOW_STATE",n)),i&&i(null,null)})):i&&i(null,null)}},1921:function(e,t,n){"use strict";function s(e){return i.get(e,"componentProps.componentConfig.uh.mail.data.mode")}function o(e){return n(1751).isEnabled(i.get(e,"componentProps.componentConfig.uh.ui.mail",!1))}var i={get:n(37)},a=n(3)("uh:actions:UHMailActions"),r=n(1803).initializeUHCrumbs,l=n(1751).isClient(),c=function(){var e=(new Date).getTime(),t=null;return"xxxxxxxx-xxxx-xxxx-09xx-xxxxxxxxxx00".replace(/x/g,function(n){return t=(e+16*Math.random())%16|0,e=Math.floor(e/16),t.toString(16)})},u=/%7B/gi,h=/%7D/gi,p=function(e,t,s,o){var r=t.url||"https://mg.mail.yahoo.com/mailservices/v1/newmailcount?appid=UnivHeader&wssid={crumb}&ymreqid={ymreqid}";r=r.replace(u,"{"),r=r.replace(h,"}");var l,p=t.timeout||3e3,d=t.prefix||"__uhmc__",m=c(),f=n(266)(r,{ymreqid:m,crumb:s});n(699)(f,{timeout:p,prefix:d},function(t,n){e.dispatch("MAIL_COUNT_TS"),t&&e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:"timedout",ymreqid:m||""}),n&&n.query?l=i.get(n,"query.results.result.decos.counts.unseen",0).toString():n&&n.newmailcount&&(a("data is: "+n.newmailcount),l=n.newmailcount),l?e.dispatch("NEW_MAIL_COUNT",l):e.dispatch("FETCH_MAIL_COUNT",!1),o&&o(t)})},d=function(e,t,i){a("getMailCount");var c=e.getStore(n(92)),u=e.getStore(n(1775)),h=u.getMailCountCrumb(),m=parseInt(u.getTries(),10);return o(t)?c.isLoaded()?l||"client"!==s(t)?c.isSignedOut()?(a("getMailCount: user is signed out"),i&&i()):(e.dispatch("FETCH_MAIL_COUNT",!0),h?(t&&t.url&&t.url.match(/decos/)&&(h=u.getUcsCrumb()),void p(e,t,h,i)):m>5?(a("getMailCount: retry limit reached"),e.dispatch("FETCH_MAIL_COUNT",!1),e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:"retry limit reached"}),i&&i(null,null)):void r(e,{},function(){d(e,t,i)})):i&&i(null,null):void n(267)(e,t,function(){d(e,t,i)}):i&&i(null,null)},m=function(e,t,s,o){var i=t.url;i=i.replace(u,"{"),i=i.replace(h,"}");var a=t.timeout||3e3,r=t.prefix||"__uhmp__",l=c(),p=n(266)(i,{ymreqid:l,crumb:s});n(699)(p,{timeout:a,prefix:r},function(t,n){n&&e&&(n.error?e.dispatch("OPEN_MAILPREVIEW_FAILURE"):n.query&&n.query.results&&n.query.results.result?e.dispatch("OPEN_MAILPREVIEW_SUCCESS",n.query.results.result):n.query&&n.query.results&&n.query.results.json?e.dispatch("OPEN_MAILPREVIEW_SUCCESS",n.query.results.json):n.query&&0===n.query.count&&e.dispatch("OPEN_MAILPREVIEW_NO_NEW")),o&&o(t||n&&n.error)})},f=function(e,t,s){var o=e.getStore(n(92)),i=e.getStore(n(1775)),l=i.getUcsCrumb();return o.isLoaded()?o.isSignedOut()||o.isRecognized()?(a("getMailPreview: user is signed out or in recognized state"),s&&s()):void(l?m(e,t,l,s):r(e,{},function(){l=i.getUcsCrumb(),l?m(e,t,l,s):s&&s()})):void n(267)(e,{},function(){f(e,{},s)})};e.exports={getMailCount:d,getMailPreview:f}},1922:function(e,t,n){"use strict";var s=n(3)("uh:stores:NavStore");e.exports=n(24)({storeName:"NavStore",handlers:{NAV_FAILURE:"_handleNavFailure",NAV_SUCCESS:"_handleNavSuccess"},initialize:function(){this.state={}},_handleNavFailure:function(e){s("_handleNavFailure","error",e),this.state.error=e||{}},_handleNavSuccess:function(e){s("_handleNavSuccess","payload",e),this.state.data=e&&e.data||{},this.emitChange()},getError:function(){return this.state.error||null},getItems:function(){return this.state.data&&this.state.data.items||[]},getState:function(){return this.state},dehydrate:function(){return this.state},rehydrate:function(e){this.state=e}})},1979:function(e,t,n){(function(t){function s(){this.uri=null,this.catch_up=!1,this.script=null,this.protocol="https://",this.meta={handshake:{channel:"/meta/handshake",version:"1.0",supportedConnectionTypes:["long-polling"]},connect:{channel:"/meta/connect",connectionType:"long-polling"},subscribe:{channel:"/meta/subscribe"},unsubscribe:{channel:"/meta/unsubscribe"},publish:{},disconnect:{channel:"/meta/disconnect"},ack:{channel:"/meta/ack"}},this.ioCfg={method:"POST",headers:{"Content-Type":"application/json",Accept:"*/*"}},this.ext={all:{},handshake:{},subscribe:{"Comet-api-version":"1.1","Comet-subscriber-auth-info":null},unsubscribe:{"Comet-api-version":"1.1","Comet-subscriber-auth-info":null},connect:{},publish:{"Comet-api-version":"1.1","Comet-registration-id":"make-up","Comet-opaque-id":"markup","Comet-acknowledge-URI":"www.yahoo.com/ack","Comet-acknowledge-type":"All"},disconnect:{}},this._clientState="unconnected",this._advice={},this._connected=!1,this._config={backoffIncrement:1e3,maxBackoff:1e4,maxNetworkDelay:3e5,delayedSendMaxCount:10,advice:{timeout:6e4,interval:0,reconnect:"retry"},subscribe:{jsonpTimeout:5e3}},this._delayedSendCount=0,this._urlOrigin="",this._backoff=0,this._isLongpollingConnect=!1,this._isSendingQueue=!1,this._isShutdown=!1,this._clientId=null,this._token=null,this._lastMessageId=0,this._outgoing=[],this._subscribeChannel={},this._ioQueue_c2s=null,this._ioQueue_s2c=null,this._jsonp=null,this._listeners={}}function o(e,t,n){var o=e.replace(/https:/,"http:");return"/"===o.substr(-1)&&(o=o.substring(0,o.length-1)),i[o]||(i[o]=new s,i[o]._initXMLHttpRequest(),i[o].clearListeners()),t&&i[o].addListener("/meta/handshake",t),i[o].initBayeux(e,function(e){},n),i[o]}var i={};s.prototype._initXMLHttpRequest=function(){this._ioQueue_c2s=new XMLHttpRequest({xdomain:!0,enablesXDR:!0}),this._ioQueue_s2c=new XMLHttpRequest({xdomain:!0,enablesXDR:!0})},s.prototype.setUri=function(e){if(null!==e){var t=e.toLowerCase();-1!==t.indexOf("https://")?this.protocol="https://":-1!==t.indexOf("http://")&&(this.protocol="http://"),this.uri=e}},s.prototype.initializer=function(){this.setClientState("unconnected")},s.prototype.config=function(e,t){this._config[e]=t},s.prototype._Queue_send=function(e){var t=this;t._batch(e),t.getClientId()&&(t._isSendingQueue||t._outgoing.length<=0||(t._outgoing.forEach(function(e){e=t._patchMessage(e)}),t._IO_send(!0,t._outgoing),t._outgoing=[]))},s.prototype._nextQueueSend=function(){this._Queue_send()},s.prototype._IO_send=function(e,t){var n=this;if(n.uri)if(e){if(n._isSendingQueue||!t)return;n._IO_Queue_Send(t)}else{if(!n.getClientId())return;if(n._isLongpollingConnect||!t)return;n._IO_Longpolling_Send(t)}},s.prototype._IO_Queue_Send=function(e){var t=this;if(t.setTokenHeader(t._token),!t._isShutdown){t._XHRPolling(this._ioQueue_c2s,{data:e,ontimeout:function(){t._isSendingQueue=!1,t._nextQueueSend(),t._handleFailure(e,"500::io failed")},onstart:function(){t._isSendingQueue=!0},oncomplete:function(){t._isSendingQueue=!1,t._nextQueueSend()},onsuccess:function(n){try{var s=JSON.parse(n);t._handleResponse(s)}catch(n){return void t._handleFailure(e,"json parse error")}},onerror:function(){t._handleFailure(e,"500::io failed")}})}},s.prototype._XHRPolling=function(e,t){var n=this,s=JSON.stringify(t.data);e.open(n.ioCfg.method,n.uri);var o;for(o in n.ioCfg.headers)Object.prototype.hasOwnProperty.call(n.ioCfg.headers,o)&&e.setRequestHeader(o,n.ioCfg.headers[o]);(Object.prototype.hasOwnProperty.call(e,"withCredentials")||Object.getPrototypeOf(e).hasOwnProperty("withCredentials"))&&(e.withCredentials=!0),e.timeout=n._config.maxNetworkDelay,e.ontimeout=t.ontimeout,e.onreadystatechange=function(){switch(e.readyState){case 1:t.onstart&&t.onstart();break;case 2:case 3:break;case 4:t.oncomplete&&t.oncomplete(),200===e.status||1223===e.status?t.onsuccess&&t.onsuccess(e.responseText):t.onerror&&t.onerror();break;default:t.onerror&&t.onerror()}},t.onstart&&t.onstart(),e.send(s)},s.prototype._JSONPPolling=function(e){var t=this,n=t.uri+"?callback=Bayeux_Client_SDK_JSONP_Callback";if(n=n+"&data="+encodeURIComponent(JSON.stringify(e.data)),"undefined"!=typeof document){var s=document.createElement("script");t.script&&(t.script.parentNode.removeChild(this.script),t.script=null),s.async=!0,s.src=n,e.onsuccess&&"undefined"!=typeof window&&(window.Bayeux_Client_SDK_JSONP_Callback=e.onsuccess),e.onerror&&(s.onerror=e.onerror);var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(s,o),this.script=s}},s.prototype._IO_Jsonp_Send=function(e){var t=this;if(t.uri){t._JSONPPolling({data:e,onerror:function(){t._handleFailure(e,"500::jsonp failed")},onsuccess:function(e){t._handleResponse(e)}})}},s.prototype._IO_Longpolling_Send=function(e){var t=this;if(t.setTokenHeader(t._token),!t._isShutdown){t._XHRPolling(this._ioQueue_s2c,{data:e,ontimeout:function(){t._handleFailure(e,"500::io failed")},onstart:function(){t._isLongpollingConnect=!0},oncomplete:function(){t._isLongpollingConnect=!1},onsuccess:function(n){try{var s=JSON.parse(n);t._handleResponse(s)}catch(n){return void t._handleFailure(e,"json parse error")}},onerror:function(){t._isLongpollingConnect=!1,t._handleFailure(e,"500::io failed")}})}},s.prototype._handleResponse=function(e){if(void 0!==e&&null!==e){var t=this;e.forEach(function(e){switch(t._updateAdvice(e.advice),e.originalURI=t._urlOrigin,e.channel){case"/meta/handshake":t._handshakeResponse(e);break;case"/meta/connect":t._connectResponse(e);break;case"/meta/disconnect":t._disconnectResponse(e);break;case"/meta/subscribe":t._subscribeResponse(e);break;case"/meta/shutdown":t._shutdownResponse(e);break;case"/meta/unsubscribe":t._unsubscribeResponse(e);break;default:t._messageResponse(e)}})}},s.prototype._updateAdvice=function(e){this._advice=e?this._mixin(!1,{},this._config.advice,e):this._config.advice},s.prototype._handshakeResponse=function(e){var t=this;if(e.successful){t.setClientState("connected"),t._clientId=e.clientId,t._advice.VIP&&t.setUri(t.protocol+t._advice.VIP+"/comet"),t._notifyListeners("/meta/handshake",e),t._Queue_send();switch(t._isDisconnected()?"none":t._advice.reconnect){case"retry":t._resetBackoff(),t._delayedConnect();break;case"handshake":t.setClientState("unconnected"),t._resetBackoff(),t._delayedHandshake();break;case"none":t._disconnect(!1)}}else t._failHandshake(e)},s.prototype._failHandshake=function(e){var t=this;t.setClientState("unconnected"),t._clientId=null,t._notifyListeners("/meta/handshake",e),t._notifyListeners("/meta/unsuccessful",e),"none"!==t._advice.reconnect?(t._increaseBackoff(),t._delayedHandshake()):t._disconnect(!1)},s.prototype._delayedHandshake=function(){var e=this;this._delayedSend(function(){e._handshake()})},s.prototype._subscribeResponse=function(e){e.successful?(this._subscribeChannel[e.subscription]&&!0===this._subscribeChannel[e.subscription]||(this._subscribeChannel[e.subscription]=!0),e.ext["Comet-auth-token"]&&(this._token=e.ext["Comet-auth-token"]),this._notifyListeners("/meta/subscribe",e)):this._failSubscribe(e)},s.prototype._failSubscribe=function(e){this._notifyListeners("/meta/subscribe",e),this._notifyListeners("/meta/unsuccessful",e)},s.prototype._connectResponse=function(e){var t=this;if(!t._isDisconnected())if(t._connected=e.successful){t.setClientState("connected"),t._notifyListeners("/meta/connect",e);var n=t._isDisconnected()?"none":t._advice.reconnect;switch(n){case"retry":t._resetBackoff(),t._delayedConnect();break;case"handshake":t.setClientState("unconnected"),t._resetBackoff(),t._delayedHandshake();break;case"none":t._disconnect(!1)}}else t._failConnect(e)},s.prototype._failConnect=function(e){var t=this;switch(t._notifyListeners("/meta/connect",e),t._notifyListeners("/meta/unsuccessful",e),t._isDisconnected()?"none":t._advice.reconnect){case"retry":case"subscribe":t._delayedConnect(),t._increaseBackoff();break;case"handshake":t.setClientState("unconnected"),t._resetBackoff(),t._delayedHandshake();break;case"none":t._disconnect(!1)}},s.prototype._delayedConnect=function(){var e=this;this._delayedSend(function(){e._connect()})},s.prototype._disconnectResponse=function(e){e.successful?(this._disconnect(!1),this._notifyListeners("/meta/disconnect",e)):this._failDisconnect(e)},s.prototype._shutdownResponse=function(e){this._disconnect(!0),this._isShutdown=!0,this._notifyListeners("/meta/shutdown",e)},s.prototype._failDisconnect=function(e){this._disconnect(!0),this._notifyListeners("/meta/disconnect",e),this._notifyListeners("/meta/unsuccessful",e)},s.prototype._unsubscribeResponse=function(e){e.successful?(this._subscribeChannel[e.subscription]&&!0===this._subscribeChannel[e.subscription]&&delete this._subscribeChannel[e.subscription],this._notifyListeners("/meta/unsubscribe",e)):this._failUnsubscribe(e)},s.prototype._failUnsubscribe=function(e){this._notifyListeners("/meta/unsubscribe",e),this._notifyListeners("/meta/unsuccessful",e)},s.prototype._messageResponse=function(e){if(void 0===e.successful)if(e.data){var t=n(2170);t.sendNotificationReceived({n_app_id:location.origin,n_rcv_ch:"comet"}),this._notifyListeners(e.channel,e),e.id&&this._ackMessage({msgId:e.id,msgChannel:e.channel})}else this._notifyListeners("/meta/unsuccessful",e);else e.successful?this._notifyListeners("/meta/publish",e):this._failMessage(e)},s.prototype._ackMessage=function(e){this._Queue_send(this._createMessage("ack",e))},s.prototype._failMessage=function(e){this._notifyListeners("/meta/publish",e),this._notifyListeners("/meta/unsuccessful",e)},s.prototype._delayedSend=function(e){var t=this,n=t._advice.interval+t._backoff;if(t._config.maxBackoff<=t._backoff?t._delayedSendCount++:t._delayedSendCount=0,t._delayedSendCount>t._config.delayedSendMaxCount){var s=t.uri;if(t.setUri(t._urlOrigin),s===t.uri)return;t._resetBackoff(),t._delayedSendCount=0}setTimeout(e,n)},s.prototype._handshakeFailure=function(e,t){this._failHandshake({successful:!1,failure:!0,channel:"/meta/handshake",request:e,advice:{reconnect:"retry",interval:this._backoff},error:t||"",ext:e.ext||{},id:e.id||""})},s.prototype._connectFailure=function(e,t){this._connected=!1,this._failConnect({successful:!1,failure:!0,channel:"/meta/connect",request:e,advice:{reconnect:"retry",interval:this._backoff},clientId:e.clientId||"",error:t||"",ext:e.ext||{},id:e.id||""})},s.prototype._disconnectFailure=function(e,t){this._failDisconnect({successful:!1,failure:!0,channel:"/meta/disconnect",request:e,advice:{reconnect:"none",interval:0},clientId:e.clientId||"",error:t||"",ext:e.ext||{},id:e.id||""})},s.prototype._subscribeFailure=function(e,t){this._failSubscribe({successful:!1,failure:!0,channel:"/meta/subscribe",request:e,advice:{reconnect:"none",interval:0},clientId:e.clientId||"",subscription:e.subscription||"",error:t||"",ext:e.ext||{},id:e.id||""})},s.prototype._unsubscribeFailure=function(e,t){this._failUnsubscribe({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:e,advice:{reconnect:"none",interval:0},clientId:e.clientId||"",subscription:e.subscription||"",error:t||"",ext:e.ext||{},id:e.id||""})},s.prototype._messageFailure=function(e,t){this._failMessage({successful:!1,failure:!0,channel:e.channel,request:e,advice:{reconnect:"none",interval:0},clientId:e.clientId||"",subscription:e.subscription||"",error:t||"",ext:e.ext||{},id:e.id||""})},s.prototype._handleFailure=function(e,t){var n,s;for(s=0;s<e.length;++s)switch(n=e[s],n.channel){case"/meta/handshake":this._handshakeFailure(n,t);break;case"/meta/connect":this._connectFailure(n,t);break;case"/meta/disconnect":this._disconnectFailure(n,t);break;case"/meta/subscribe":this._subscribeFailure(n,t);break;case"/meta/unsubscribe":this._unsubscribeFailure(n,t);break;default:this._messageFailure(n,t)}},s.prototype._notifyListeners=function(e,t){this._notify(e,t),this._notify(e+"/*",t);var n,s=e.split("/"),o=s.length-1,i=0;for(i=o;i>0;--i)(n=s.slice(0,i).join("/")+"/*")!==e&&this._notify(n,t)},s.prototype._notify=function(e,t){var n=this._listeners[e];n&&n.forEach(function(e){"function"==typeof e.listener&&e.listener(t)})},s.prototype._isDisconnected=function(){return"unconnected"===this._clientState},s.prototype._resetBackoff=function(){this._backoff=0},s.prototype._nextMessageId=function(){return++this._lastMessageId+""},s.prototype._increaseBackoff=function(){this._backoff<this._config.maxBackoff&&(this._backoff+=this._config.backoffIncrement)},s.prototype.merge=function(){for(var e,t,n=0,s=arguments.length,o={};n<s;++n){t=arguments[n];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])}return o},s.prototype._createMessage=function(e,t){t=t||{};var n=(new Date).valueOf(),s="",o=[],i={};"undefined"!=typeof window&&(s=window.location.host),this.catch_up&&(i={version:"1.2"});var a=this.merge(this.ext.all,this.ext[e],t.ext||{},{timestamp:n,host:s||""});switch(e){case"handshake":o.push(this.merge({id:this._nextMessageId(),ext:a},this.meta[e],i));break;case"connect":o.push(this.merge({id:this._nextMessageId(),ext:a},this.meta[e],{clientId:this.getClientId()}));break;case"subscribe":case"unsubscribe":o.push(this.merge({id:this._nextMessageId(),ext:a},this.meta[e],{clientId:this.getClientId(),subscription:t.channel}));break;case"publish":o.push(this.merge({id:this._nextMessageId(),ext:a},this.meta[e],{clientId:this.getClientId(),channel:t.channel,data:t.data}));break;case"disconnect":o.push(this.merge({id:this._nextMessageId(),ext:a},this.meta[e],{clientId:this.getClientId()}));break;case"ack":o.push(this.merge({id:this._nextMessageId(),ext:a,msgId:t.msgId,msgChannel:t.msgChannel},this.meta[e],{clientId:this.getClientId()}))}return o},s.prototype._handshake=function(e){var t=this;if("unconnected"===t.getClientState()){e&&e.listener&&t._addListener(e,!1),t._clientId=null,t._token=null,t.resetTokenHeader(),t._clearSubscriptions(),t._updateAdvice(t._config.advice);t._IO_send(!0,t._createMessage("handshake",e)),t.setClientState("connecting")}else if("connected"===t.getClientState()){var n={successful:!0,channel:"/meta/handshake",clientId:t._clientId,originalURI:t._urlOrigin};t._notifyListeners("/meta/handshake",n)}},s.prototype._connect=function(e){var t=this;if("connected"===t.getClientState()&&!t._isLongpollingConnect){t._IO_send(!1,t._createMessage("connect",e))}},s.prototype._subscribeJSONP=function(e){if(e&&e.channel&&this.getClientId()&&(!this._subscribeChannel[e.channel]||!0!==this._subscribeChannel[e.channel])){e.listener&&this._addListener(e,!0);this._IO_Jsonp_Send(this._createMessage("subscribe",e))}},s.prototype._unsubscribe=function(e){if(this.getClientId()&&(e&&e.channel&&this.removeListeners(e.channel),e&&e.channel)){this._Queue_send(this._createMessage("unsubscribe",e))}},s.prototype._disconnect=function(e){var t=this;if(e&&(t._ioQueue_c2s.abort(),t._ioQueue_s2c.abort()),t.setClientState("unconnected"),t._clientId=null,t._resetBackoff(),t._outgoing.length>0){var n=t._outgoing;t._outgoing=[],t._handleFailure(n,"500::canceled after disconnect")}t._clearSubscriptions()},s.prototype._patchMessage=function(e){return e.id||(e.id=this._nextMessageId()),e.clientId=this.getClientId(),"/meta/handshake"===e.channel&&delete e.clientId,e},s.prototype._batch=function(){var e=this,t=Array.prototype.slice.call(arguments);(e.isArray(t)||0===t.length)&&t.forEach(function(t){if(t&&e.isArray(t)){var n=0;for(n=0;n<t.length;++n)e._outgoing.push(t[n])}else t&&e._outgoing.push(t)})},s.prototype.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s.prototype._clearSubscriptions=function(){var e,t=this;for(e in t._listeners)if(Object.prototype.hasOwnProperty.call(t._listeners,e)){var n=t._listeners[e];n&&t.isArray(n)&&n.forEach(function(e,t,n){e&&e.isSub&&n.splice(t)})}this._subscribeChannel={}},s.prototype.isDuplicatedListener=function(e,t){var n=0;for(n=0;n<t.length;++n){var s=t[n];if(s&&s.listener&&s.listener.toString()===e.toString())return!0}return!1},s.prototype._addListener=function(e,t,n){e&&e.listener&&"function"==typeof e.listener&&(this._listeners[e.channel]?!n&&this.isDuplicatedListener(e.listener,this._listeners[e.channel])||this._listeners[e.channel].push({listener:e.listener,isSub:t}):this._listeners[e.channel]=[{listener:e.listener,isSub:t}])},s.prototype._mixin=function(e,t,n){var s,o,i=t||{};for(s=2;s<arguments.length;++s){var a=arguments[s];if(void 0!==a&&null!==a)for(o in a)if(Object.prototype.hasOwnProperty.call(a,o)){var r=a[o],l=i[o];if(r===t)continue;if(void 0===r)continue;i[o]=e&&"object"==typeof r&&null!==r?r instanceof Array?this._mixin(e,l instanceof Array?l:[],r):this._mixin(e,{},r):r}}return i},s.prototype.destructor=function(){},s.prototype.getClientState=function(){return this._clientState},s.prototype.setClientState=function(e){this._clientState=e},s.prototype.getClientId=function(){return this._clientId},s.prototype.initBayeux=function(e,t,n){this._urlOrigin=e,this.setUri(e),this.catch_up=n||!1,this._handshake({channel:"/meta/handshake",listener:t})},s.prototype.subscribe=function(e,t){this._subscribeJSONP({channel:e,listener:t})},s.prototype.unsubscribe=function(e){this._unsubscribe({channel:e})},s.prototype.disconnect=function(e){var t=this;if(e&&t._addListener({channel:"/meta/disconnect",listener:e},!1),"unconnected"!==t.getClientState()&&t.getClientId()){t._Queue_send(t._createMessage("disconnect"))}},s.prototype.publishMsg=function(e,t){if(e&&t){this._Queue_send(this._createMessage("publish",{channel:e,data:t}))}},s.prototype.clearListeners=function(){this._listeners={}},s.prototype.addListener=function(e,t,n){n=n||!1,(t||"function"!=typeof t)&&this._addListener({channel:e,listener:t},!1,n)},s.prototype.removeListeners=function(e){this._listeners[e]&&delete this._listeners[e]},s.prototype.setUserInfo=function(e,t){if(e&&t){this.ext.subscribe["Comet-subscriber-auth-info"]={uid:e,user_type:"yahoo",user_cred:t}}},s.prototype.setUserInfoWithCookie=function(e,t){if(e){this.ext.subscribe["Comet-subscriber-auth-info"]={uid:e,user_type:"yahoo",user_cred:"Any Value"}}},s.prototype.setTokenHeader=function(e){if(e){this.ioCfg.headers.Authorization="Basic token="+e}},s.prototype.resetTokenHeader=function(){this.ioCfg.headers.Authorization="Basic token="},s.prototype.setYcaHeader=function(e,t){if(e){this.ioCfg.headers["Yahoo-App-Auth"]=e}if(t){this.ext.publish["Comet-opaque-id"]=t}},Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var n=0,s=this.length;n<s;++n)e.call(t,this[n],n,this)});e.exports={Comet:s,initComet:o},t.Comet=s,t.initComet=o}).call(t,n(19))},1980:function(e,t){function n(){for(var e=0,t="",n="";e<16;e++){var s=Math.floor(62*Math.random());n=s<10?s:String.fromCharCode(s<36?s+55:s+61),t+=n}return t+","+Math.random()}function s(e,t){if(e.length>32){var n="Invalid key length for "+e+". Must be <= 32";throw new Error(n)}if(!/^[\w\-_\u0080-\uFFFF]+$/.exec(e)){var s="Invalid key "+e;throw new Error(s)}if(!/^[\u0002\u0020-\uFFFF]+$/.exec(t)){var o="Invalid value for "+e;throw new Error(o)}}function o(e){for(var t in e)e.hasOwnProperty(t)&&s(t,e[t])}function i(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function a(e,t){for(var n in t)t.hasOwnProperty(n)&&(s(n,t[n]),e[n]=t[n])}function r(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function l(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(s(n,e[n]),t[n]=e[n]);return t}function c(){(this.newTime=function(){this.date=new Date,this.ts=Math.floor(this.date.getTime()/1e3),this.ms=this.date.getMilliseconds()})()}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),e.exports={cacheBuster:n,validate:s,validateObj:o,absorb:i,absorbValid:a,clone:r,cloneValid:l,time:new c}},2014:function(e,t,n){"use strict";e.exports=function(e,t,n){t&&t.followId&&"number"==typeof t.count&&e.dispatch("UPDATE_CLUSTER_COUNT",{data:t}),n&&n()}},2015:function(e,t,n){"use strict";e.exports=function(e,t,n){var s=e.localStorage;s&&s.setItem("storylines-timestamp",Math.floor(Date.now()/1e3)),e.dispatch("GET_STORY_LINES_COUNT_SUCCESS",{data:0}),n&&n()}},2023:function(e,t,n){"use strict";var s=n(3)("uh:actions:loadHeader");e.exports=function(e,t,o){s("Loading the Header");var i=e.getStore("RouteStore");({}).payload=t,e.dispatch("UH_NAVIGATE_INIT_ON_START",i.getCurrentRoute()),n(259)(e,{loadProfile:{action:n(1904),params:t},loadNav:{action:n(2024),params:t},loadTheme:{action:n(2025),params:t},loadFFPromo:{action:n(1920),params:t},loadUHCrumbs:{action:n(1803).initializeUHCrumbs,params:t},registerComposite:{action:n(1598).registerComposite,params:Object.assign({},t,{accountSwitchConfigPath:["uh","account_switch"],compositeName:"account-switch-uh"})}},function(e,t){return e?o&&o(e,null):o&&o(null,t)})}},2024:function(e,t,n){"use strict";function s(e){return n(1751).isEnabled(i.get(e,"componentProps.componentConfig.uh.ui.topbar",!1))}function o(e){return n(1751).isEnabled(i.get(e,"componentProps.componentConfig.uh.data.action.load_nav.cache.enabled",!1))}var i={get:n(37)},a=n(3)("uh:actions:loadNav"),r=n(1751).isClient();e.exports=function(e,t,n){if(!s(t))return n&&n(null,null);if(r)return a("client"),n&&n(null,null);a("server");var i={app:"yahoo",cache:o(t)};a("params",i),e.service.read("nav",i,{},function(t,s){return t?(e.dispatch("NAV_FAILURE",t),n&&n(t,null)):(e.dispatch("NAV_SUCCESS",s),n&&n(null,s))})}},2025:function(e,t,n){"use strict";function s(e,t,s){var r={site:o(e),theme:i(t)},l=e.getStore(n(1798)).getCachedData(r);if(a(t)&&0!==l.size)return c("Get data from cache"),c("data",l),s&&s(null,{message:"ok",statusCode:200,params:r});c("Get data from service"),e.service.read("theme",r,{},function(t,n){return t?(c("err",t),e.dispatch("THEME_FAILURE",t),s&&s(t,null)):(n.params=r,e.dispatch("THEME_SUCCESS",n),s&&s(null,n))})}function o(e){var t=e.getStore("RouteStore"),n=t.getCurrentRoute(),s=null;return n&&(s=l.get(n,"params.contentSite")),n&&!s&&(s=l.get(n,"contentSite")),s||(s=e.session.dimensions.site),s}function i(e){return l.get((e&&e.componentProps||{}).componentConfig||{},"uh.ui.theme",!1)}function a(e){return l.get(e,"componentProps.componentConfig.uh.data.action.load_theme.cache.enabled",!1)}function r(e){return l.get(e,"componentProps.componentConfig.uh.data.action.load_theme.client.enabled",!0)}var l={get:n(37)},c=n(3)("uh:actions:loadTheme"),u=n(1751).isClient();e.exports=function(e,t,n){return c("Loading theme"),u?(c("client"),r(t)?s(e,t,n):(c("no op"),n&&n(null,null))):(c("server"),s(e,t,n))}},2026:function(e,t){e.exports=[{dimensions:[{ynet:{1:null,0:null}},{authed:{2:null,1:null,0:null}},{ssl:{1:null,0:null}},{spdy:{1:null,0:null}},{bot:{1:null,0:null}},{environment:{development:{dev:null,corp:null},integration:{int:null,int1:null},qa:{qa1:null},production:{canary:null,prev:null,prod:null,stage:null},performance:{perf:null}}},{device:{desktop:{full:null,lightweight:null,"desktop-lite":null,"desktop-full":null},mobile:{tablet:{"tablet-lite":null,"tablet-full":null},smartphone:{"smartphone-lite":null,"smartphone-full":null},featurephone:null},tv:null,console:null}},{ecma:{default:null,modern:null}},{partner:{att:null,frontier:null,ideanetsetter:null,none:null,mts:null,rjio:null,rogers:null,smartfren:null,tata:null,tikona:null,tnz:null,verizon:null}},{lang:{ar:{"ar-JO":null,"ar-MA":null,"ar-SA":null,"ar-EG":null},bn:{"bn-IN":null},ca:{"ca-ES":null},cs:{"cs-CZ":null},da:{"da-DK":null},de:{"de-AT":null,"de-DE":null},el:{"el-GR":null},en:{"en-AE":null,"en-AU":null,"en-BG":null,"en-CA":null,"en-GB":null,"en-GY":null,"en-HK":null,"en-IE":null,"en-IN":null,"en-JO":null,"en-MY":null,"en-NZ":null,"en-PH":null,"en-SG":null,"en-US":null,"en-ZA":null},es:{"es-AR":null,"es-BO":null,"es-CL":null,"es-CO":null,"es-EC":null,"es-ES":null,"es-MX":null,"es-PE":null,"es-PY":null,"es-US":null,"es-UY":null,"es-VE":null},fi:{"fi-FI":null},fr:{"fr-BE":null,"fr-CA":null,"fr-FR":null,"fr-GF":null},hi:{"hi-IN":null},hu:{"hu-HU":null},id:{"id-ID":null},it:{"it-IT":null},ja:{"ja-JP":null},kn:{"kn-IN":null},ko:{"ko-KR":null},ml:{"ml-IN":null},mr:{"mr-IN":null},ms:{"ms-MY":null},nb:{"nb-NO":null},nl:{"nl-BE":null,"nl-NL":null,"nl-SR":null},pl:{"pl-PL":null},pt:{"pt-BR":null},ro:{"ro-RO":null},ru:{"ru-RU":null},sv:{"sv-SE":null},ta:{"ta-IN":null},te:{"te-IN":null},th:{"th-TH":null},tr:{"tr-TR":null},vi:{"vi-VN":null},zh:{"zh-Hans":{"zh-Hans-CN":null},"zh-Hant":{"zh-Hant-HK":null,"zh-Hant-TW":null}}}},{region:{ZZ:null,AFRICA:{NG:{ng:null},ZA:{za:null}},ANTARCTICA:null,ASIA_PACIFIC:{OCEANIA:{AUNZ:{AU:{au:null},NZ:{nz:null}}},ASIA:{CN:{cn:null},HK:{h1:null,hk:null},IN:{in:null},ID:{id:null},JP:{jp:null},KR:{kr:null},MY:{my:null},PH:{ph:null},PK:{pk:null},SG:{aa:null,sg:null},TW:{tw:null,k1:null},TH:{th:null},VN:{vn:null}}},XA:{EG:null,MA:null,AE:null,IL:null,JO:{xa:null},SA:null},XE:{xe:null},ME:{me:null},EUROPE:{AT:{at:null},BE:{b2:null,b3:null},BG:{bg:null},CH:{ch:null},CZ:{cz:null},DE:{de:null},DK:{dk:null},EE:{ee:null},ES:{es:null,ct:null},FI:{fi:null},FR:{fr:null},GB:{UK:{uk:null}},GR:{gr:null},HU:{hu:null},IE:{ie:null},IT:{it:null},LT:{lt:null},LV:{lv:null},NL:{nl:null},NO:{no:null},PL:{pl:null},RO:{ro:null},RS:null,RU:null,SE:{se:null},SI:null,SK:null,TR:{tr:null},UA:{ua:null}},AMERICAS:{NORTH_AMERICA:{CA:{ca:null,cf:null,qc:null},MX:{mx:null},US:{us:null,e1:null}},SOUTH_AMERICA:{AR:{ar:null},BO:{bo:null},BR:{br:null},CL:{cl:null},CO:{co:null},EC:{ec:null},GF:{gf:null},GY:{gy:null},PE:{pe:null},PY:{py:null},SR:{sr:null},UY:{uy:null},VE:{ve:null}}}}},{site:{autos:null,beauty:null,celebrity:{omg:null},cricket:null,decor:null,entertainment:null,esports:null,everything:null,fantasy:{dailyfantasy:null},finance:null,food:null,fp:null,games:null,gma:null,health:null,home:null,homes:null,ivy:null,lifestyle:null,lifestyles:null,mail:null,makers:null,movies:null,music:null,my:null,news:{m6info:null},katiecouric:null,parenting:null,politics:null,realestate:null,shopping:null,softwarecenter:null,sports:null,style:null,surfing:null,tech:null,travel:null,tumblr:null,tv:null,weather:null,ytb:null}},{mode:{failsafe:null,fallback:null,normal:null}},{colo:{aws:null,AFRICA:null,ANTARCTICA:null,ASIA_PACIFIC:{OCEANIA:{AUNZ:{AU:{aue:null}}},ASIA:{CN:{cn2:null,cn3:null,cnb:null,cnh:null},HK:{hki:null,hk2:null},IN:{in:null,in2:null},JP:{jp1:null,jp2:null},KR:{kr1:null,kr2:null,kr3:null,krs:null},PH:{ph1:null,ph2:null},SG:{sg:null,sg1:null,sg2:null,sg3:null},TW:{tp2:null,tpc:null,tpe:null,tw1:null}}},EUROPE:{GB:{UK:{ukl:null}},IE:{ird:null,ir2:null},CH:{ch1:null,ch2:null}},AMERICAS:{NORTH_AMERICA:{US:{US_WEST:{cc1:null,gk1:null,scd:null,sk1:null,sp1:null,sp2:null,gq1:null,sw1:null,sql:null},US_MIDWEST:{mud:null,ne1:null},US_EAST:{a2s:null,ac2:null,ac4:null,dcn:null,re1:null,re2:null,re3:null,re4:null,bf1:null}}},SOUTH_AMERICA:{BR:{bro:null}}}}}]}]},2027:function(e,t,n){"use strict";var s={set:n(686)},o=n(4)({mixins:[n(1755),n(23)],contextTypes:{getStore:n(0).func,conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"MailCount",statics:{base:["mail"],className:{style:{mailcount:{wrapper:"_getClassNameMailcountWrapper"}}},storeListeners:[n(1780)]},propTypes:{countConfig:n(0).object,isSmartPhone:n(0).bool},getDefaultProps:function(){return{countConfig:n(7).fromJS({maxCountDisplay:99,pollingInterval:2,pollingDuration:10})}},getInitialState:function(){return this._initConfig(),this.mailStore=this.getStore(n(1780)),this.focusTimeoutValue=null,this.pollingDurationTimer=null,this.pollingIntervalTimer=null,{mailCount:this._getMailCountFromStore()}},componentDidMount:function(){"smartphone"!==this.device&&(window.addEventListener("focus",this._handleWindowFocus),window.addEventListener("blur",this._stopFetchTimer)),this._startDurationTimer(),this._startFetchTimer()},componentWillUnmount:function(){this._stopTimers(),"smartphone"!==this.device?(window.removeEventListener("focus",this._handleWindowFocus),window.removeEventListener("blur",this._stopFetchTimer),window.removeEventListener("mousemove",this._handleKBMouseFocus),window.removeEventListener("keypress",this._handleKBMouseFocus)):window.removeEventListener("mouseup",this._handleKBMouseFocus),clearTimeout(this.focusTimeoutValue)},onChange:function(e){this.setState({mailCount:this._getMailCountFromStore()})},_initConfig:function(){var e=this.context.conf.get("profile"),t=this.props.mail.toJS(),o=t.count,i=n(712)(o.api);this.mode=e.get("mode")||"server",this.fetchConfig={url:i,timeout:o.jsonp.timeout,prefix:o.jsonp.prefix},s.set(this.fetchConfig,"componentProps.componentConfig.uh.profile.mode",this.mode),s.set(this.fetchConfig,"componentProps.componentConfig.uh.ui.mail",!0),this.pollingInterval=6e4*o.pollingInterval,this.pollingDuration=6e4*o.pollingDuration,this.pollingWindow=o.pollingWindow,this.mailCountMaxDisplay=o.maxCountDisplay,this.device=this.props.device||"desktop"},_startFetchTimer:function(){this._fetch(),this.pollingIntervalTimer=setInterval(this._fetch,this.pollingInterval)},_startDurationTimer:function(){var e=this;"smartphone"!==e.device?(window.removeEventListener("mousemove",e._handleKBMouseFocus),window.removeEventListener("keypress",e._handleKBMouseFocus),clearTimeout(this.focusTimeoutValue)):window.removeEventListener("mouseup",e._handleKBMouseFocus),this.pollingDurationTimer=setTimeout(e._stopFetchTimer,e.pollingDuration)},_stopTimers:function(){clearInterval(this.pollingIntervalTimer),clearTimeout(this.pollingDurationTimer)},_stopFetchTimer:function(e){var t=this;e||(t.isSmartPhone?window.addEventListener("mouseup",t._handleKBMouseFocus):(window.addEventListener("mousemove",t._handleKBMouseFocus),window.addEventListener("keypress",t._handleKBMouseFocus))),clearInterval(t.pollingIntervalTimer)},_fetch:function(){var e=this,t=Date.now()-e.mailStore.getTs();!e.mailStore.getFetching()&&this.pollingWindow<t&&e.executeAction(n(1921).getMailCount,e.fetchConfig)},_getMailCountFromStore:function(){return this.mailStore.getMailCount()},_handleWindowFocus:function(e){this._stopTimers(),this._startDurationTimer(),this._startFetchTimer()},_handleKBMouseFocus:function(){var e=this;e.focusTimeoutValue&&clearTimeout(e.focusTimeoutValue),e.focusTimeoutValue=setTimeout(e._handleWindowFocus,1e3)},shouldComponentUpdate:function(e,t){return t.mailCount!==this.state.mailCount},_getClassNameMailcountWrapper:function(){var e=[];return e.push(this.getClassName(o,["style","mailcount","wrapper_1"])),e=n(5)(e)},render:function(){var e=this,t=e.state.mailCount>0,s=e.state.mailCount>e.mailCountMaxDisplay?e.mailCountMaxDisplay+"+":e.state.mailCount,i=this.props.mail.toJS(),a=n(2)(i,["style","mailCount","badge"]),r=n(5)(a||e.getClassName(o,["style","mailcount","wrapper"]),{"Px(3px)":e.state.mailCount>e.mailCountMaxDisplay},{"V(h)":!t},"desktop"!==e.device?e.props.themeMailNotificationBorderColor:"",{"D(n)":!t&&"desktop"!==e.device});return n(1).createElement("span",{id:"uh-mail-count",className:r},s)}});e.exports=o},2028:function(e,t,n){"use strict";function s(){return i=o(n(1892))}function o(e){return e&&e.__esModule?e:{default:e}}var i,a=n(3)("uh:components:search:SearchForm"),r=n(21).Icon,l=n(13).I13nButton,c={i13n:{search:{elm:"btn",itc:"0",slk:"srch-click",subsec:"search"},vertical_search:{elm:"btn",itc:"0",slk:"vert-srch-click",subsec:"search"},cancel:{elm:"btn",itc:"0",slk:"cancel-click",subsec:"cancel"}}},u=n(4)({contextTypes:{conf:n(0).object.isRequired,logger:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},childContextTypes:{theme:n(0).object},displayName:"SearchForm",mixins:[n(1755),n(23)],propTypes:{data:n(0).object},statics:{base:["search"],i13n:c.i13n},_getClassNameContent:function(e){var t=[],s=e?"content_3":"content_2";return t.push(this.getClassName(u,["style","search_button","content_1"])),t.push(this.getClassName(u,["style","search_button",s])),t=n(5)(t),a("_getClassNameContent",t,arguments),t},_getMetaDataAction:function(){return this._getActionUrl(this.state.verticalSearchEnabled?"verticalSearchAction":"action")},_getActionUrl:function(e){var t=null,s=this.context.session;if(!(t=this.getConf(u,e))){var o={protocol:s.protocol,host:s.dimensions.intl+".search.yahoo.com",pathname:"/search"};"e1"===s.dimensions.intl?o.host="espanol.search.yahoo.com":"cf"===s.dimensions.intl?o.host="qc.search.yahoo.com":"us"===s.dimensions.intl&&(o.host="search.yahoo.com"),t=n(25).format(o)}return a("_getMetaDataAction",t,arguments),t},_getMetaDataFrSource:function(){var e=this.state.fr_source;return a("_getMetaDataFrSource",e,arguments),e},_getMetaDataBucket:function(){var e=this.context.session.dimensions.bucket;return a("_getMetaDatBucket",e,arguments),e},_getMetaDataPlaceholderText:function(){var e,t;return t=this.getConf(u,"placeholderText"),t&&(e=this.getIntl(t)),e||(e=" "),a("_getMetaDataPlaceholderText",e,arguments),e},_getNodeSearchLayout:function(){var e=this,t=e.context.session.dimensions.device,s=e._getNodeSearchInput(),o=e._getNodeSearchButton(),i="smartphone"===t?e._getNodeCancelButton():null,a=e.getConf(u,"showSubPartnerLogo")?e._getNodeSubLogo():null;if(/desktop/i.test(t)){var r=e.getClassName(u,["style","table","wrapper"]);return n(1).createElement("table",{className:r},n(1).createElement("tbody",null,n(1).createElement("tr",null,n(1).createElement("td",{className:"W(100%) Va(t) Px(0)"},s),n(1).createElement("td",{className:"Va(t) Tren(os) W(10%) Whs(nw) Px(0) Bdcl(s)"},n(1).createElement("div",{id:"search-buttons"},o)),a)))}return[s,o,i]},_getNodeCancelButton:function(){var e=this;return n(1).createElement(l,{ref:"cancelButton",key:"cancelButton",className:e.getClassName(u,["style","cancel_button","content"]),id:"uh-search-cancel",i13nModel:e.getI13n(u,"cancel"),onClick:e.handleCancel,type:"button"},e.getIntl("CANCEL"))},_getNodeSearchButton:function(){var e,t=this,s=[],o="submit",i=this.getConf(u,["useIcon"],!1),a=this.getConf(u,["icon"]),c=t.getClassName(u,["style","search_button","content_1"]),h=n(5)(c,t.getClassName(u,["style","search_button","content_2"])),p="buttonText";if(t.state.verticalSearchEnabled){var d=n(5)(c,t.getClassName(u,["style","search_button","content_3"]));o="button",e=t.handleWebSearch,p="webSearchButtonText",s.push(n(1).createElement(l,{key:"verticalSearch",className:d,i13nModel:t.getI13n(u,"vertical_search"),id:"vert-search-button",style:t.getClassName(u,["style","search_button","inline_2"]),type:"submit"},t.getIntl(t.getConf(u,"verticalSearchButtonText"))))}return s.push(n(1).createElement(l,{key:"webSearch",className:h,i13nModel:t.getI13n(u,"search"),id:"search-button",onClick:e,style:t.getClassName(u,["style","search_button","inline_1"]),type:o},i&&a?n(1).createElement(r,{asset:a.get("asset").toJS(),height:a.get("height")||a.get("size"),width:a.get("width")||a.get("size"),color:this.getClassName(u,["style","search_button","iconColor"])}):t.getIntl(t.getConf(u,p)))),s},_getNodeSearchInput:function(){var e=this;return n(1).createElement("div",{ref:"searchInputWrapper",key:"searchInputWrapper",className:e.getClassName(u,["style","input","wrapper"])},n(1).createElement((i||s()).default,{autofocus:e.getConf(u,"autofocus"),cancelBtn:e.getConf(u,"cancelBtn"),className:e.getClassName(u,["style","input","content"]),clearBtn:e.getConf(u,"clearBtn"),config:e.getConf(u,"autocomplete").toJS(),footerComponent:e.props.data.get("footer_component"),id:"search-assist-input",inputName:"p",isSmartphone:"smartphone"===e.context.session.dimensions.device,magnifyingGlass:e.getConf(u,"magnifyingGlass"),onFocus:e.handleFocus,onSearchHintChanged:e.handleSearchHintChanged,onSelect:e.handleSubmit,placeholder:e._getMetaDataPlaceholderText(),placeholderIcon:e.getConf(u,"placeholderIcon"),ref:"searchInput",searchHint:e.getConf(u,"searchHint"),showFooter:e.props.data.get("show_footer"),termCompleteBtn:e.getConf(u,"termCompleteBtn"),templateComponent:e.props.data.get("template_component")}))},_getNodeSearchQuery:function(){var e=this,t=e.getSearchOrigin(),s=e.getConf(u,"queries"),o=this.state.verticalSearchEnabled;return s=t.merge(s),s.keySeq().toArray().map(function(t,i){var a=t;if(o&&"fr"===t&&(a="vfr"),"vfr"===t)return null;var r=s.get(a)||"";return Array.isArray(r)&&(r=r.shift()),r=r?n(266)(r,{BUCKET:e._getMetaDataBucket(),SITE:e.getMetaData(u,"site"),FRSOURCE:e._getMetaDataFrSource()}):"",n(1).createElement("input",{ref:"query_"+t,key:i,type:"hidden",name:t,value:r})}.bind(e))},_getNodeSkipNav:function(){if(!n(1751).isEnabled(this.context.conf.getIn(["ui","skip_nav"])))return null;var e={data:this.context.conf.getIn(["skip_nav","data"]).toJS(),style:this.context.conf.getIn(["skip_nav","style"]).toJS()};return n(1).createElement(n(2029),e)},_getNodeSubLogo:function(){return n(1751).isEnabled(this.context.conf.getIn(["ui","logo"]))?n(1).createElement(n(2030),null):null},_onGlowClass:function(){this.setState({buttonGlow:!0})},_onNoGlowClass:function(){this.setState({buttonGlow:!1})},_onNoGlowingClass:function(){this.setState({buttonGlowing:!1})},_onGlowingClass:function(){this.setState({buttonGlowing:!0})},_animateSearchBtn:function(){var e=this;e._onNoGlowClass(),setTimeout(function(){e._onGlowClass(),setTimeout(function(){e._onNoGlowClass(),setTimeout(function(){e._onNoGlowingClass()},1e3)},1e3)},1e3)},componentDidMount:function(){var e=this,t=e.context.session.dimensions.device;if("smartphone"===t||"tablet"===t){var s=n(16).findDOMNode(e.refs.searchInput),o=n(16).findDOMNode(e.refs.cancelButton);s&&s.addEventListener("click",e.handleFocus,!1),o&&o.addEventListener("click",e.handleCancel,!1)}this._animateSearchBtn()},doSubmit:function(e){var t=this.context.conf.get("search").toJS().instantSearch,s="",o=this.refs.searchInput,i=this.refs.searchForm;return s=o.getUserInput(),""===s.trim()?void(e&&e.preventDefault()):t?(this.context.executeAction(n(75),{url:"/search/"+encodeURIComponent(s)}),!1):void(i&&i.submit())},getInitialState:function(){var e=this;return{fr_source:"sb",buttonGlow:!0,buttonGlowing:!0,verticalSearchEnabled:n(1751).isEnabled(e.getConf(u,"verticalSearchEnabled"))&&e.getConf(u,"verticalSearchButtonText")&&e._getActionUrl("verticalSearchAction")}},getSearchOrigin:function(){var e,t=this,s=t.context.conf.get("searchOrigin"),o=n(2)(t,["context","session","query","fr"],null);return o?e=n(7).fromJS({fr:o}):s.get("fr")&&("yfp-t-{BUCKET}"===s.get("fr")||"yfp-hrtab-{BUCKET}"===s.get("fr")||"yfp-hrmob-{BUCKET}"===s.get("fr"))&&t.props.data&&t.props.data.get("site")?(e=n(1840).queries[t.props.data.get("site")],"tablet"===t.context.session.dimensions.device&&"yfp-hrtab-{BUCKET}"===s.get("fr")?e=JSON.parse('{"fr": "yfp-hrtab-{BUCKET}"}'):"smartphone"===t.context.session.dimensions.device&&"yfp-hrmob-{BUCKET}"===s.get("fr")?e=JSON.parse('{"fr": "yfp-hrmob-{BUCKET}"}'):e||(e=n(1840).queries.default),e=n(7).fromJS(e)):e=s,e},handleCancel:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this.refs.searchInput;t&&t.clearInput();var n=this.props.data.get("hide_search_view");n&&n(e)},handleFocus:function(){var e=this.props.data.get("show_search_view");e&&e()},handleSearchHintChanged:function(e){var t=this.context.conf.get("search").toJS().instantSearch;""!==e&&!0===t&&this.context.executeAction(n(75),{url:"/search/"+e})},handleWebSearch:function(e){var t=this,n=t._getActionUrl("action"),s=t.context.conf.getIn(["searchOrigin","fr"]);""!==t.refs.searchInput.getUserInput().trim()&&(t.refs.searchForm.action=n,t.refs.query_fr.value=s),t.handleSubmit(e)},handleSubmit:function(e){a("handleSubmit",e);var t="sb",n=this,s=this.props.data.get("handle_submit"),o="",i=n.refs.searchInput;e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.source&&(t=e.source)),s?(i&&(o=i.getUserInput()),s(o)):(n.setState({fr_source:t}),n.doSubmit())},render:function(){var e=this,t=n(5)(e.getClassName(u,["style","container","content"]),{glow:e.getConf(u,"glowEnabled")&&e.state.buttonGlow,glowing:e.getConf(u,"glowEnabled")&&e.state.buttonGlowing,"two-btn":e.state.verticalSearchEnabled});return n(1).createElement("div",{id:"uh-search",className:e.getClassName(u,["style","container","wrapper"])},n(1).createElement("form",{action:e._getMetaDataAction(),className:t,method:"get",name:"input",onSubmit:e.props.data.get("handle_submit")||e.handleSubmit,ref:"searchForm"},n(1).createElement("label",{className:"Hidden",htmlFor:"search-assist-input"},e.getIntl("SEARCH")),e._getNodeSearchLayout(),e._getNodeSearchQuery()),this._getNodeSkipNav())}});e.exports=u},2029:function(e,t,n){"use strict";var s=n(3)("uh:components:skip_nav/SkipNav");e.exports=n(4)({autobind:!1,displayName:"SkipNav",propTypes:{data:n(0).object,styles:n(0).object},getData:function(){var e,t={items:[]},n=this.props.data&&this.props.data.items||{},o=Object.keys(n).filter(function(e){return n[e].order>0}).sort(function(e,t){return parseInt(n[e].order)-parseInt(n[t].order)});for(e=0;e<o.length;e++)t.items.push(n[o[e]]);return s("getData",t),t},getInitialState:function(){return{data:this.getData()}},render:function(){var e=this.getData(),t=this;if(s("render","data",e),e&&e.items&&0===e.items.length)return null;var o=e.items.map(function(e,s){return n(1).createElement("li",{key:s,tabIndex:"3"},n(1).createElement("a",{className:t.props.style.link.content,href:e.link},e.name))});return n(1).createElement("ul",{id:"skip-nav",className:this.props.style.container.wrapper},o)}})},2030:function(e,t,n){"use strict";var s=n(3)("uh:components:logo:SubLogo"),o=n(13).I13nAnchor,i={i13n:{logo:{elm:"btn",itc:"0",slk:"poweredbyyahoo",subsec:"logo"}}},a=n(4)({autobind:!1,contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired},displayName:"SubLogo",mixins:[n(1755),n(23)],statics:{base:["logo"],className:{style:{cobrand:{yahoo:{content:"_getClassNameCobrandYahooContent"}}}},i13n:i.i13n},_getClassNameCobrandYahooContent:function(){var e=[];return e.push(this.getClassName(a,["style","cobrand","yahoo","content_1"])),e=n(5)(e),s("_getClassNameCobrandYahooContent",e,arguments),e},_getNodeSubLogo:function(){var e=this.context.conf,t=null,s=null,i=this.getIntl(this.getConf(a,"text")||"YAHOO");return n(1751).isEnabled(e.getIn(["ui","logo"]))?(s=this.getClassName(a,["style","template"]),"cobrandSplit"===s&&(t=n(1).createElement("span",null,n(1).createElement("style",null,n(1751).mediaBackgroundImage("#uh-sublogo",this.getClassName(a,["style","cobrand","image_1x"]),this.getClassName(a,["style","cobrand","image_2x"]))),n(1).createElement(o,{id:"uh-sublogo",className:this.getClassName(a,["style","cobrand","yahoo","content"]),href:this.getConf(a,"partnerLink"),i13nModel:this.getI13n(a,"logo")},n(1).createElement("b",{className:"Hidden"},i)))),t):null},getData:function(){return{site:n(1751).getSite(this.context)||this.context.session.dimensions.site}},getInitialState:function(){return s("getInitialState","data",this.getData()),{data:this.getData()}},render:function(){return n(1).createElement("td",null,this._getNodeSubLogo())}});e.exports=a},2031:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o=n(21).Icon,i=n(13).I13nAnchor,a=n(673).getProfile;e.exports=n(4)({displayName:"ProfileCard",mixins:[n(1755),n(23)],contextTypes:{session:n(0).object.isRequired},statics:{initializeAction:a,componentConfig:{name:"componentHeader",filters:"uh"},storeListeners:[n(92),n(390)]},getInitialState:function(){this.UserStore=this.getStore(n(92)),this.ProfileStore=this.getStore(n(390));var e=this.ProfileStore.getProfile(),t=this.props.componentConfig.uh;return{avatar:e&&e.imageUrl||null,email:this.UserStore.getAlias(),firstName:e&&e.nickName||this.UserStore.getFirstName(),isSignedIn:this.UserStore.isSignedIn(),open:n(2)(t,["ui","profileCardOpen"])||!1,componentConfig:t}},onChange:function(){var e=this.ProfileStore.getProfile(),t=this.props.componentConfig.uh;this.setState({avatar:e&&e.imageUrl||null,email:this.UserStore.getAlias(),firstName:e&&e.nickName||this.UserStore.getFirstName(),isSignedIn:this.UserStore.isSignedIn(),open:!this.state.open,componentConfig:t})},render:function(){var e=this,t=e.state.componentConfig,a=t.profile,r=t.ui;if(!e.state.isSignedIn)return null;var l={elm:"itm",itc:"0",slk:"acctinfo",subsec:"profile"},c={elm:"itm",itc:"0",slk:"signout",subsec:"profile"},u=n(5)("uh-profile-card Bgc(#fff)",{"uh-profile-card-open":e.state.open}),h=e.state.avatar,p={email:e.state.email,userName:e.state.firstName||e.getIntl("WELCOME_BACK"),avatarImg:h},d=a.avatarSize,m=h&&h.indexOf("profile_")<0,f=m?{style:{backgroundImage:"url("+h+")",backgroundSize:"cover",width:d,height:d}}:{style:{verticalAlign:"middle",marginRight:"10px"}},g=m?n(1).createElement("i",s({className:"profile-avatar D(ib) Mend(10px) Bdrs(100px)"},f)):n(1).createElement(o,s({asset:n(700),height:d,color:"#32007f"},f));return n(1).createElement("div",{id:this.props.id,className:u},n(1).createElement("div",{className:"P(20px)"},r.profileCardAvatar?g:null,n(1).createElement("div",{className:"D(ib) Va(t) C(#0076e6)"},r.profileCardName?n(1).createElement("div",{className:"profile-name Fw(b) Maw(120px) Ell"},p.userName||e.getIntl("WELCOME_BACK")):null,r.profileCardEmail?n(1).createElement("div",{className:"profile-email Maw(120px) Ell"},p.email):null),n(1).createElement("span",{className:"Fl(end) Px(20px) Py(10px) Cur(p) uh-profile-card-open_Rotate(180deg)",onClick:this.onChange},n(1).createElement(o,{asset:n(693),height:"14",color:"#dfdfdf"}))),n(1).createElement("div",{className:"D(n) uh-profile-card-open_D(b)"},r.profileCardAcctInfo?n(1).createElement(i,{className:"profile-acctinfo D(b) Td(n) C(#000) P(20px) Bdtw(1px) Bdtc(#dfdfdf) Bdts(s)",href:a.settingUrl,i13nModel:l},e.getIntl("ACCOUNT_INFO")):null,r.profileCardSignout?n(1).createElement(i,{className:"profile-signout D(b) Td(n) C(#000) P(20px) Bdtw(1px) Bdtc(#dfdfdf) Bdts(s)",href:a.signoutUrl,i13nModel:c},e.getIntl("SIGNOUT")):null))}})},2052:function(e,t,n){"use strict";var s=n(1751).isClient();e.exports=function(e,t,o){if(!s||!t||!t.onePushAttributes)return o&&o();var i=e.permissionHelper&&e.permissionHelper.getPermissionHelper();if(!i)return o&&o();var a=Object.assign({},t.onePushAttributes);i.fetchPushPermission(function(s,r){if(!s&&r){if("denied"===r.state&&t.overlay)e.executeAction(n(2261),t.overlay.denied,o),i.logOnboardingStart();else if(r.subscriptionKeys)a.channel_id=r.subscriptionKeys,a.device_id=r.deviceId,e.executeAction(n(2333),a,function(t,n){t?i.logSubscriptionFailure():(e.dispatch("MUTE_STATE",{isNotificationMuted:!1}),i.getSubscriptionLog(function(e,t){t&&"completed"!==t.onboardState&&i.logOnboardingCompleted(a.target_id)})),o&&o()});else if(n(1751).setBackoffSubcookie("bnpt"),i.requestPushPermission(function(s,r){if(t.overlay&&(e.executeAction(n(2053),t.overlay.default),s||"denied"===r.state&&e.executeAction(n(2261),t.overlay.denied)),t.trackingClickParams){var l="permission-allow";!s&&r?"denied"===r.state?l="permission-block":"default"===r.state&&(l="permission-dismiss"):s&&(l="permission-error"),e.i13n.executeEvent("beacon",{beaconType:"beaconClick",arguments:[t.trackingClickParams.sec,l,1,t.trackingClickParams]})}!s&&r.subscriptionKeys?(a.channel_id=r.subscriptionKeys,a.device_id=r.deviceId,e.dispatch("PROMO_NOTIF_STATE",{showSubscriptionPromo:!1}),e.dispatch("MUTE_STATE",{showMuteButton:!0}),e.executeAction(n(2333),a,function(n,s){!n&&window.Notification&&"granted"===window.Notification.permission&&t.subscriptionConfirmation&&t.subscriptionConfirmation.enabled&&new window.Notification(t.subscriptionConfirmation.title,{body:t.subscriptionConfirmation.body,icon:t.subscriptionConfirmation.icon}),n?i.logSubscriptionFailure():(i.logOnboardingCompleted(a.target_id),e.dispatch("MUTE_STATE",{isNotificationMuted:!1}),e.i13n.executeEvent("beacon",{beaconType:"beaconEvent",arguments:["push-sub-success",{gcm_id:r.deviceId}]})),o&&o()})):o&&o()}),t.overlay&&e.executeAction(n(2261),t.overlay.default),t.trackingClickParams){var l={elm:"btn",slk:"notification permission request",subsec:"browser-prompt"},c=[{sec:t.trackingClickParams.sec,_links:[l]}],u={beaconType:"beaconLinkViews",arguments:[c]};e.i13n.executeEvent("beacon",u)}}else o&&o()})}},2053:function(e,t,n){"use strict";var s=n(1751).isClient();e.exports=function(e,t,o){if(!s||!t)return o&&o();var i=n(1751).getConfigForOS(e,t);if(!i)return o&&o();var a=document.getElementById(i.overlayId);a&&(document.body.removeChild(a),"hidden"===document.body.style.overflow&&(document.body.style.overflow="")),o&&o()}},2054:function(e,t,n){"use strict";var s=n(3)("uh:components:nav/TopbarNavItem"),o=n(21).Icon,i={i13n:{link:{elm:"itm",itc:"0",sec:"uh"}}},a=n(4)({contextTypes:{conf:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"TopbarNavItem",getDefaultProps:function(){return{data:{group:"main",icon:!1,item:{id:"home",name:"Home",url:"http://www.yahoo.com",order:-1,follow:!1},index:-1,is_open:!1},method:{getClassNameLinkHomeContent:function(){},getClassNameLinkHomeWrapper:function(){},getClassNameLinkHomeIconHomeStyle:function(){}}}},mixins:[n(1755),n(40)],propTypes:{data:n(0).object.isRequired,method:n(0).object},statics:{base:["topbar"],className:{style:{nav_main:{link_home:{content:"_getClassNameLinkHomeContent",wrapper:"_getClassNameLinkHomeWrapper",icon:{home:{style:"_getClassNameLinkHomeIconStyleHome"}}}}}},i13n:i.i13n},_getClassNameLinkHomeContent:function(){var e=this.props.methods.getClassNameLinkHomeContent.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeContent",e,arguments),e},_getClassNameLinkHomeWrapper:function(){var e=this.props.methods.getClassNameLinkHomeWrapper.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeWrapper",e,arguments),e},_getClassNameLinkHomeIconStyleHome:function(){var e=this.props.methods.getClassNameLinkHomeIconHomeStyle.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeIconStyleHome",e,arguments),e},_getNodeContent:function(){return this.props.data.icon?n(1).createElement("div",null,this._getNodeIcon(),n(1).createElement("b",{className:this.getClassName(a,["style",this._getGroup("nav_"),this._getId("link_"),"text"])},this._getName())):this._getName()},_getNodeIcon:function(){var e=this._getId(),t=this.getConf(a,["data","icon",e]);return n(1).createElement(o,{asset:t.get("asset").toJS(),height:t.get("size"),width:t.get("size"),color:this.getClassName(a,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"color"]),style:this.getClassName(a,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"style"])})},_getClassWrapper:function(){var e="link",t=this._getId();return"home"!==t&&"more"!==t||(e=e+"_"+t),this.getClassName(a,["style",this._getGroup("nav_"),e,"wrapper"])},_getClassContent:function(){var e="link",t=this._getId();return"home"!==t&&"more"!==t||(e=e+"_"+t),this.getClassName(a,["style",this._getGroup("nav_"),e,"content"])},_getFollow:function(){return this.props.data.item.follow},_getGroup:function(e,t){return n(1751).strExpand(this.props.data.group,e,t)},_getId:function(e,t){return n(1751).strExpand(this.props.data.item.id,e,t)},_getIndex:function(){return this.props.data.index},_getName:function(){return this.props.data.item.name},_getOrder:function(){return this.props.data.item.order+""},_getUrl:function(){return this.props.data.item.url},_isMenuOpen:function(){return this.props.data.is_open},render:function(){s("data",this.props.data);var e=a.i13n.link;return e.slk=this._getId("uh-tb-"),e.subsec=this._getGroup("tb-"),e.cpos=this._getOrder(),n(1).createElement("li",{id:this._getId("uh-tb-"),className:this._getClassWrapper()},n(1).createElement(n(138),{className:this._getClassContent(),followLink:this._getFollow(),href:this._getUrl(),model:this.getI13n(a,"link",e)},this._getNodeContent()))}});e.exports=a},2169:function(e,t,n){e.exports={comet:n(1979).comet,initComet:n(1979).initComet}},2170:function(e,t,n){function s(e){console.log("Hello from the OnePush beaconing library.");var t=n(2171);n(736).polyfill(),n(1651);var s=t.unregisteredURL(e.spaceID,e.event,e.pageParams);console.log(s),fetch(s,{mode:"no-cors"}).then(function(e){console.log("Beacon sent")})}function o(e){s({spaceID:"2146128169",event:"nsdk_notification_received",pageParams:e})}function i(e){s({spaceID:"2146128169",event:"nsdk_notification_engaged",pageParams:e})}e.exports={sendNotificationReceived:o,sendNotificationEngaged:i}},2171:function(e,t,n){function s(e,t){if("string"!=typeof e&&"number"!=typeof e)throw new Error("Spaceid is REQUIRED");if(parseInt(e)!=e)throw new Error("Spaceid is INVALID");a.time.newTime();var n={_pl:17,_ms:a.time.ms,_ts:a.time.ts,A_v:"YI13N-BG-"+c,_gsqNo:l++};try{t&&a.absorbValid(n,t)}catch(e){throw new Error("pageParams Invalid")}return r(e,"pv",n,null)}function o(e,t,n,s,o){if("string"!=typeof e&&"number"!=typeof e)throw new Error("Spaceid is REQUIRED");if(parseInt(e)!=e)throw new Error("Spaceid is INVALID");if(!t||"string"!=typeof t||!u[t])throw new Error("eventTrigger REQUIRED");if(!n||"string"!=typeof n)throw new Error("eventName REQUIRED");a.time.newTime();var i={_pl:17,_ms:a.time.ms,_ts:a.time.ts,A_v:"YI13N-BG-"+c,etrg:u[t].etrg,usergenf:u[t].usergenf,outcm:n,_gsqNo:l++};try{s&&a.absorbValid(i,s)}catch(e){throw new Error("pageParams Invalid")}if(o){if("object"!=typeof o||Array.isArray(o))throw new Error("interactionParams is INVALID");try{o=a.cloneValid(o)}catch(e){throw new Error("interactionParams are INVALID")}}return r(e,"click",i,o)}function i(e,t,n){if("string"!=typeof e&&"number"!=typeof e)throw new Error("Spaceid is REQUIRED");if(parseInt(e)!=e)throw new Error("Spaceid is INVALID");if(!t||"string"!=typeof t)throw new Error("eventName REQUIRED");a.time.newTime();var s={_pl:17,_ms:a.time.ms,_ts:a.time.ts,A_v:"YI13N-BG-"+c,outcm:t,_gsqNo:l++};try{n&&a.absorbValid(s,n)}catch(e){throw new Error("pageParams Invalid")}return r(e,"lv",s,null)}var a=n(1980),r=n(2172),l=1,c="0.1.3",u={EVENT_TRIGGER_CLICK:{etrg:"click",usergenf:1},EVENT_TRIGGER_PRESS:{etrg:"press",usergenf:1},EVENT_TRIGGER_SWIPE:{etrg:"swipe",usergenf:1},EVENT_TRIGGER_SCROLL:{etrg:"scroll",usergenf:1},EVENT_TRIGGER_HOVER:{etrg:"hover",usergenf:1},EVENT_TRIGGER_DROP:{etrg:"drop",usergenf:1},EVENT_TRIGGER_DRAG:{etrg:"drag",usergenf:1},EVENT_TRIGGER_PINCH:{etrg:"pinch",usergenf:1},EVENT_TRIGGER_ORIENT:{etrg:"orient",usergenf:1}};e.exports={pageViewURL:s,interactionURL:o,unregisteredURL:i}},2172:function(e,t,n){function s(e,t,n,s){var i;i="click"===t?"c":"pv"===t?"b":"p";var a=null,r="";n&&(r=encodeURIComponent(n._R||""),delete n._R,a=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(encodeURIComponent(t+""+n[t]));return("c"===i?"&_K=":"&_P=")+e.join("%04").replace(/'/g,"%27")}());var l=function(){if(!s)return"c"===i?"&_C=%04":null;var e=[];for(var t in s)s.hasOwnProperty(t)&&e.push(encodeURIComponent(t+""+s[t]));return("c"===i?"&_C=":"&_L=")+e.join("%04").replace(/'/g,"%27")}(),c="";"p"===i&&"richview"===t&&(c="&_V=R");var u=["?s="+e,c,"&t="+o.cacheBuster(),"&_I=","&_AO=","&_NOL=","&_R="+r,a,l].join("");return["https://geo.yahoo.com/"+i,u].join("")}var o=n(1980);e.exports=s},2173:function(e,t,n){"use strict";function s(e){this.id=++i,this.channel=e}var o=n(145).EventEmitter,i=0;n(405).inherits(s,o),s.prototype.close=function(){this.emit("close"),this.removeAllListeners()},e.exports=s},2174:function(e,t,n){"use strict";function s(){this._items=[]}function o(){this._item=null,this._ts=null}function i(e,t){this._cfg=l.merge({},c,t),this._channel=e,this._delayTimer=null,this._idleTimer=null,this._channelObj=null,this._meta={channel:this._channel,clientId:null},this._msgQ=null}var a=n(145).EventEmitter,r=n(3)("TDPipe:Pipe"),l={merge:n(26),throttle:n(401)},c={closeOnIdle:!0,maxIdle:3e5,throttleInterval:2e3,seqAlgo:"lastUpdatedTs"},u={};u.none=s,s.prototype={empty:function(){return!this._items.length},pop:function(e,t){var n=this._items;return this._items=[],t&&t(null,n)},push:function(e,t){return this._items.push(e),t&&t(null)}},u.lastUpdatedTs=o,o.prototype={empty:function(){return!this._item},setItem:function(e){this._item=e,this._ts=e.lastUpdatedTs},pop:function(e,t){var n=this._item;return n&&e?(this._item=null,e.lastUpdatedTs&&n.lastUpdatedTs&&n.lastUpdatedTs>=e.lastUpdatedTs?t&&t(null,[n]):t&&t(null,null)):t&&t(null,null)},push:function(e,t){if(!e)return void(t&&t(null));if(!e.lastUpdatedTs)return void(t&&t({code:"invalid-seqId",message:"invalid msg. algo=lastUpdated"}));var n=this._ts,s=e.lastUpdatedTs;return null===n?(this.setItem(e),void(t&&t(null))):n===s?(this.setItem(e),void(t&&t(null))):n<s?(this.setItem(l.merge({},this._item,e)),void(t&&t(null))):t&&t({code:"outofsync",message:n+">"+s})}},i.configComet=function(e){n(1870).config(e)},n(405).inherits(i,a),i.prototype.open=function(e){e=l.merge({delay:0},e);var t,s=e.delay,o=Date.now(),i=this;s>0?(t=o+s,this._delayTimer&&t<this._delayTimer.when&&(this._delayTimer.cancel(),this._delayTimer=null),this._delayTimer||(this._delayTimer=n(1871).later(function(){i._open(e)},s),this._delayTimer.when=t)):this._open(e)},i.prototype.close=function(){this._delayTimer&&(this._delayTimer.cancel(),this._delayTimer=null),this._idleTimer&&(this._idleTimer.cancel(),this._idleTimer=null),this._channelObj&&(this._channelObj.close(),this._channelObj=null)},i.prototype._getSeqId=function(){return"lastUpdatedTs"===this._cfg.seqAlgo&&this.lastUpdatedTs?{lastUpdatedTs:this.lastUpdatedTs}:null},i.prototype._setIdleTimer=function(){var e=this;e._idleTimer&&e._idleTimer.cancel(),e._idleTimer=n(1871).later(function(){e._emit("idle",{idleTime:e._cfg.maxIdle})},e._cfg.maxIdle)},i.prototype._open=function(e){if("none"!==this._cfg.seqAlgo&&null===this._getSeqId())return void this._emit("error",{code:"missing-seqId",message:"pipe missing lastUpdatedTs"});if(this._delayTimer&&(this._delayTimer.cancel(),this._delayTimer=null),!this._channelObj){this._channelObj=n(1870).open(this._channel);var t=this;this._channelObj.on("open",function(e){t._meta.clientId=e.clientId,t._emit("open")}),this._channelObj.on("close",function(e){t._msgQ=null,t._emit("close")}),this._channelObj.on("message",this._onMessage.bind(this)),this._channelObj.on("error",this._onError.bind(this))}},i.prototype._onError=function(e){"subscribe"===e.code?this._emit("error",{code:"open-failed",message:e.message,clientId:e.clientId}):"unsubscribe"===e.code&&this._emit("error",{code:"close-failed",message:e.message,clientId:e.clientId})},i.prototype._defaultThrottleMerge=function(e){var t,n={};return e.forEach(function(e){n=l.merge(n,e.data),t=e.lastUpdatedTs}),t&&(n.lastUpdatedTs=t),n},i.prototype._onMessage=function(e){var t=this;if(!t._msgQ){t._msgQ=new(u[t._cfg.seqAlgo]||u.none)}t.throttled_pop=t.throttled_pop||l.throttle(function(){t._msgQ&&!t._msgQ.empty()&&t._msgQ.pop(t._getSeqId(),function(e,n){if(!e&&n&&n.length){var s=(t._cfg.throttleMerge||t._defaultThrottleMerge)(n);t._emit("message",{data:s})}})},t._cfg.throttleInterval,{trailing:!0}),e.messages.forEach(function(e){e&&(t._setIdleTimer(),t._msgQ&&t._msgQ.push({lastUpdatedTs:e.lastUpdatedTs,data:e.data},function(e){e?t._emit("error",e):t.throttled_pop()}))})},i.prototype._emit=function(e,t){r("emit event",e,t),this.emit(e,t),"idle"===e?this._cfg.closeOnIdle&&this.close():"message"===e&&t&&t.lastUpdatedTs&&(this.lastUpdatedTs=n(1791).parseLastUpdatedTs(t.lastUpdatedTs))},e.exports=i},2259:function(e,t,n){"use strict";var s,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=n(13).createI13nNode,a=n(3)("uh:I13nHoverAnchor");s=i(n(4)({displayName:"HoverAnchor",onMouseEnter:function(){var e,t=this,n=t.props.onHoverPayload;e={beaconType:n.beaconType||"beaconEvent",arguments:n.arguments||[]},t.props.hasPanel||t.props.i13n.executeEvent("beacon",e,function(){a("callback for on mouse hover beacon")})},render:function(){var e=this,t=Object.assign({},e.props);return delete t.onHoverPayload,delete t.i13n,delete t.hasPanel,e.props.onHoverPayload?n(1).createElement("a",o({},t,{onMouseEnter:e.onMouseEnter})):n(1).createElement("a",t)}}),{isLeafNode:!0,bindClickEvent:!0,follow:!0}),e.exports=s},2260:function(e,t,n){"use strict";function s(e,t){var s=n(1590)(e);t=!!t,o("menuState: ",t),t?s.add(i):s.remove(i),this.setState({isVisible:t})}var o=n(3)("uh:mixins:FlyoutMixin"),i="uh-menu-open",a=null,r={mouseenter:!0,focus:!0},l={mouseleave:!0,blur:!0};e.exports={contextTypes:{executeAction:n(0).func.isRequired},getMenuEvents:function(){return{onMouseEnter:this.toggleMenu,onMouseLeave:this.toggleMenu,onFocus:this.toggleMenu,onBlur:this.toggleMenu}},toggleMenu:function(e){var t=this,n=e.currentTarget,i=e.type;e.preventDefault(),o("toggleMenu: ",i,n),t.menuTimeout&&(o("clearTimeout"),clearTimeout(t.menuTimeout)),t.menuTimeout=setTimeout(function(){r[i]&&n===a?s.call(t,n,!0):l[i]&&n!==a&&s.call(t,n,!1)},300),a=r[i]?n:null}}},2261:function(e,t,n){"use strict";var s=n(1751).isClient();e.exports=function(e,t,o){if(!s||!t)return o&&o();var i=n(1751).getConfigForOS(e,t);if(!i)return o&&o();if(!(i.overlayId&&i.imageUrl&&i.imageWidth&&i.imageHeight))return o&&o();var a=document.createElement("div"),r=document.createElement("div");a.id=i.overlayId,a.classList.add("Pos(f)","Bgc(overlayBgc)","T(0)","Start(0)","W(100%)","H(100%)","Z(100)"),"number"!=typeof i.xOffset&&r.classList.add("Mx(a)"),"number"!=typeof i.yOffset&&r.classList.add("Mt(117px)"),r.setAttribute("style","width:"+i.imageWidth+"px;height:"+i.imageHeight+"px;background: url("+i.imageUrl+") 0 0/"+i.imageWidth+"px "+i.imageHeight+"px no-repeat;"+("number"==typeof i.xOffset?"margin-left:"+i.xOffset+"px;":"")+("number"==typeof i.yOffset?"margin-top:"+i.yOffset+"px;":"")),a.appendChild(r),document.body.appendChild(a),i.pauseUserAction&&(document.body.style.overflow="hidden"),n(2053)&&(document.onkeydown=function(s){s=s||window.event;var o;(o="key"in s?"Escape"===s.key||"Esc"===s.key:27===s.keyCode)&&e.executeAction(n(2053),t)},i.pauseUserAction||(a.onclick=function(s){e.executeAction(n(2053),t)})),o&&o()}},2262:function(e,t,n){"use strict";function s(e){return!!(e&&e.channel_type&&e.channel_id&&e.app_id&&e.target_id&&e.target_type&&e.device_id)}function o(e){return!!(e&&e.channel_type&&e.channel_id&&e.app_id&&e.target_id&&e.target_type)}function i(e){return!!(e&&e.channel_type&&e.channel_id&&e.app_id&&e.target_type)}function a(e){return!!e&&!!e.imageTag&&!!e.lang}function r(e){return e?e.replace(u,"*"):e}function l(e,t,s){if(e){if(t&&s){var o=n(25).parse(e,!0);return o.query[t]=s,o.search=void 0,o.format()}return e}return""}function c(e,t,s){return t=t||"ucs",s=s||"lnct",n(192).getSub(t,s,{},e)}var u=/[^\w\.]+/g;e.exports={appendUrlParam:l,checkHasSubscriptionPayload:i,checkHistoryPayload:a,checkRemoveSubscriptionPayload:o,checkSetSubscriptionPayload:s,readTimestampFromCookie:c,sanitizeResourceName:r}},2263:function(e,t,n){"use strict";e.exports=n(4)({contextTypes:{executeAction:n(0).func.isRequired,getStore:n(0).func.isRequired,renderTarget:n(0).object,session:n(0).object},propTypes:{label:n(0).string,labelBackground:n(0).string,labelColor:n(0).string,pointerColor:n(0).string},displayName:"ShareReminder",getInitialState:function(){return{showReminder:!1}},getDefaultProps:function(){return{label:"Remember to share!",labelBackground:"Bgc(#2592fc)",labelColor:"C(#fff)",pointerColor:"Bdtc(#2592fc) Bdbc(#2592fc)"}},componentDidMount:function(){this.setState({showReminder:!0})},render:function(){if(!this.state.showReminder)return null;if(!(this.props.componentConfig||{}).enableFBShareReminder||!n(1751).isFacebookApp())return null;var e=this.props,t={bubble:"reminder-bubble Pos(a) Ov(v) D(ib) Z(1) H(a) W(a) T(3px) P(0) End(0)",container:"Pos(f) End(2px)",cover:"Z(1) Pos(r) W(130px)",label:n(5)("Pos(r) Bdrs(5px) Pstart(4px) Pend(4px) Pt(8px) Pb(8px) Fz(11px) Ff(Helvetica Neue) Fw(n)",e.labelBackground,e.labelColor,"reminder-label"),pointer:n(5)("Pos(a) Bds(s) Bdtw(0) Bdstartw(6px) Bdbw(7px) Bdendw(6px) Bdstartc(t)","Bdendc(t) D(b) H(0) W(0) Z(1) T(0) Start(72%)",e.pointerColor)};return n(1).createElement("div",{className:"reminder-bubble-container"},n(1).createElement("div",{className:t.container},n(1).createElement("div",{className:t.cover},n(1).createElement("div",{className:t.pointer}),n(1).createElement("div",{className:t.bubble},n(1).createElement("div",{className:t.label},e.label)))))}})},2331:function(e,t,n){"use strict";var s,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=n(13).createI13nNode,a=n(3)("uh:I13nHoverButton"),r={cloneDeep:n(725),merge:n(26)};s=i(n(4)({displayName:"HoverButton",fireBeacon:function(){var e=this,t=r.cloneDeep(e.props.hoverI13Params),n={itc:2},s={beaconType:"beaconClick",arguments:["uh",t.slk,0,r.merge(t,n)]};e.props.hasPanel||e.props.i13n.executeEvent("beacon",s,function(){a("callback for on mouse hover/focus beacon")})},render:function(){var e=this,t=Object.assign({},e.props);return delete t.hoverI13Params,delete t.hasPanel,delete t.i13n,e.props.hoverI13Params?n(1).createElement("button",o({},t,{onMouseEnter:e.fireBeacon,onFocus:e.fireBeacon})):n(1).createElement("button",t)}}),{isLeafNode:!0,bindClickEvent:!0,follow:!0}),e.exports=s},2332:function(e,t,n){"use strict";e.exports={clientUtils:n(787),clientExtHelper:n(2718)}},2333:function(e,t,n){"use strict";e.exports=function(e,t,s){if(!n(2262).checkSetSubscriptionPayload(t))return s&&s("Incomplete payload");e.service.update("subscriptions.setSubscription",null,t,function(t,o){if(t&&e){e.beacon("error","subscriptionService",{code:"serviceFailure",msg:t.responseText||t.statusText||t.message})}else{var i=n(2)(o,["query","results","json","error_msg"],"");e.beacon("info","subscriptionService",{code:"serviceSuccess",msg:i})}s&&s(t,o)})}},2334:function(e,t,n){"use strict";var s=n(3)("uh:components:profile:SignedOutProfile"),o={i13n:{signed_in:{elm:"btn",itc:"0",slk:"signin",subsec:"profile"}}},i=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"SignedOutProfile",mixins:[n(1755),n(40)],propTypes:{data:n(0).object.isRequired},statics:{base:["profile"],className:{style:{button:{content:"_getClassNameContent",wrapper:"_getClassNameWrapper"}}},i13n:o.i13n},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(i,["style","button","content_1"])),e.push(this.getClassName(i,["style","button","content_2"])),e=n(5)(e),s("_getClassNameContent",e,arguments),e},_getClassNameWrapper:function(){return s("_getClassNameWrapper",null,this.arguments),null},_getMetaDataDoneUrl:function(){var e=this.getMetaData(i,"page_url");return s("_getMetaDataDoneUrl",e),e},_getMetaDataLink:function(){var e=null,t=this.context.session.dimensions,o=["urls","signed_in","query"],a=this.getConf(i,["urls","signed_in"])||n(7).Map();return a=a.mergeDeep({query:{".intl":this.getConf(i,o.concat([".intl"]))||t.intl,".lang":this.getConf(i,o.concat([".lang"]))||t.lang,".src":this.getConf(i,o.concat([".src"]))||this.getMetaData(i,"site")||t.site,".done":this.getConf(i,o.concat([".done"]))||this._getMetaDataDoneUrl()}}).toJS(),e=n(25).format(a),s("_getMetaDataLink",e),e},render:function(){return n(1).createElement("li",{className:this.getClassName(i,["style","button","wrapper"])},n(1).createElement(n(2259),{id:"uh-signedin",className:this.getClassName(i,["style","button","content"]),onHoverPayload:this.getClassName(i,["onHoverI13nSignOut"]),hasPanel:!0,href:this._getMetaDataLink(),i13nModel:this.getI13n(i,"signed_in"),style:this.getClassName(i,["style","button","inline"])},this.getIntl("SIGNIN")))}});e.exports=i},2335:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o=n(1869).comet,i=n(3)("uh:components:profile:SignedInProfile"),a=n(13).I13nAnchor,r=n(1869).Pipe,l=n(1598).Avatar,c=n(1598).UHAccountSwitchStore,u={i13n:{signed_out:{elm:"btn",itc:"0",slk:"signout",subsec:"profile"},account_info:{elm:"itm",itc:"0",slk:"acct-info",subsec:"profile"},signed_in:{elm:"btn",itc:"1",slk:"profile",subsec:"profile"}}},h=n(4)({contextTypes:{conf:n(0).object.isRequired,executeAction:n(0).func.isRequired,getStore:n(0).func,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"SignedInProfile",mixins:[n(1755),n(23),n(2260)],propTypes:{data:n(0).object.isRequired},statics:{base:["profile"],className:{style:{avatar:{image:"_getClassNameImage"},button:{content:"_getClassNameContent"}}},i13n:u.i13n,storeListeners:[n(1821)]},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(h,["style","button","content_1"])),e.push(this.getClassName(h,["style","button","content_2"])),e=n(5)(e),i("_getClassNameContent",e,arguments),e},_getClassNameImage:function(){var e=this.getMetaData(h,"alias"),t=null,s=this.getMetaData(h,"image");return this.context.session&&this.context.session.isCorpUser&&(s=n(25).format({protocol:"https",hostname:"backyard.yahoo.com",pathname:["/isweb-icons/staff/",e.replace("@yahoo-inc.com",""),"_square.jpg"].join("")})),t={backgroundImage:"url("+s+")"},i("_getClassNameImage",t,arguments),t},_getMetaDataAccountInfoLink:function(){var e=null,t=this.context.session.dimensions,s=["urls","account_info","query"],o=this.getConf(h,["urls","account_info"])||n(7).Map();return o=o.mergeDeep({query:{".intl":this.getConf(h,s.concat([".intl"]))||t.intl,".lang":this.getConf(h,s.concat([".lang"]))||t.lang,".src":this.getConf(h,s.concat([".src"]))||this.getMetaData(h,"site")||t.site}}).toJS(),e=n(25).format(o),i("_getMetaDataAccountInfoLink",e,arguments),e},_getMetaDataDoneUrl:function(){var e=this.getMetaData(h,"page_url");return i("_getMetaDataDoneUrl",e),e},_getMetaDataName:function(){var e=null;return this.props.data.get("first_name")?e=this.props.data.get("first_name"):this.props.data.get("alias")&&(e=this.props.data.get("alias")),i("_getMetaDataName",e,arguments),e},_getMetaDataSignedOutLink:function(){var e=null,t=this.context.session,s=t.dimensions,o=["urls","signed_out","query"],a=this.getConf(h,o.concat([".intl"]))||s.intl,r=this.getConf(h,["urls","signed_out"])||n(7).Map();return r=r.mergeDeep({query:{".intl":a,".lang":this.getConf(h,o.concat([".lang"]))||s.lang,".src":this.getConf(h,o.concat([".src"]))||this.getMetaData(h,"site")||s.site,".done":this.getConf(h,o.concat([".done"]))||n(1751).getLogoUrl(a,t.protocol)||this._getMetaDataDoneUrl()}}).toJS(),e=n(25).format(r),i("_getMetaDataSignedOutLink",e,arguments),e},_getNodeAccountSwitch:function(){var e=this.getStore(n(10)),t=e.getComposite("account-switch-uh"),s=null;return t&&t.components?(s=this._getNodeNotifications(),s&&t.components[0]&&t.components[0].props&&(t.components[0].props.notifications=s),n(1).createElement(n(197),{components:t.components})):null},_getNodeAccountInfo:function(){return n(1).createElement("div",{className:this.getClassName(h,["style","account_info","wrapper"])},n(1).createElement("div",{className:this.getClassName(h,["style","account_info","name"])},this._getMetaDataName()),n(1).createElement("div",{className:this.getClassName(h,["style","account_info","alias"])},this.getMetaData(h,"alias")),n(1).createElement(a,{id:"uh-settings",className:this.getClassName(h,["style","account_info","content"]),href:this._getMetaDataAccountInfoLink(),i13nModel:this.getI13n(h,"account_info")},this.getIntl("ACCOUNT_INFO")))},_getNodeSignedOut:function(){return n(1).createElement("div",{className:this.getClassName(h,["style","signed_out","wrapper"])},n(1).createElement(a,{id:"uh-signedout",className:this.getClassName(h,["style","signed_out","content"]),href:this._getMetaDataSignedOutLink(),i13nModel:this.getI13n(h,"signed_out")},this.getIntl("SIGNOUT")))},_getNodePanel:function(){var e=this.getClassName(h,["style","panel","wrapper"]);return this.getStore(c).getIsEnabled()?n(1).createElement("div",{className:e},this._getNodeAccountSwitch()):n(1).createElement("div",{className:e},this._getNodeAccountInfo(),this._getNodeNotifications(),this._getNodeSignedOut())},getData:function(){var e=this;return{fetched:e.notificationsStore.getFetched(),isNotificationsEnabled:n(1751).isEnabled(e.getConf({},["ui","profileNotifications"])),notifications:e.notificationsStore.getNotifications(),notificationsCount:e.notificationsStore.getNotificationsCount()}},getInitialState:function(){var e=this;return e.notificationsStore=e.getStore(n(1821)),{data:e.getData()}},menuTriggerHandler:function(e){var t=this,s=t.state.data;s.isNotificationsEnabled&&"1"===t.context.session.dimensions.authed&&!s.fetched&&(t.context.executeAction(n(2336).getNotificationsPreview),s.notificationsCount>0&&t.context.executeAction(n(2336).clearNotificationsCount)),t.props.triggerAccountFetch&&t.props.triggerAccountFetch(),t.toggleMenu(e)},onChange:function(e){this.mounted&&this.setState({data:this.getData()})},_getNodeAvatar:function(){var e=this.getClassName(h,["style","avatar"]),t={src:this.getMetaData(h,"image"),name:this._getMetaDataName(),enableAlphatar:this.getConf({},["ui","alphatar"])};return n(1).createElement(n(2331),{id:"uh-profile",i13nModel:this.getI13n(h,"signed_in"),hasPanel:this.state.isVisible,hoverI13Params:this.getI13n(h,"signed_in"),className:e.wrapper},n(1).createElement(l,s({},t,{styles:{avatar:e}})),n(1).createElement("b",{className:e.name},this._getMetaDataName()))},_getNodeNotificationsCount:function(){return n(1).createElement(n(2736),null)},_getNodeNotifications:function(){var e=this,t=e.state.data,s=null;return t.isNotificationsEnabled&&"1"===e.context.session.dimensions.authed&&t.notifications&&t.notifications.length>0&&(s=n(1).createElement("ul",{className:"Pos(r) M(0)! P(0)! Whs(nw) W(100%)"},n(1).createElement("li",{className:"Px(16px) M(0) uhNotiHeader D(ib) Zoom Va(t) Fz(11px) C(#000)"},"Notifications"),t.notifications.map(function(t){return n(1).createElement("li",{key:t.position,className:"Px(16px) C(#000) uhNotification Pos(r)"},n(1).createElement(a,{className:"Pos(r) D(b) Py(6px) C(#000)! Cf",href:t.link},n(1).createElement("div",{className:"Zoom Lts(n) Tren(a) Va(t) Whs(n) Lh(15px)"},n(1).createElement("span",{className:"W(3/4) M(0) P(0) Ell Fz(13px) uhNotification:h_Td(u)",dangerouslySetInnerHTML:{__html:t.title}}),n(1).createElement("span",{className:"Mx(0) P(0) Fw(200) Op(.66) Fl(end) W(1/4) Lts(n) Tren(a) Va(t) Ta(end) Ell Fz(10px)"},e.context.intl.formatRelative(t.timestamp))),n(1).createElement("div",{className:"M(0) P(0) Ell C(#abaeb7)! Fz(13px)",dangerouslySetInnerHTML:{__html:t.text}})))}),n(1).createElement("li",{className:"Whs(n)"},n(1).createElement(a,{className:"Fz(13px) Fw(n) D(b) Td(n) Td(u):h C(#324fe1) Pb(10px) Px(16px)",href:"https://www.yahoo.com/notifications"},"View all")))),s},componentDidMount:function(){var e=this;e.mounted=!0;var t=e.getConf({},["notifications","comet","config"]),n=e.getConf({},["notifications","comet","channel"]);e.state.data.isNotificationsEnabled&&"1"===e.context.session.dimensions.authed&&t&&n&&(o.config(t.toJS()),e.pipe=new r(n,{seqAlgo:"none"}),e.pipe.on("open",function(e){i("pipe is now open")}),e.pipe.on("close",function(e){i("pipe is now closed")}),e.pipe.on("message",function(t){t&&t.data&&t.data.count&&e.notificationsStore.setCount(t),i("message received:",t.data)}),e.pipe.on("error",function(e){i("code:",e.code,"message:",e.message)}),e.pipe.open())},componentWillUnmount:function(){this.mounted=!1,this.pipe&&this.pipe.close()},render:function(){return this.context.session.isLightWeightBrowser?n(1).createElement("li",{className:this.getClassName(h,["style","button","wrapper"])},n(1).createElement(a,{id:"uh-signedin",href:this._getMetaDataSignedOutLink(),className:this.getClassName(h,["style","button","content"]),i13nModel:this.getI13n(h,"signed_out")},this.getIntl("SIGNOUT"))):n(1).createElement("li",{className:this.getClassName(h,["style","container","wrapper"]),onFocus:this.menuTriggerHandler,onBlur:this.toggleMenu,onMouseEnter:this.menuTriggerHandler,onMouseLeave:this.toggleMenu},this._getNodeAvatar(),this._getNodeNotificationsCount(),this._getNodePanel())}});e.exports=h},2336:function(e,t,n){"use strict";var s=n(3)("uh:actions:UHNotificationsActions");e.exports={getNotificationsPreview:function(e,t,n){s("getNotificationsPreview"),e.service.read("UHGetNotificationsPreviewService",{},{},function(t,s){!t&&s&&e.dispatch("GET_NOTIFICATIONS_PREVIEW_DATA_SUCCESS",{data:s}),n&&n(null,null)})},clearNotificationsCount:function(e,t,n){s("getNotificationsPreview"),e.service.read("UHClearNotificationsCountService",{},{},function(e,t){n&&n(null,null)})}}},2337:function(e,t,n){"use strict";var s=n(3)("uh:components:nav/TopbarNavDropdownItem"),o=Object.assign,i=n(13).I13nAnchor,a=n(21).Icon,r={i13n:{link:{elm:"itm",itc:"0",sec:"uh"}}},l=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"TopbarNavDropdownItem",getDefaultProps:function(){return{data:{group:"main",icon:!1,item:{id:"home",name:"Home",url:"http://www.yahoo.com",order:-1,follow:!1},index:-1,is_open:!1,getClassNameLinkHomeIconHomeStyle:function(){}},methods:{getClassNameLinkHomeIconHomeStyle:function(){},getClassNameLinkHomeContent:function(){},getClassNameLinkHomeWrapper:function(){}}}},mixins:[n(1755),n(40)],propTypes:{data:n(0).object.isRequired,methods:n(0).object.isRequired},statics:{base:["topbar"],className:{style:{nav_main:{link_home:{content:"_getClassNameLinkHomeContent",wrapper:"_getClassNameLinkHomeWrapper",icon:{down_arrow:{style:"_getClassNameLinkHomeIconStyleDownArrow"},home:{style:"_getClassNameLinkHomeIconStyleHome"}}},link_more:{content:"_getClassNameLinkMoreContent",wrapper:"_getClassNameLinkMoreWrapper",icon:{down_arrow:{style:"_getClassNameLinkMoreIconStyleDownArrow"}}}}}},i13n:r.i13n},_getClassNameLinkHomeIconStyleDownArrow:function(){var e=null,t=["style","nav_main","link_home","icon","down_arrow"];return e=this.getClassName(l,t.concat(["inline"])),e&&(e=this._isMenuOpen()?o(e,{fill:this.getClassName(l,t.concat(["color_2"]))}):o(e,{fill:this.getClassName(l,t.concat(["color_1"]))})),s("_getClassNameLinkHomeIconStyleDownArrow",e,arguments),e},_getClassNameLinkHomeIconStyleHome:function(){var e=this.props.methods.getClassNameLinkHomeIconHomeStyle.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeIconStyleHome",e,arguments),e},_getClassNameLinkHomeContent:function(){var e=this.props.methods.getClassNameLinkHomeContent.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeContent",e,arguments),e},_getClassNameLinkHomeWrapper:function(){var e=this.props.methods.getClassNameLinkHomeWrapper.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeWrapper",e,arguments),e},_getClassNameLinkMoreIconStyleDownArrow:function(){var e=null,t=["style","nav_main","link_more","icon","down_arrow"];return e=this.getClassName(l,t.concat(["inline"])),e&&(e=this._isMenuOpen()?o(e,{fill:this.getClassName(l,t.concat(["color_2"]))}):o(e,{fill:this.getClassName(l,t.concat(["color_1"]))})),s("_getClassNameLinkMoreIconStyle",e,arguments),e},_getClassNameLinkMoreContent:function(){var e=[],t=["style","nav_main","link_more"];return e.push(this.getClassName(l,t.concat(["content_1"]))),this._isMenuOpen()&&e.push(this.getClassName(l,t.concat(["content_2"]))),e=n(5)(e),s("_getClassNameLinkMoreContent",e,arguments),e},_getClassNameLinkMoreWrapper:function(){var e=[],t=["style","nav_main","link_more"];return e.push(this.getClassName(l,t.concat(["wrapper_1"]))),this._isMenuOpen()&&e.push(this.getClassName(l,t.concat(["wrapper_2"]))),e=n(5)(e),s("_getClassNameLinkMoreWrapper",e,arguments),e},_getNodeContent:function(){return this.props.data.icon?n(1).createElement("span",null,this._getNodeIcon(),n(1).createElement("b",{className:this.getClassName(l,["style",this._getGroup("nav_"),this._getId("link_"),"text"])},this._getName())):n(1).createElement("span",{className:this.getClassName(l,["style",this._getGroup("nav_"),this._getId("link_"),"text"])},this._getName())},_getNodeIcon:function(){return this._getIcon(this._getId())},_getNodeIconDownArrow:function(){return this.context.session.isLightWeightBrowser?null:this._getIcon("down_arrow")},_getNodeLink:function(){return n(1).createElement(i,{id:this._getId("uh-tb-","-link"),className:this.getClassName(l,["style",this._getGroup("nav_"),this._getId("link_"),"content"]),href:this._getUrl(),follow:!1,onClick:this._handleClick,onKeyDown:this._handleKeyDown,role:"button",i13nModel:this.getI13n(l,"link",{slk:this._getId(),subsec:"tb",cpos:this._getIndex()+1+""})},this._getNodeContent(),this._getNodeIconDownArrow())},_getNodeMenu:function(){if(!this._isMenuOpen())return null;var e={group:this._getId(),items:this.props.children};return n(1).createElement(n(2740),{data:e})},_getGroup:function(e,t){return n(1751).strExpand(this.props.data.group,e,t)},_getIcon:function(e){var t=this.getConf(l,["data","icon",e]);return n(1).createElement(a,{asset:t.get("asset").toJS(),height:t.get("size"),width:t.get("size"),color:this.getClassName(l,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"color"]),style:this.getClassName(l,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"style"])})},_getId:function(e,t){return n(1751).strExpand(this.props.data.item.id,e,t)},_getIndex:function(){return this.props.data.index},_getName:function(){return this.props.data.item.name},_getUrl:function(){return this.props.data.item.url},_handleClick:function(e){e.preventDefault(),s("_handleClick","id",this._getId()),this.props.methods.click.call(this,e,this._getId())},_handleKeyDown:function(e){13!==e.keyCode&&40!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),s("_handleKeyDown","keyCode",e.keyCode,"id",this._getId()),40===e.keyCode||this.props.methods.click.call(this,e,this._getId()))},_isMenuOpen:function(){return this.props.data.is_open},render:function(){return s("data",this.props.data),n(1).createElement("li",{key:this._getIndex(),id:this._getId("uh-tb-"),className:this.getClassName(l,["style",this._getGroup("nav_"),this._getId("link_"),"wrapper"])},this._getNodeLink(),this._getNodeMenu())}});e.exports=l},2705:function(e,t,n){"use strict";var s=n(3)("uh:components:Header"),o=n(1839).name,i=n(1839).version,a=n(1803).initializeUHCrumbs,r=n(1598).UHAccountSwitchActions,l=n(1598).UHAccountSwitchStore,c=n(4)({childContextTypes:{conf:n(0).object,theme:n(0).object},contextTypes:{intl:n(0).object,renderTarget:n(0).object,session:n(0).object},displayName:"Header",mixins:[n(1755),n(23)],statics:{className:{style:{container:{wrapper:"_getClassNameContainerWrapper"}}},componentConfig:{name:"componentHeader",filter:"uh"},initializeAction:n(2023),storeListeners:[l]},_getClassNameContainerWrapper:function(){var e=[],t=["style","container"];return e.push(this.getClassName(c,t.concat(["wrapper_1"]))),e.push(this.getClassName(c,t.concat(["wrapper_2"]))),e.push(this.getClassName(c,t.concat(["wrapper_7"]))),e.push(n(1751).isEnabled(this.context.conf.getIn(["ui","topbar"]))&&n(1751).isEnabled(this.context.conf.getIn(["ui","topbarSticky"]))?this.getClassName(c,t.concat(["wrapper_4"])):this.getClassName(c,t.concat(["wrapper_3"]))),e.push(n(1751).isEnabled(this.context.conf.getIn(["ui","topbarSticky"]))?this.getClassName(c,t.concat(["wrapper_5"])):this.getClassName(c,t.concat(["wrapper_6"]))),n(1751).isEnabled(this.context.conf.getIn(["featureSwitches","navrailCollapse"]))&&e.push(this.getClassName(c,t.concat(["wrapper_8"]))),n(1751).isEnabled(this.context.conf.getIn(["ui","partnerTheme"]))&&e.push(this.getClassName(c,t.concat(["wrapper_9"]))),e=n(5)(e),s("_getClassNameContainerWrapper",e,arguments),e},_getNodeHelp:function(){if(!n(1751).isEnabled(this.context.conf.getIn(["ui","help"])))return null;var e={click:this._handleClick,update:this._handleUpdate};return n(1).createElement(n(2706),{data:this.state.data,methods:e})},_getNodeLightweight:function(){var e=null;return this.context.session.isLightWeightBrowser&&(e=n(1).createElement("style",null,n(1751).lightWeightBackground(this.getSite(c)||this.context.session.dimensions.site,this.context.session.dimensions.lang,this.context.session.dimensions.region,this.context.conf.getIn(["ui","theme"])))),e},_getNodeFollow:function(){return n(1751).isEnabled(this.context.conf.getIn(["ui","follow"]))?n(1).createElement(n(2711),{i13n:this.props.i13n}):null},_getNodeLogo:function(){return n(1751).isEnabled(this.context.conf.getIn(["ui","logo"]))?n(1).createElement(n(2727),{instanceId:this.props.id}):null},_getNodeMail:function(){return n(1751).isEnabled(this.context.conf.getIn(["ui","mail"]))?n(1).createElement(n(2728),null):null},_getNodeNotifications:function(){return n(1751).isEnabled(this.context.conf.getIn(["ui","notifications"]))?n(1).createElement(n(2732),null):null},_getNodeProfile:function(){if(!n(1751).isEnabled(this.context.conf.getIn(["ui","profile"])))return null;var e={componentConfig:{uh:this.props.componentConfig.uh}};return n(1).createElement(n(2733),{triggerAccountFetch:this._triggerAccountFetch,componentProps:e})},_getNodeSearch:function(){return n(1751).isEnabled(this.context.conf.getIn(["ui","search"]))?n(1).createElement(n(2737),{resultTemplateComponent:this.props.resultTemplateComponent,onSubmit:this.props.onSubmit,showFooter:this.props.showFooter,footerTemplateComponent:this.props.footerTemplateComponent}):null},_getNodeTopbar:function(){return n(1751).isEnabled(this.context.conf.getIn(["ui","topbar"]))?n(1).createElement(n(2738),null):null},_getContextConf:function(){return n(7).fromJS(this.props.componentConfig.uh)},_getContextTheme:function(){var e=this._getContextConf();if(!e)return n(7).Map();var t=n(7).Map({site:this.getSite(c)||this.context.session.dimensions.site,theme:e.getIn(["ui","theme"])}),s=this.stores.theme.getCachedData(t,this.context.renderTarget&&this.context.renderTarget.isActive());return n(7).Map.isMap(s)?s.get("uh",n(7).Map()):n(7).Map()},_handleClick:function(e){var t=this.state.data,n=t;t.get("is_open").map(function(t,s){n=e===s?n.setIn(["is_open",s],!t):n.setIn(["is_open",s],!1)}),s("_handleClick","name",e),s("_handleClick","prev",t),s("_handleClick","next",n),t!==n&&this.setState({data:n})},_triggerAccountFetch:function(){this.executeAction(r.getAccounts)},_handleUpdate:function(e){var t=this.state.data,n=t;n=t.merge(e),s("_handleUpdate","data",e),s("_handleUpdate","prev",t),s("_handleUpdate","next",n),t!==n&&this.setState({data:n})},_startAutoPushSubscription:function(){var e=this,t=e.props.componentConfig.uh||{},s=t.permissionHelper||{},o=t.promotedNotification||{};if(s.enabled&&o.autoInitSubscription&&n(1751).isBackoffTimerExceeded(o.notifPromoBackoffDuration,"bnpt")){if(window&&window.Notification&&"default"!==window.Notification.permission)return;var i=Object.assign({},s.overlay);o.skipAutoInitSubsOverlay&&(i.default=null);var a={onePushAttributes:o.onePushAttributes,overlay:i,subscriptionConfirmation:o.subscriptionConfirmation,trackingClickParams:{aid:o.promoId,elm:"btn",itc:1,sec:"uh-interstisial",subsec:"browser-prompt"}};e.executeAction(n(2052),a)}},getChildContext:function(){return{conf:this._getContextConf(),theme:this._getContextTheme()}},getData:function(){var e=this.stores.route,t=e&&e.getCurrentNavigate(),o=this.context.session,i=this.stores.accountSwitch,a=n(1751).getPageUrl(t,o.host,o.protocol),r=n(7).Map({page_url:a,is_open:{help:!1},addMouseHandler:i.getIsEnabled()&&!i.getAccountsReceived()});return s("getData",r),r},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1757)),this.stores.route=this.getStore("RouteStore"),this.stores.theme=this.getStore(n(1798)),this.stores.accountSwitch=this.getStore(l),s("getInitialState",this.stores.theme.getState()),{data:this.getData()}},componentWillMount:function(){var e=n(2)(this.props,["componentConfig","uh"],{}),t=e.permissionHelper||{},s=e.promotedNotification||{},o={permissionHelperConfig:t,promotedNotificationConfig:s};t.enabled&&this.executeAction(n(2742),o)},componentDidMount:function(){var e=this;e.mounted=!0,e.executeAction(a),e._pushSubscriptionTimer=setTimeout(e._startAutoPushSubscription,500)},componentWillUnmount:function(){this.mounted=!1,clearTimeout(this._pushSubscriptionTimer)},onChange:function(){if(this.mounted){var e=this.getData();s("onChange","data",e),this.setState({data:e})}},shouldComponentUpdate:function(e,t){var n=!0;return this.context.renderTarget&&(n=this.context.renderTarget.isActive()),n},render:function(){var e=this.state.data;if(this.context.conf=this._getContextConf(),this.context.theme=this._getContextTheme(),s("render","data",e),n(1751).isEnabled(this.context.conf.getIn(["data","action","load_theme","client","enabled"],!1))&&(!this.context.theme||0===this.context.theme.size))return null;var t;return e.get("addMouseHandler")&&(s("account switch mouse handler added"),t=this._triggerAccountFetch),n(1).createElement("div",{onMouseMove:t},this._getNodeLightweight(),this._getNodeTopbar(),n(1).createElement("div",{id:this.props.id,className:this.getClassName(c,["style","container","wrapper"]),"data-name":o,"data-version":i},n(1).createElement("div",{className:this.getClassName(c,["style","container","content"])},this._getNodeLogo(),this._getNodeSearch(),n(1).createElement("ul",{id:"uh-right",className:this.getClassName(c,["style","container","right_list"])},this._getNodeNotifications(),this._getNodeProfile(),this._getNodeFollow(),this._getNodeMail(),this._getNodeHelp()))))}});e.exports=c},2706:function(e,t,n){"use strict";var s=n(3)("uh:components:help/Help"),o=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired},displayName:"Help",mixins:[n(1755),n(23)],propTypes:{data:n(0).object,methods:n(0).object},statics:{base:["help"],metaData:{done_url:"_getMetaDataDoneUrl"}},_formatItem:function(e,t){var i=e,a=i;a=a.set("id",t);var r=this._formatTitle(t,i.get("title"));if(r&&(a=a.set("title",r)),!i.get("link")&&i.get("url")){var l=this.context.session.dimensions,c=["url","query"],u=i.get("url")||n(7).Map();"account_info"===t&&(u=u.mergeDeep({query:{".intl":i.getIn(c.concat([".intl"]))||l.intl,".lang":i.getIn(c.concat([".lang"]))||l.lang,".src":i.getIn(c.concat([".src"]))||n(1751).getSite(this.context)||l.site,".done":this.getConf(o,c.concat([".done"]))||this._getMetaDataDoneUrl()}})),a=a.set("link",n(25).format(u.toJS())),a=a.set("follow",!0)}return s("_formatItem",i,a),a},_formatTitle:function(e,t){return t},_getMetaDataDoneUrl:function(){var e=this.getMetaData(o,"page_url");return s("_getMetaDataDoneUrl",e),e},_processItems:function(e){return e.filter(function(e){return e.get("order")>0}).map(function(e,t){return e.merge(this._formatItem(e,t)).delete("url")}.bind(this)).sort(function(e,t){return parseInt(e.get("order"))-parseInt(t.get("order"))}).toList()},getData:function(){var e=this.getMetaData(o,"items")||n(7).fromJS(this.getConf(o,["data","items"])),t=n(7).Map({is_open:this.getMetaData(o,["is_open","help"]),items:this._processItems(e)});return s("getData",t),t},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1757)),{data:this.getData()}},render:function(){var e=this.getData();return s("render","data",e),this.context.session.isLightWeightBrowser?n(1).createElement(n(2707),{data:e,methods:this.props.methods}):n(1).createElement(n(2708),{data:e,methods:this.props.methods})}});e.exports=o},2707:function(e,t,n){"use strict";var s=n(3)("uh:components:help:HelpLWDefaultView"),o=n(4)({displayName:"HelpLWDefaultView",mixins:[n(1755),n(40)],propTypes:{data:n(0).object},statics:{base:["help"]},_getLink:function(e){return e.get("link")},_getTitle:function(e){return e.get("title")},_getDropDownItems:function(e){var t,s;return e.map(function(e,o){if(t=this._getTitle(e),s=this._getLink(e),t&&s)return t=t.replace(/ /g,"_"),n(1).createElement("option",{value:s,key:o},this.getIntl(t.toUpperCase()))}.bind(this))},_getDropDownMenu:function(){var e=this.props.data.get("items");return e&&0!==e.size?n(1).createElement("select",{id:"uhLWHelpSelect",className:this.getClassName(o,["style","menulist","wrapper"])},this._getDropDownItems(e)):null},render:function(){s("render");var e=["var form = document.getElementById('uh-LWHelpForm');","form.onsubmit = function () {","var e = document.getElementById('uhLWHelpSelect');","var url = e.options[e.selectedIndex].value;","if (url) {","window.location.href=url;","}","return false;","}"].join(" ");return n(1).createElement("li",{className:this.getClassName(o,["style","container","wrapper"])},n(1).createElement("form",{id:"uh-LWHelpForm",name:"form"},this._getDropDownMenu(),n(1).createElement("button",{className:this.getClassName(o,["style","button","wrapper"]),type:"submit"},this.getIntl("GO_TO_HELP"))),n(1).createElement("script",{dangerouslySetInnerHTML:{__html:e}}))}});e.exports=o},2708:function(e,t,n){"use strict";var s=n(3)("uh:components:help:HelpDefaultView"),o=n(21).Icon,i=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"HelpDefaultView",mixins:[n(1755),n(23),n(40)],propTypes:{data:n(0).object,methods:n(0).object},statics:{base:["help"]},componentWillMount:function(){this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this)},onMouseEnter:function(e){this.props.methods.update.call(this,{is_open:{help:this.isPointInPolygons({x:e.clientX,y:e.clientY})}})},onMouseLeave:function(e){this.props.methods.update.call(this,{is_open:{help:this.isPointInPolygons({x:e.clientX,y:e.clientY})}})},_getNodeIcon:function(){var e=n(1).createElement(o,{asset:this.getClassName(i,["style","icon","settings","asset"]),height:this.getClassName(i,["style","icon","settings","size"]),color:this.getClassName(i,["style","icon","settings","color"])});return n(1).createElement(n(2259),{className:this.getClassName(i,["style","icon","settings","wrapper"]),id:"uh-help",href:"#",onClick:this._handleClick,onHoverPayload:this.getClassName(i,["onHoverI13n"]),hasPanel:this.getMetaData(i,"is_open"),parentType:"cogWheel",ref:"uh-help-menu-icon"},e,n(1).createElement("b",{className:this.getClassName(i,["style","icon","settings","content"])},this.getMetaData(i,"name")))},_getNodeMenuPanel:function(){if(!this.getMetaData(i,"is_open"))return null;var e=this.props.methods;return e.is_point_in_polygons=this.isPointInPolygons,n(1).createElement(n(2709),{data:this.props.data,methods:e,ref:"uh-help-menu-panel"})},_handleClick:function(e){e.preventDefault();s("_handleClick","id","help"),this.props.methods.click.call(this,"help")},isPointInPolygons:function(e){var t=!1;return this.getPolygons().map(function(n,o){s("is_point_in_polygons",o,e,n),e.x>=n.left&&e.x<n.right&&e.y>=n.top&&e.y<n.bottom&&(t=!0)}),s("is_point_in_polygons",t),t},getPolygons:function(){var e={icon:n(16).findDOMNode(this.refs["uh-help-menu-icon"]),panel:this.refs["uh-help-menu-panel"]},t={},s=[];return Object.keys(e).forEach(function(n){if(e[n]&&e[n].getBoundingClientRect&&(s.push(e[n].getBoundingClientRect()),t[n]=e[n].getBoundingClientRect(),"panel"===n)){var o={};o.top=t.icon.bottom,o.bottom=t.panel.top,o.left=t.icon.left,o.right=t.icon.right,o.height=o.bottom-o.top,o.width=o.right-o.left,s.push(o)}}),s},render:function(){return s("render"),n(1).createElement("li",{className:this.getClassName(i,["style","container","wrapper"]),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this._getNodeIcon(),this._getNodeMenuPanel())}});e.exports=i},2709:function(e,t,n){"use strict";var s=n(3)("uh:components:help/HelpMenuPanel"),o=n(4)({contextTypes:{conf:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"HelpMenuPanel",mixins:[n(1755),n(40)],propTypes:{data:n(0).object.isRequired},statics:{base:["help"]},componentWillMount:function(){this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this._getNodeMenuItems=this._getNodeMenuItems.bind(this)},onMouseEnter:function(e){this.props.methods.update.call(this,{is_open:{help:this.props.methods.is_point_in_polygons.call(this,{x:e.clientX,y:e.clientY})}})},onMouseLeave:function(e){this.props.methods.update.call(this,{is_open:{help:this.props.methods.is_point_in_polygons.call(this,{x:e.clientX,y:e.clientY})}})},_getNodeMenuItems:function(){var e=this.props.data.get("items");return e&&0!==e.size?e.map(function(e,t){return n(1).createElement(n(2710),{key:e.get("id"),data:n(7).fromJS({item:e,index:t})})}):null},getBoundingClientRect:function(){return n(16).findDOMNode(this).getBoundingClientRect()},render:function(){return s("data",this.props.data),n(1).createElement("div",{className:this.getClassName(o,["style","panel","wrapper"]),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},n(1).createElement("ul",{id:"uh-help-menu-panel",className:this.getClassName(o,["style","panel","content"])},this._getNodeMenuItems()))}});e.exports=o},2710:function(e,t,n){"use strict";var s=n(3)("uh:components:help/HelpMenuItem"),o=n(7).fromJS({i13n:{link:{elm:"itm",itc:"0",sec:"uh"}}}),i=n(4)({contextTypes:{conf:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"HelpMenuItem",mixins:[n(1755),n(40)],propTypes:{data:n(0).object.isRequired},statics:{base:["help"],i13n:o.get("i13n")},_getClassWrapper:function(){return this.getClassName(i,["style","link","wrapper"])},_getClassContent:function(){return this.getClassName(i,["style","link","content"])},_getFollow:function(){return this.props.data.getIn(["item","follow"])},_getId:function(e,t){return n(1751).strExpand(this.props.data.getIn(["item","id"]),e,t)},_getLink:function(){return this.props.data.getIn(["item","link"])},_getOrder:function(){return this.props.data.getIn(["item","order"])+""},_getTitle:function(){return this.props.data.getIn(["item","title"])},render:function(){s("data",this.props.data);var e=this._getTitle();return e?(e=e.replace(/ /g,"_"),n(1).createElement("li",{id:this._getId("uh-mi-"),className:this._getClassWrapper()},n(1).createElement(n(138),{className:this._getClassContent(),followLink:this._getFollow(),href:this._getLink(),model:this.getI13n(i,"link",{slk:this._getId("uh-mi-"),subsec:"mi-help",cpos:this._getOrder()})},this.getIntl(e.toUpperCase())))):n(1).createElement("li",{role:"separator",className:this.getClassName(i,["style","separator","content"])})}});e.exports=i},2711:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o=n(3)("uh:components:follow:follow"),i=n(21).Icon,a={i13n:{follow:{elm:"btn",itc:"1",slk:"follow",subsec:"follow"}}},r=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"Follow",mixins:[n(1755),n(23),n(2260)],statics:{base:["follow"],className:{style:{button:{content:"_getClassNameContent",icon:"_getClassNameIcon",text:"_getClassNameText"}}},i13n:a.i13n},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(r,["style","button","content_1"])),e=n(5)(e),o("_getClassNameContent",e,arguments),e},_getClassNameIcon:function(){var e=this.getClassName(r,["style","button","icon_1"]);return o("_getClassNameIcon",e,arguments),e},_getClassNameText:function(){var e=this.getClassName(r,["style","button","text_1"]);return o("_getClassNameText",e,arguments),e},_getNodeButton:function(){var e=this,t=e.getConf(r,["data","icon","follow"]);return n(1).createElement(n(2331),{id:"uh-follow",className:e.getClassName(r,["style","button","content"]),i13nModel:e.getI13n(r,"follow"),hoverI13Params:e.getI13n(r,"follow"),href:"#",style:e.getClassName(r,["style","button","inline"]),"aria-label":e.getIntl("NOTIFICATIONS")},n(1).createElement(i,{asset:t.get("asset").toJS(),height:t.get("size"),width:t.get("size"),color:e.getClassName(r,["style","button","icon"])}),e._getNodeCount())},_getNodeCount:function(){var e=this;return n(1).createElement(n(2712),{followConfig:e.context.conf.get("follow"),i13n:e.props.i13n})},_getNodePreview:function(){var e=this,t=null;return e.state.isVisible&&(t=n(1).createElement(n(2714),{follow:e.context.conf.get("follow"),hoverState:e.state.isVisible,promoConfig:e.getConf(e,["promotedNotification"]).toJS(),permissionHelperConfig:e.getConf(e,["permissionHelper"]).toJS(),muteButtonConfig:e.getConf(e,["muteButton"]).toJS()})),t},getData:function(){return n(7).Map({hover:!1})},getInitialState:function(){return{data:this.getData()}},componentDidMount:function(){var e=this;e.mounted=!0;var t=e.getConf(e,["promotedNotification"]).toJS()||{};t.enabled&&e.context.executeAction(n(2726),t)},componentWillUnmount:function(){this.mounted=!1},onChange:function(){var e=this,t=e.getData();e.mounted&&(o("onChange","data",t),e.setState({data:t}))},render:function(){var e=this,t=this.getMenuEvents();return n(1).createElement("li",s({className:e.getClassName(r,["style","button","wrapper"])},t),e._getNodeButton(),e._getNodePreview())}});e.exports=r},2712:function(e,t,n){"use strict";var s=n(4)({mixins:[n(1755),n(23)],contextTypes:{getStore:n(0).func,conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"FollowCount",statics:{base:["follow"],className:{style:{followcount:{wrapper:"_getClassNameFollowcountWrapper"}}},storeListeners:[n(677),n(1757)]},propTypes:{countConfig:n(0).object,isSmartPhone:n(0).bool},getDefaultProps:function(){return{countConfig:n(7).fromJS({maxCountDisplay:99,pollingInterval:2,pollingDuration:10})}},getInitialState:function(){var e=this;return e._initConfig(),e.StorylinesStore=e.getStore(n(677)),e.HeaderStore=e.getStore(n(1757)),e.focusTimeoutValue=null,e.pollingDurationTimer=null,e.pollingIntervalTimer=null,{followCount:0}},componentDidMount:function(){var e=this;0===parseInt(n(2)(e.context,["session","dimensions","authed"],"0"),10)||("smartphone"!==e.device&&(window.addEventListener("focus",e._handleWindowFocus),window.addEventListener("blur",e._stopFetchTimer)),e._startDurationTimer(),e._startFetchTimer())},componentWillUnmount:function(){var e=this;0===parseInt(n(2)(e.context,["session","dimensions","authed"],"0"),10)||(e._stopTimers(),"smartphone"!==e.device?(window.removeEventListener("focus",e._handleWindowFocus),window.removeEventListener("blur",e._stopFetchTimer),window.removeEventListener("mousemove",e._handleKBMouseFocus),window.removeEventListener("keypress",e._handleKBMouseFocus)):window.removeEventListener("mouseup",e._handleKBMouseFocus),clearTimeout(e.focusTimeoutValue))},onChange:function(e){var t=this,n=t._getStorylinesCountFromStore()||0;t._hasNewPromotedNotification()&&(n+=1),t.setState({followCount:n})},componentDidUpdate:function(){this._fireLinkView()},_fireLinkView:function(e){this.props.i13n.executeEvent("beacon",{beaconType:"beaconLinkViews",arguments:[[{sec:"uh",_links:[{aid:this._getPromoNotifIdFromStore(),cat:this.state.followCount,elm:"btn",slk:this._hasNewPromotedNotification()?"notification-promo":"notification",subsec:"follow-badge"}]}],2]},e)},_initConfig:function(){var e=this,t=e.props.followConfig.toJS(),n=t.count;e.pollingInterval=6e4*n.pollingInterval,e.pollingDuration=6e4*n.pollingDuration,e.followCountMaxDisplay=n.maxCountDisplay,e.device=e.props.device||"desktop"},_startFetchTimer:function(){var e=this;e._fetch(),e.pollingIntervalTimer=setInterval(e._fetch,e.pollingInterval)},_startDurationTimer:function(){var e=this;"smartphone"!==e.device?(window.removeEventListener("mousemove",e._handleKBMouseFocus),window.removeEventListener("keypress",e._handleKBMouseFocus),clearTimeout(e.focusTimeoutValue)):window.removeEventListener("mouseup",e._handleKBMouseFocus),e.pollingDurationTimer=setTimeout(e._stopFetchTimer,e.pollingDuration)},_stopTimers:function(){var e=this;clearInterval(e.pollingIntervalTimer),clearTimeout(e.pollingDurationTimer)},_stopFetchTimer:function(e){var t=this;e||(t.isSmartPhone?window.addEventListener("mouseup",t._handleKBMouseFocus):(window.addEventListener("mousemove",t._handleKBMouseFocus),window.addEventListener("keypress",t._handleKBMouseFocus))),clearInterval(t.pollingIntervalTimer)},_fetch:function(){this.executeAction(n(2713),{})},_getPromoNotifIdFromStore:function(){return this.HeaderStore.getPromoNotifId()},_getStorylinesCountFromStore:function(){return this.StorylinesStore.getUpdatedStorylinesCount()},_hasNewPromotedNotification:function(){return this.HeaderStore.getIsNewPromoNotif()},_handleWindowFocus:function(e){var t=this;t._stopTimers(),t._startDurationTimer(),t._startFetchTimer()},_handleKBMouseFocus:function(){var e=this;e.focusTimeoutValue&&clearTimeout(e.focusTimeoutValue),e.focusTimeoutValue=setTimeout(e._handleWindowFocus,1e3)},shouldComponentUpdate:function(e,t){return t.followCount!==this.state.followCount},_getClassNameFollowcountWrapper:function(){var e=[];return e.push(this.getClassName(s,["style","followcount","wrapper_1"])),e=n(5)(e)},render:function(){var e=this,t=e.state.followCount>0,o=e.state.followCount>e.followCountMaxDisplay?e.followCountMaxDisplay+"+":e.state.followCount,i=n(5)(e.getClassName(s,["style","followcount","wrapper"]),{"Px(3px)":e.state.followCount>e.followCountMaxDisplay},{"V(h)":!t},{"D(n)":!t&&"desktop"!==e.device});return n(1).createElement("span",{id:"uh-follow-count",className:i},o)}});e.exports=s},2713:function(e,t,n){"use strict";e.exports=function(e,t,n){var s=e.localStorage,o=e.session&&e.session.dimensions?e.session.dimensions.authed:0,i=0===parseInt(o,10);t=t||{},s&&s.getItem("storylines-timestamp")?t.lastVisitTime=s.getItem("storylines-timestamp"):(t.lastVisitTime=Math.floor(Date.now()/1e3),s&&s.setItem("storylines-timestamp",t.lastVisitTime)),i?n&&n("Can't fetch the updated count for signed out user.",null):e.service.read("storylines.fetchUpdatedClustersCount",t,{},function(t,s){t?(e.beacon&&e.beacon("error","storylines.fetchUpdatedClustersCount",{code:"storylines.fetchUpdatedClustersCountFailed",message:t.message||"",statusCode:t.statusCode||""}),n&&n(null,null)):(e.dispatch("GET_STORY_LINES_COUNT_SUCCESS",{data:s}),n&&n(null,s))})}},2714:function(e,t,n){"use strict";e.exports=n(4)({displayName:"FollowPreview",contextTypes:{conf:n(0).object.isRequired,intl:n(0).object,session:n(0).object.isRequired},mixins:[n(1755),n(23)],statics:{base:["follow"],storeListeners:[n(677)]},propTypes:{follow:n(0).object,hoverState:n(0).bool},getDefaultProps:function(){return{hoverState:!1}},getInitialState:function(){var e=this;return e.stores={},e.stores.follow=e.getStore(n(677)),e.stores.route=e.getStore("RouteStore"),{data:e.getData()}},getData:function(){return this.stores.follow.getStorylines()},componentDidMount:function(){var e=this;e.stores.follow.isStale()&&e.context.executeAction(n(1836),{})},componentWillReceiveProps:function(e){var t=this;e&&e.hoverState&&e.hoverState!==t.props.hoverState&&t.stores.follow.isStale()&&t.context.executeAction(n(1836),{})},onChange:function(){var e=this,t=e.getConf(e,["follow","prefetchContent"])||!1;e.setState({data:e.getData()}),t&&e.prefetchStorylinesContent()},prefetchStorylinesContent:function(){var e=this,t=e.state.data.following.length,s=e.getConf(e,["follow","maxUpsellCount"]),o=e.getConf(e,["follow","prefetchBatchSize"])||10,i=Math.ceil((t+s)/o)*o;e.context.executeAction(n(1599),{items:e.stores.follow.getStorylinesArticles(i),prefetch:!0,sourceId:"uh-follow-preview"})},getFollowItemNode:function(e,t){var s=this.getConf(this,["follow","renderTarget"])||"";if(e&&e.name&&e.article&&(e.article.isEligible||s))return n(1).createElement(n(2715),{key:t,article:e.article,count:e.count,followId:e.followId,idx:t,label:e.name,type:e.upsell?"followable":"following"})},getDoneUrl:function(){var e=this.stores.route,t=e&&e.getCurrentNavigate(),s=this.context.session;return n(1751).getPageUrl(t,s.host,s.protocol)},render:function(){var e=this,t=null,s=null,o=null,i=null,a=null,r=e.state.data||{},l=e.getConf(e,["follow","maxUpsellCount"]),c=e.props.muteButtonConfig||{},u=e.props.promoConfig||{},h=e.props.permissionHelperConfig||{},p=n(5)("Pos(a) End(0) T(40px) W(280px)","Bxsh(customShadowFlyoutMenu) Bgc(menuBgc) Bdrs(4px)","Ovy(a) Cur(d) V(h) Op(0) uh-menu-open_V(v) uh-menu-open_Op(1) Mah(467px)"),d="My(0) Pos(r) Td(n) W(100%) Pb(8px)";return(n(1751).isEnabled(u.enabled)||n(1751).isEnabled(u.isNotification))&&(t=n(1).createElement(n(2716),{body:u.body,buttonLabel:u.buttonLabel,extensionName:u.extensionName,heading:u.heading,isExtension:u.isExtension,isNotification:u.isNotification,link:u.link,onePushAttributes:u.onePushAttributes,notifcationSetting:u.notifcationSetting,permissionHelperConfig:h,promoId:u.promoId,subscriptionConfirmation:u.subscriptionConfirmation,timeToLive:u.timeToLive,timeToResurrect:u.timeToResurrect})),n(1751).isEnabled(c.enabled)&&(a=n(1).createElement(n(2720),{muteButtonConfig:c,onePushAttributes:u.onePushAttributes})),r.following&&r.following.length&&(s=n(1).createElement("div",{className:"Bdtc(#e1e1e5) Bdts(s) Bdtw(1px)"},n(1).createElement("h4",{className:"Pt(18px) Px(25px) Pb(3px) Fz(15px)"},e.getIntl("FOLLOWING")),n(1).createElement("ul",{className:d},r.following.map(function(t,n){return e.getFollowItemNode(t,n)},e)))),r.followable&&r.followable.length&&(o=n(1).createElement("div",{className:"Bdtc(#e1e1e5) Bdts(s) Bdtw(1px)"},n(1).createElement("h4",{className:"Pt(18px) Px(25px) Pb(3px) Fz(15px)"},e.getIntl("DEVELOPING_NOW")),n(1).createElement("ul",{className:d},r.followable.map(function(t,n){if(n<l)return e.getFollowItemNode(t,n)},e)))),s||o||(i=n(1).createElement("div",{className:"W(30px) H(30px) Mx(a) My(12px) Bg(uhSpinner)"})),n(1).createElement("div",{id:"uh-follow-preview",className:p},a,t,s,o,i)}})},2715:function(e,t,n){"use strict";var s=n(13).I13nButton,o=n(21).Icon,i=n(22).FormattedRelative;e.exports=n(4)({displayName:"FollowItem",propTypes:{article:n(0).object,count:n(0).number,followId:n(0).string.isRequired,label:n(0).string.isRequired,type:n(0).string.isRequired},contextTypes:{executeAction:n(0).func.isRequired,intl:n(0).object,session:n(0).object.isRequired},mixins:[n(1755)],statics:{base:["follow"]},processLink:function(){var e,t,s=this,o=s.props.article,i=o.id,a=o.link,r=o.title,l=n(2)(s.context,["session","dimensions","device"]),c=o.isEligible,u=n(2)(s.context,["session","dimensions","site"],"fp");return a&&u&&(c||(e=n(738).getPreviewUrl(i,a,r,l,!0,u)),t=n(668).convertUrl(e||a,u)),t||a},followStoryline:function(){var e=this;e.props.followId&&e.context.executeAction(n(703),{followId:e.props.followId,follow:!0})},unfollowStoryline:function(){var e=this;e.props.followId&&e.context.executeAction(n(703),{followId:e.props.followId,follow:!1})},readHandler:function(){var e=this;this.context.executeAction(n(2014),{followId:e.props.followId,count:0}),this.context.executeAction(n(2015),{})},render:function(){var e=this,t=null,a=e.props.type,r=parseInt(e.props.count,10)||0,l=e.getConf(e,["follow","renderTarget"])||"",c=e.props.article||{},u={aid:e.props.followId,cpos:e.props.idx,elm:"btn",dcl:"follow",itc:"1",outcm:"follow",sec:"uh",slk:e.props.label,subsec:"following"===a?"follow":"follow-develop"},h={aid:e.props.followId,cpos:e.props.idx,elm:"btn",dcl:"unfollow",itc:"1",outcm:"unfollow",sec:"uh",slk:e.props.label,subsec:"following"===a?"follow":"follow-develop"},p={aid:e.props.followId,cpos:e.props.idx,elm:"hdln",g:e.props.followId,itc:"0",outcm:"content",sec:"uh",slk:e.props.label,subsec:"following"===a?"follow":"follow-develop",tar:c.link,tar_uri:c.link},d=n(5)("C(#000)","Td(n) D(b) Px(24px) Py(10px)"),m=n(5)("C(#b2b2b2) Fl(end) Fz(12px) Mstart(7px) D(b) ua-ie8_D(n)"),f=n(5)("uh-followable","Pos(r) Bgc(#fef5d9):h D(b) Ta(start) Cur(d) Lh(1.9)"),g=n(5)("uh-unfollow-btn","Fl(start) Mt(10px) Mstart(25px) P(0)"),_=n(5)("uh-follow-btn","Fl(start) Mt(10px) Mstart(25px) P(0)"),b=n(5)("D(b) Mstart(30px) Ell Fz(13px) unfollowed_Td(lt) unfollowed_Op(.5) Va(m)",{"Fw(b)":r&&"following"===a}),C=c.published?n(1).createElement("span",{className:m},n(1).createElement(i,{value:new Date(c.published)})):null;return"following"===a?t=n(1).createElement("li",{className:f,onClick:e.readHandler},n(1).createElement(s,{className:g,model:h,onClick:e.unfollowStoryline,title:e.getIntl("UNFOLLOW")},n(1).createElement(o,{className:"uh-unfollow-btn:h_D(n) D(b)",asset:n(1916),height:20,color:"#ffb700"}),n(1).createElement(o,{className:"uh-unfollow-btn:h_D(b) D(n)",asset:n(679),height:20,color:"#ffb700"})),n(1).createElement(n(138),{href:e.processLink(),className:d,followLink:!l,model:p,navParams:{renderTarget:l},title:e.props.label},C,n(1).createElement("span",{className:b},e.props.label))):"followable"===a&&(t=n(1).createElement("li",{className:f,onClick:e.readHandler},n(1).createElement(s,{className:_,model:u,onClick:e.followStoryline,title:e.getIntl("FOLLOW")},n(1).createElement(o,{className:"uh-followable:h_D(n) D(b)",asset:n(679),height:20,color:"#9ea2af"}),n(1).createElement(o,{className:"uh-followable:h_D(b) uh-follow-btn:h_H(0) D(n)",asset:n(679),height:20,color:"#ffb700"}),n(1).createElement(o,{className:"uh-follow-btn:h_D(b) D(n)",asset:n(1916),height:20,color:"#ffb700"})),n(1).createElement(n(138),{href:e.processLink(),className:d,followLink:!l,model:p,navParams:{renderTarget:l},title:e.props.label},n(1).createElement("span",{className:b},e.props.label)))),t}})},2716:function(e,t,n){"use strict";var s=n(13).I13nButton,o=n(113).Img;e.exports=n(4)({mixins:[n(23),n(1755)],contextTypes:{conf:n(0).object.isRequired,executeAction:n(0).func.isRequired,permissionHelper:n(0).object,getStore:n(0).func,session:n(0).object.isRequired},propTypes:{body:n(0).string.isRequired,buttonLabel:n(0).string.isRequired,extensionName:n(0).string,subscriptionConfirmation:n(0).object,heading:n(0).string.isRequired,isExtension:n(0).bool.isRequired,isNotification:n(0).bool.isRequired,link:n(0).string,notifcationSetting:n(0).object,onePushAttributes:n(0).object,promoId:n(0).string.isRequired,timeToLive:n(0).number.isRequired,timeToResurrect:n(0).number.isRequired},displayName:"PromotedNotification",statics:{storeListeners:[n(1757)]},_getData:function(){var e=this;return{show:e.headerStore.getShowPromoNotif(),isNew:e.headerStore.getIsNewPromoNotif(),showSubscriptionPromo:e.headerStore.getShowSubscriptionPromo()}},_getBadgeCount:function(){return this.state.isNew?1:0},_installExtension:function(e){var t=this,s={extensionName:t.props.extensionName,trackingParams:{aid:t.props.promoId,cat:t._getBadgeCount(),elm:"btn",itc:1,sec:"uh",subsec:"follow-promo"}};t.context.executeAction(n(2717),s)},_setSubcookie:function(){var e=this,t=(new Date).setFullYear((new Date).getFullYear()+1),s={promoId:e.props.promoId,currentTime:Math.floor((new Date).getTime()/1e3),opts:{expires:new Date(t),path:"/",domain:"yahoo.com",encode:function(e){return e}}};e.context.executeAction(n(2719),s)},_subscribePushNotification:function(){var e=this;if(n(1751).isClient()){var t=n(2)(e.props,["permissionHelperConfig","overlay"],{}),s={onePushAttributes:e.props.onePushAttributes,overlay:t,subscriptionConfirmation:e.props.subscriptionConfirmation,trackingClickParams:{aid:e.props.promoId,cat:e._getBadgeCount(),elm:"btn",itc:1,sec:"uh-notification",subsec:"notification-promo"}};e.context.executeAction(n(2052),s)}},getInitialState:function(){var e=this;return e.headerStore=e.context.getStore(n(1757)),e._getData()},onChange:function(){this.setState(this._getData())},componentWillUnmount:function(){this._setSubcookie()},render:function(){var e=this,t=this.state.show,i=null,a=null,r={aid:e.props.promoId,cat:e._getBadgeCount(),cpos:1,elm:"btn",itc:1,sec:"uh",slk:e.props.buttonLabel,subsec:"follow-promo"},l="D(ib) Fz(13px) Fw(b) C(white) Bgc(#0081ff) Bdrs(2px) Py(8px) Px(16px)",c=this.state.showSubscriptionPromo;if(t||c){e.props.isNotification&&c?(r.subsec="notification-promo",r.slk=e.props.notifcationSetting.buttonLabel,i=n(1).createElement(s,{className:l,model:r,onClick:e._subscribePushNotification},e.props.notifcationSetting.buttonLabel)):e.props.isExtension?i=n(1).createElement(s,{className:l,model:r,onClick:e._installExtension},e.props.buttonLabel):t&&(i=n(1).createElement(n(138),{href:e.props.link,className:l,model:r},e.props.buttonLabel));var u=e.props.heading,h=e.props.body,p=null;c&&(u=e.props.notifcationSetting.heading,h=e.props.notifcationSetting.body,e.props.notifcationSetting.imageUrl&&(p=n(1).createElement(o,{className:"notification-image D(b) Mx(a) Mb(14px)",alt:"",url:e.props.notifcationSetting.imageUrl}))),a=n(1).createElement("div",{className:"Py(28px) Pstart(25px) Pend(20px) Bdtc(menuFooterBdr) Bdts(s) Bdtw(1px)"},p,n(1).createElement("h4",{className:"Fz(14px) Fw(b)"},u),n(1).createElement("div",{className:"Fz(13px) Py(8px)"},h),i)}return a}})},2717:function(e,t,n){"use strict";var s,o=n(1751).isClient();o&&(s=n(2332).clientExtHelper),e.exports=function(e,t,n){if(!o||!t)return n&&n();s&&s.handleInstall({name:t.extensionName,trackingParams:t.trackingParams,callback:n})}},2718:function(e,t,n){"use strict";var s,o=window,i=document,a={enabled:!0,extensions:{homepage:{chrome:{url:"https://chrome.google.com/webstore/detail/jccfgghhbihbhomnlnadpjhkhmmboanj",minVersion:31,maxVersion:0,os:["win","mac"]},firefox:{url:"https://addons.mozilla.org/en-US/firefox/addon/yahoo-homepage/?src=ss",minVersion:38,maxVersion:0,os:["win","mac"]},markupFlagClassName:"yahoo_hp_set_ext_installed"},search:{chrome:{url:"https://chrome.google.com/webstore/detail/gpoaaefekppmlgpgfegdedfcehnkafe",minVersion:31,maxVersion:0,os:["win"]},firefox:{url:"https://addons.mozilla.org/en-US/firefox/addon/yahoo-search-addon/?src=external-hp",minVersion:38,maxVersion:0,os:["win","mac"]},markupFlagClassName:"yahoo_search_set_ext_installed"},finance:{chrome:{url:"https://chrome.google.com/webstore/detail/fahaafjhlffomihnbchdnnjgcngnkbfj",minVersion:31,maxVersion:0,os:["win","mac"]},markupFlagClassName:"yahoo_finance_ext_installed"}}},r={};e.exports={init:function(e){r=e||{},r.browserName&&r.browserVersion&&r.osName&&this._checkIsPrivateSession()},handleVerification:function(e){var t=this,n=e.name,s=a.extensions||{},o=s[n],i=e.callback,l=r.browserName,c={chrome:[t._checkIsPrivateSession,t._checkIsExcludedVersion,t._checkHasMarkupFlag],firefox:[t._checkIsPrivateSession,t._checkIsExcludedVersion,t._checkHasMarkupFlag]},u=!1;if(o&&c[l]&&c[l].length)for(var h=0;h<c[l].length&&(u=!c[l][h](n));h+=1);return i&&i(u),u},handleInstall:function(e){var t=this,n=a.extensions||{},s=r.browserName,o=e.name,i=n[o]&&n[o][s]||{},l=i.url||"",c=e.trackingParams,u={chrome:t._installChromeExtension,firefox:t._installFirefoxExtension};l&&c&&u[s]&&u[s](l,c,e.callback)},_checkIsPrivateSession:function(){var e=r.browserName||"",t=function(){s=!0},n=function(){s=!1};if(void 0===s)try{if("chrome"===e.toLowerCase()){var i=o.RequestFileSystem||o.webkitRequestFileSystem;i&&i(o.TEMPORARY,100,n,t)}else if("firefox"===e.toLowerCase()&&o.indexedDB){var a=o.indexedDB.open("test");a.onerror=t,a.onsuccess=n}}catch(e){n()}return s},_checkIsExcludedVersion:function(e){var t=r.browserName,n=r.browserVersion,s=r.osName,o=a.extensions||{},i=o[e]&&o[e][t],l=!0;return s&&(s.indexOf("mac")>=0?s="mac":s.indexOf("windows")>=0&&(s="win")),i&&(!i.minVersion||n>=i.minVersion)&&(!i.maxVersion||n<=i.maxVersion)&&(!i.os||i.os.indexOf(s)>=0)&&(l=!1),l},_checkHasMarkupFlag:function(e){var t=a.extensions||{},n=t[e]||{},s=n.markupFlagClassName,o=!1;return s&&i.body&&i.body.classList&&i.body.classList.contains(s)&&(o=!0),o},_installChromeExtension:function(e,t,n){if(e&&t&&t.sec){var s=i.createElement("link");s.rel="chrome-webstore-item",s.href=e;var a=i.head;a&&a.appendChild(s);var r=o.rapidInstance;chrome.webstore.install(e,function(e){r&&r.beaconClick(t.sec,"chrome-add-ext","2",t),n&&n(!0)},function(e){r&&r.beaconClick(t.sec,"chrome-cancel","1",t),n&&n(!1)})}},_installFirefoxExtension:function(e,t){e&&(o.open(e,"_blank"),t&&t(!0))}}},2719:function(e,t,n){"use strict";e.exports=function(e,t,s){n(3)("setPromoSubCookie",t),n(1751).setPromoNotifSubcookie(t.promoId,t.currentTime,t.opts),e.dispatch("PROMO_NOTIF_STATE",{isNew:!1}),s&&s()}},2720:function(e,t,n){"use strict";var s=n(13).I13nButton;e.exports=n(4)({mixins:[n(23),n(1755)],contextTypes:{conf:n(0).object.isRequired,executeAction:n(0).func.isRequired,getStore:n(0).func,session:n(0).object.isRequired},propTypes:{muteConfig:n(0).object},displayName:"MuteButton",statics:{storeListeners:[n(1757)]},_getData:function(){var e=this;return{isNotificationMuted:e.headerStore.getIsNotificationMuted(),showMuteButton:e.headerStore.getShowMuteButton()}},togglePushNotification:function(){var e=this;if(n(1751).isClient()){var t={onePushAttributes:e.props.onePushAttributes,isNotificationMuted:!this.state.isNotificationMuted};e.context.executeAction(n(2721),t)}},toggleMuteState:function(){this.setState({isNotificationMuted:!this.state.isNotificationMuted}),this.togglePushNotification()},componentWillMount:function(){var e=this,t=e.props.muteButtonConfig,s=1;void 0!==t.muteDelay&&(s=t.muteDelay);var o=1e3*s;e.context.executeAction(n(2724),e.props.onePushAttributes),e.togglePushNotification=n(1751).debounce(e.togglePushNotification,o)},getInitialState:function(){var e=this;return e.headerStore=e.context.getStore(n(1757)),e._getData()},onChange:function(){this.setState(this._getData())},render:function(){var e=this,t=this.state.showMuteButton,o=this.props.muteButtonConfig;if(!t||!o.enabled)return null;var i=this.state.isNotificationMuted?o.bodyWhenMute:o.bodyWhenUnmute,a={cpos:1,cat:1,elm:"btn",itc:1,sec:"uh",slk:"mute-toggle",subsec:"notification-control"},r=this.state.isNotificationMuted?"Bds(s) Bdw(1px) Bdc($c-fuji-grey-e) Start(0)":"Bd(0) Bdc(#fff) Start(12px)",l=this.state.isNotificationMuted?"Bgc(#fff) Bds(s) Bdw(1px) Bdc($c-fuji-grey-e)":"Bd(0) Bgc($c-fuji-blue-1-a)";return n(1).createElement("div",{className:"Py(28px) Pstart(25px) Pend(20px) Bdtc(menuFooterBdr) Bdts(s) Bdtw(1px)"},n(1).createElement("div",{className:"D(ib)"},n(1).createElement("h4",{className:"Fz(14px) Fw(b)"},o.heading),n(1).createElement("div",{className:"Fz(13px) Py(8px)"},i)),n(1).createElement("div",{className:"cover Pos(a) T(31px) End(25px)"},n(1).createElement(s,{title:o.buttonLabel,className:n(5)("slide-canvas W(24px) O(0) Trsdu(.3s) Trsp(a) Trstf(e) Bdrs(8px) Px(2px) D(b) Pos(r) H(14px) Cur(p)",l),model:a,onClick:e.toggleMuteState},n(1).createElement("span",{className:n(5)("slider Trsdu(.5s) Trsp(a) Trstf(e) Bdrs(16px) D(b) Pos(r) W(6px) H(6px) Cur(p) Bgc(#fff)",r)}))))}})},2721:function(e,t,n){"use strict";var s=n(1751).isClient();e.exports=function(e,t,o){if(!s||!t)return o&&o();t.isNotificationMuted?e.executeAction(n(2052),t):e.executeAction(n(2722),t.onePushAttributes)}},2722:function(e,t,n){"use strict";var s=n(1751).isClient();e.exports=function(e,t,o){if(!s||!t)return o&&o();var i=e.permissionHelper&&e.permissionHelper.getPermissionHelper();if(!i)return o&&o();i.fetchPushPermission(function(s,a){!s&&a&&"denied"!==a.state&&a.subscriptionKeys&&e.executeAction(n(2723),{channel_type:t.channel_type,channel_id:a.subscriptionKeys,app_id:t.app_id,target_id:t.target_id,target_type:t.target_type,device_id:a.deviceId},function(t,n){t||(e.dispatch("MUTE_STATE",{isNotificationMuted:!0}),i.clearErrorLog()),o&&o()})})}},2723:function(e,t,n){"use strict";e.exports=function(e,t,s){if(!n(2262).checkRemoveSubscriptionPayload(t))return s&&s("Incomplete payload");e.service.update("subscriptions.removeSubscription",null,t,function(e,t){s&&s(e,t)})}},2724:function(e,t,n){"use strict";var s=n(1751).isClient();e.exports=function(e,t,o){if(!s)return o&&o();var i=e.permissionHelper&&e.permissionHelper.getPermissionHelper();return i?(i&&i.fetchPushPermission(function(s,o){var i=o&&"granted"===o.state;!s&&i&&(o.subscriptionKeys?e.executeAction(n(2725),{channel_type:t.channel_type,channel_id:o.subscriptionKeys,app_id:t.app_id,target_type:t.target_type,target_id:t.target_id},function(t,n){e.dispatch("MUTE_STATE",{showMuteButton:!0,isNotificationMuted:!!t||!(n&&n.isSubscribed)})}):e.dispatch("MUTE_STATE",{showMuteButton:!0,isNotificationMuted:!0}))}),o&&o()):o&&o()}},2725:function(e,t,n){"use strict";e.exports=function(e,t,s){if(!n(2262).checkHasSubscriptionPayload(t))return s&&s("Incomplete payload");e.service.read("subscriptions.hasSubscription",t,{},function(t,n){if(t&&e){e.beacon("error","hasSubscriptionService",{code:"serviceFailure",msg:t.responseText||t.statusText||t.message})}s&&s(t,n)})}},2726:function(e,t,n){"use strict";var s,o=n(1751).isClient();o&&(s=n(2332).clientExtHelper),e.exports=function(e,t,i){var a=e.getStore(n(1757)),r={isNew:!1,promoId:t.promoId,show:!1,showSubscriptionPromo:!1};if(!o||!t)return i&&i();if(void 0!==a.getShowPromoNotif())return i&&i();if(t.isExtension&&s&&s.init(e.session.userAgent),t.heading&&t.body&&t.buttonLabel&&(t.isExtension&&t.extensionName&&s&&s.handleVerification({name:t.extensionName})||!t.isExtension&&t.link)&&n(1751).checkValidPromoSubcookies(t.promoId,t.timeToLive,t.timeToResurrect)&&(r.show=!0),r.show&&n(1751).getPromoIdSubcookie()!==t.promoId&&(r.isNew=!0),e.dispatch("PROMO_NOTIF_STATE",r),t.isNotification&&window.Notification&&e.permissionHelper){var l="granted"===window.Notification.permission,c=e.permissionHelper.getPermissionHelper();c.checkIsPrivateSession(function(s,o){if(!o){var i=c.checkIsSupportedBrowser("pushNotifications");r.showSubscriptionPromo=!l&&i,r.showSubscriptionPromo&&n(1751).getPromoIdSubcookie()!==t.promoId&&(r.isNew=!0),e.dispatch("PROMO_NOTIF_STATE",r)}})}i&&i()}},2727:function(e,t,n){"use strict";var s=n(3)("uh:components:logo:Logo"),o=n(13).I13nAnchor,i={i13n:{logo:{elm:"btn",itc:"0",slk:"yahoo",subsec:"logo"},partner_logo:{elm:"btn",itc:"0",slk:void 0,subsec:"logo"}}},a=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},propTypes:{instanceId:n(0).string},displayName:"Logo",mixins:[n(1755),n(23)],statics:{base:["logo"],className:{style:{cobrand:{wrapper:"_getClassNameCobrandWrapper",partner:{content:"_getClassNameCobrandPartnerContent"},yahoo:{content:"_getClassNameCobrandYahooContent"}},container:{wrapper:"_getClassNameContainerWrapper"},country_property:{content:"_getClassNameCountryPropertyContent"},property:{content:"_getClassNamePropertyContent"},yahoo:{content:"_getClassNameYahooContent"}}},conf:{link:"_getConfLink"},i13n:i.i13n,storeListeners:[n(1757)]},_getClassNameCobrandWrapper:function(){var e=[];return e.push(this.getClassName(a,["style","cobrand","wrapper_1"])),e.push(this.getClassName(a,["style","cobrand","wrapper_2"])),e=n(5)(e),s("_getClassNameCobrandWrapper",e,arguments),e},_getClassNameCobrandPartnerContent:function(){var e=[];return e.push(this.getClassName(a,["style","cobrand","partner","content_1"])),e.push(this.getClassName(a,["style","cobrand","partner","content_2"])),e=n(5)(e),s("_getClassNameCobrandPartnerContent",e,arguments),e},_getClassNameCobrandYahooContent:function(){var e=[];return e.push(this.getClassName(a,["style","cobrand","yahoo","content_1"])),e.push(this.getClassName(a,["style","cobrand","yahoo","content_2"])),e=n(5)(e),s("_getClassNameCobrandYahooContent",e,arguments),e},_getClassNameContainerWrapper:function(){var e=[];return e.push(this.getClassName(a,["style","container","wrapper_1"])),e.push(this.getClassName(a,["style","container","wrapper_2"])),e=n(5)(e),s("_getClassNameContainerWrapper",e,arguments),e},_getClassNameCountryPropertyContent:function(){var e=[];return e.push(this.getClassName(a,["style","country_property","content_1"])),e.push(this.getClassName(a,["style","country_property","content_2"])),e=n(5)(e),s("_getClassNameCountryPropertyContent",e,arguments),e},_getClassNamePropertyContent:function(){var e=[];return e.push(this.getClassName(a,["style","property","content_1"])),e.push(this.getClassName(a,["style","property","content_2"])),e=n(5)(e),s("_getClassNamePropertyContent",e,arguments),e},_getClassNameYahooContent:function(){var e=[];return e.push(this.getClassName(a,["style","yahoo","content_1"])),e.push(this.getClassName(a,["style","yahoo","content_2"])),e=n(5)(e),s("_getClassNameYahooContent",e,arguments),e},_getConfLink:function(){var e=this.context.session,t=this.state.data.get("site")||e.dimensions.site,o=n(1751).getLogoUrl(e.dimensions.intl,e.protocol,t);return s("_getConfLink",o,arguments),o},_getIdSelectorWithParentPrefix:function(e){return this.props.instanceId?"#"+this.props.instanceId+" #"+e:"#"+e},_getNodeLightweight:function(){return this.context.session.isLightWeightBrowser?n(1).createElement("style",null,n(1751).lightWeightLogo("#uh-logo",this.getClassName(a,["style","template"]))):null},_getNodeLogo:function(){var e=this.context.conf,t=null,i=this.context.session.dimensions,r=null,l=this.getIntl(this.getConf(a,"text")||"YAHOO");return n(1751).isEnabled(e.getIn(["ui","logo"]))?(r=this.getClassName(a,["style","template"]),"cobrand"===r?(s("_getNodeLogo","template","cobrand"),t=n(1).createElement("div",null,n(1).createElement("style",null,n(1751).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo-cobrand"),this.getClassName(a,["style","cobrand","image_1x"]),this.getClassName(a,["style","cobrand","image_2x"]))),this._getNodeLightweight(),n(1).createElement("div",{id:"uh-logo-cobrand",className:this.getClassName(a,["style","cobrand","wrapper"])},n(1).createElement(o,{id:"partner-logo",className:this.getClassName(a,["style","cobrand","partner","content"]),href:this.getConf(a,"partnerLink"),i13nModel:this.getI13n(a,"partner_logo",{slk:i.partner})},n(1).createElement("b",{className:"Hidden"},i.partner)),n(1).createElement(o,{id:"uh-logo",className:this.getClassName(a,["style","cobrand","yahoo","content"]),href:this.getConf(a,"link"),i13nModel:this.getI13n(a,"logo")},n(1).createElement("b",{className:"Hidden"},l))))):"cobrandSplit"===r?(s("_getNodeLogo","template","cobrand"),t=n(1).createElement("div",null,n(1).createElement("style",null,n(1751).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo-cobrand"),this.getClassName(a,["style","cobrand","image_1x"]),this.getClassName(a,["style","cobrand","image_2x"]))),this._getNodeLightweight(),n(1).createElement("div",{id:"uh-logo-cobrand",className:this.getClassName(a,["style","cobrand","wrapper"])},n(1).createElement(o,{id:"partner-logo",className:this.getClassName(a,["style","cobrand","partner","content"]),href:this.getConf(a,"partnerLink"),i13nModel:this.getI13n(a,"partner_logo",{slk:i.partner})},n(1).createElement("b",{className:"Hidden"},i.partner))))):"country_property"===r?(s("_getNodeLogo","template","country_property"),t=n(1).createElement("div",null,n(1).createElement("style",null,n(1751).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo"),this.getClassName(a,["style","country_property","image_1x"]),this.getClassName(a,["style","country_property","image_2x"]))),this._getNodeLightweight(),n(1).createElement(o,{id:"uh-logo",className:this.getClassName(a,["style","country_property","content"]),href:this.getConf(a,"link"),i13nModel:this.getI13n(a,"logo")},n(1).createElement("b",{className:"Hidden"},l)))):"property"===r?(s("_getNodeLogo","template","property"),t=n(1).createElement("div",null,n(1).createElement("style",null,n(1751).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo"),this.getClassName(a,["style","property","image_1x"]),this.getClassName(a,["style","property","image_2x"]))),this._getNodeLightweight(),n(1).createElement(o,{id:"uh-logo",className:this.getClassName(a,["style","property","content"]),href:this.getConf(a,"link"),i13nModel:this.getI13n(a,"logo")},n(1).createElement("b",{className:"Hidden"},l)))):(s("_getNodeLogo","template","yahoo"),t=n(1).createElement("div",null,n(1).createElement("style",null,n(1751).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo"),this.getClassName(a,["style","yahoo","image_1x"]),this.getClassName(a,["style","yahoo","image_2x"]))),this._getNodeLightweight(),n(1).createElement(o,{id:"uh-logo",className:this.getClassName(a,["style","yahoo","content"]),href:this.getConf(a,"link"),i13nModel:this.getI13n(a,"logo")},n(1).createElement("b",{className:"Hidden"},l)))),t):null},getData:function(){return n(7).Map({site:n(1751).getSite(this.context)||this.context.session.dimensions.site})},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1757)),s("getInitialState","data",this.getData()),{data:this.getData()}},onChange:function(){var e=this.getData();s("onChange","data",e),this.mounted&&this.setState({data:e})},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},render:function(){return n(1).createElement("div",{className:this.getClassName(a,["style","container","wrapper"]),style:this.getClassName(a,["style","container","inline"])},this._getNodeLogo())}});e.exports=a},2728:function(e,t,n){"use strict";var s=n(3)("uh:components:mail:Mail"),o=n(21).Icon,i={i13n:{mail:{elm:"btn",itc:"0",slk:"mail",subsec:"mail"}},state:{middle_auth:"middle_auth",signed_in:"signed_in",signed_out:"signed_out"}},a=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"Mail",mixins:[n(1755),n(23),n(2260),n(40)],statics:{base:["mail"],className:{style:{button:{content:"_getClassNameContent",icon:"_getClassNameIcon",text:"_getClassNameText"}}},i13n:i.i13n,state:i.state,storeListeners:[n(1757),n(92)]},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(a,["style","button","content_1"])),e.push(this.getClassName(a,["style","button","content_2"])),e=n(5)(e),s("_getClassNameContent",e,arguments),e},_getClassNameIcon:function(){var e=this.getClassName(a,["style","button","icon_1"]);return this.state.data.get("hover")&&(e=this.getClassName(a,["style","button","icon_2"])),s("_getClassNameIcon",e,arguments),e},_getClassNameText:function(){var e=this.getClassName(a,["style","button","text_1"]);return this.state.data.get("hover")&&(e=this.getClassName(a,["style","button","text_2"])),s("_getClassNameText",e,arguments),e},_getMetaDataLink:function(){var e=null,t=this.context.session.dimensions,o=["urls","mail","query"],i=this.getConf(a,["urls","mail"])||n(7).Map();return i=i.mergeDeep({query:{".intl":this.getConf(a,o.concat([".intl"]))||t.intl,".lang":this.getConf(a,o.concat([".lang"]))||t.lang,".partner":this.getConf(a,o.concat([".partner"]))||t.partner,".src":this.getConf(a,o.concat([".src"]))||this._getMetaDataSite()}}).toJS(),e=n(25).format(i),s("_getMetaDataLink",e),e},_getMetaDataSite:function(){var e=null;return e=this.state.data.get("site"),s("_getMetaDataSite",e,arguments),e},_getMetaDataText:function(){var e=null;return e=this.getIntl("MAIL"),this.context.session&&this.context.session.isCorpUser&&(e=this.getIntl("CORPMAIL")),s("_getMetaDataText",e,arguments),e},_getNodeButton:function(){var e=this.getConf(a,["data","icon","mail"]);return n(1).createElement(n(2259),{id:"uh-mail",className:this.getClassName(a,["style","button","content"]),href:this._getMetaDataLink(),i13nModel:this.getI13n(a,"mail"),hasPanel:this.state.isVisible||this.state.data.get("state")===a.state.signed_out,onHoverPayload:this.getClassName(a,["onHoverI13n"]),style:this.getClassName(a,["style","button","inline"])},n(1).createElement(o,{asset:e.get("asset").toJS(),height:e.get("height")||e.get("size"),width:e.get("width")||e.get("size"),color:this.getClassName(a,["style","button","icon"])}),n(1).createElement("b",{className:this.getClassName(a,["style","button","text"])},this._getMetaDataText),this._getNodeCount())},_getNodeCount:function(){var e=null;return this.state.data.get("state")!==a.state.signed_out&&this.context.conf.getIn(["ui","mailcount"])&&(e=n(1).createElement(n(2027),{mail:this.context.conf.get("mail")})),e},_getNodePreview:function(){var e=null;return this.state.data.get("state")===a.state.signed_in&&this.context.conf.getIn(["ui","mailpreview"])&&(e=n(1).createElement(n(2729),{mail:this.context.conf.get("mail"),hoverState:this.state.data.get("hover")})),e},getData:function(){var e,t=this.stores.user;return e=t.isSignedIn()?a.state.signed_in:t.isRecognized()?a.state.middle_auth:a.state.signed_out,n(7).Map({alias:t.getAlias(),hover:!1,site:n(1751).getSite(this.context)||this.context.session.dimensions.site,state:e})},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1757)),this.stores.user=this.getStore(n(92)),{data:this.getData()}},onChange:function(){var e=this.getData();this.mounted&&(s("onChange","data",e),this.setState({data:e}))},handleMouseEnter:function(e){this.setState({data:this.getData().set("hover",!0)}),this.toggleMenu(e)},handleMouseLeave:function(e){this.setState({data:this.getData().set("hover",!1)}),this.toggleMenu(e)},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},render:function(){return s("render","data",this.state.data),n(1).createElement("li",{className:this.getClassName(a,["style","button","wrapper"]),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this._getNodeButton(),this._getNodePreview())}});e.exports=a},2729:function(e,t,n){"use strict";e.exports=n(4)({displayName:"MailPreview",mixins:[n(1755),n(23)],statics:{base:["mail"],storeListeners:[n(1780)]},propTypes:{mail:n(0).object,hoverState:n(0).bool},getDefaultProps:function(){return{hoverState:!1}},getInitialState:function(){var e=this.props.mail.toJS(),t=e.preview,s=n(712)(t.api);return this.panelConfig={composeUrl:e.compose.url||"https://mail.yahoo.com/compose",gotoUrl:e.url||"https://mail.yahoo.com",msgUrl:t.urls.message||"https://mrd.mail.yahoo.com/msg?fid=Inbox&src=hp&mid="},this.fetchConfig={url:s,timeout:t.jsonp.timeout,prefix:t.jsonp.prefix},this.mailStore=this.getStore(n(1780)),this.fetchInterval=t.fetchInterval,this.lastFetchedTime=null,{mailItems:null}},componentWillReceiveProps:function(e){var t=this,n=Date.now();e.hoverState&&n-t.lastFetchedTime>t.fetchInterval&&(t._fetch(),t.lastFetchedTime=n)},shouldComponentUpdate:function(e,t){return null!==t.mailItems||!this.props.hoverState&&e.hoverState},onChange:function(e){this.setState({mailItems:this._getMailPreviewFromStore()})},_fetch:function(){this.executeAction(n(1921).getMailPreview,this.fetchConfig)},_getMailPreviewFromStore:function(){return this.mailStore.getMailPreview()},render:function(){return n(1).createElement("div",{id:"uh-mail-preview",className:"Bxsh(customShadowFlyoutMenu) Bgc(menuBgc) Bdrs(4px) Pos(a) End(0) T(40px) W(280px) D(n) uh-menu-open_D(b)"},n(1).createElement(n(2730),{items:this.state.mailItems,panel:this.panelConfig}))}})},2730:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o=n(22).FormattedRelative,i=n(21).Icon,a=n(13).I13nAnchor;e.exports=n(4)({displayName:"MailItems",mixins:[n(1755)],statics:{base:["mail"]},render:function(){var e=this,t="",r={elm:"btn",itc:"0",slk:"compose",subsec:"mail"},l={elm:"btn",itc:"0",slk:"go-to-mail",subsec:"mail"},c={elm:"itm",itc:"0",slk:"go-to-mail",subsec:"middle-auth"},u=!0;if(e.props.items&&-1!==e.props.items)u=!1,t=e.props.items.length>0?e.props.items.map(function(t,s){var i,r,l,c,u="";if(t&&t.messageInfo)u=t.messageInfo.from.name,i=t.messageInfo.flags.isRead,r=t.messageInfo.mid,l=t.messageInfo.subject,c=new Date(1e3*t.messageInfo.receivedDate);else{if(!(t&&t.messages&&t.messages.headers&&t.messages.headers.from&&t.messages.headers.date))return null;u=t.messages.headers.from.name||t.messages.messages.headers.from.email,i=t.messages.flags&&t.messages.flags.read?"1":"0",r=t.messages.id,l=t.messages.headers.subject?t.messages.headers.subject:"",c=new Date(1e3*t.messages.headers.date)}var h=n(5)({firstEmail:0===s},"Ta(start)","D(b)"),p=n(5)({"isRead C(textColor)":"1"===i},"D(b)","Px(20px)","Py(15px)","Td(n)","Bgc(#c2dfff):h"),d=n(5)({"Fw(b) C($c-fuji-grey-l)":"0"===i},"D(b)","Fz(13px)","Ell"),m=n(5)({"C($c-fuji-grey-l)":"0"===i},"D(b)","Cl(b)","Ell","Fz(13px)","Pt(4px)"),f=n(5)("Fl(end)","Fz(13px)","C($c-fuji-grey-g)","C($c-fuji-grey-g):h","C($c-fuji-grey-g):v"),g={elm:"itm",itc:"0",slk:"email",subsec:"mail",cpos:s+1};return n(1).createElement("li",{key:s,className:h},n(1).createElement(a,{className:p,href:e.props.panel.msgUrl+r,i13nModel:g},n(1).createElement("div",null,n(1).createElement("div",{className:f},n(1).createElement(o,{value:c})),n(1).createElement("div",{className:d},u)),n(1).createElement("div",{className:m},l)))}):n(1).createElement("li",{className:"Ta(c) D(b)"},n(1).createElement("div",{className:"Fz(m) Hy(n) P(10px)"},e.getIntl("HAVE_NO_NEW_MESSAGES")));else if(e.props.items&&-1===e.props.items){u=!1;t=n(1).createElement("li",{className:"Ta(c) D(b)"},n(1).createElement(a,{className:"C($c-fuji-grey-l) C(mailLinkHoverColor):h C($c-fuji-grey-l):v Td(n) Fz(m) Hy(n) P(10px)",href:e.props.panel.gotoUrl,i13nModel:c},n(1).createElement("div",null,e.getIntl("UNABLE_TO_PREVIEW_MAIL"))))}var h=n(5)({"D(n)":!1===u},"P(10px)","Ti(-9999px)","Bg(uhSpinner)","H(17px)"),p=n(5)({"D(n)":!0===u},"Pos(r)","W(100%)","My(0)","Td(n)"),d={style:{verticalAlign:"middle"},className:"uh-mail-compose:h_Fill(mailLinkHoverColor) uh-mail-compose:h_Stk(mailLinkHoverColor)"};return n(1).createElement("div",null,n(1).createElement("div",{className:h}),n(1).createElement("ul",{className:p},t,n(1).createElement("li",{className:"Lh(57px) Bdtw(1px) Bdts(s) Bdtc(#e0e0e4) Bgc(#f9f9f9)"},n(1).createElement(a,{id:"uh-mail-compose",className:"uh-mail-compose Mend(16px) C($c-fuji-grey-l) C(mailLinkHoverColor):h C($c-fuji-grey-l):v Fz(13px) Fl(end) Fz(s) Td(n)",href:e.props.panel.composeUrl,i13nModel:r},n(1).createElement(i,s({asset:n(2731),height:"24",width:"24",color:"#000"},d)),n(1).createElement("b",{className:"Mstart(5px)"},e.getIntl("COMPOSE"))),n(1).createElement(a,{id:"uh-mail-goto",className:"Mstart(16px) C($c-fuji-grey-l) C(mailLinkHoverColor):h C($c-fuji-grey-l):v Fz(13px) D(ib) Fz(s) Ta(start) Td(n)",href:e.props.panel.gotoUrl,i13nModel:l},e.getIntl("GO_TO_MAIL")))))}})},2731:function(e,t){if(void 0===n)var n={};n.ActionCompose={name:"ActionCompose",height:96,width:96,path:"M90.477 33.3L61.347 4.173c-1.56-1.562-4.093-1.562-5.655 0L5.522 54.34c-.75.75-1.17 1.766-1.17 2.828v29.13c0 2.206 1.788 4 4 4H37.48c1.062 0 2.078-.423 2.828-1.173l50.168-50.168c.75-.75 1.172-1.77 1.172-2.828 0-1.064-.42-2.08-1.17-2.83zM35.824 82.298H23.777L12.352 70.875v-12.05l30.516-30.517 23.472 23.47-30.516 30.52zM71.996 46.12L48.523 22.653l9.996-9.996L81.99 36.13l-9.996 9.99z"},void 0!==e&&e.exports&&(e.exports=n.ActionCompose)},2732:function(e,t,n){"use strict";var s=n(1869).comet,o=n(1869).Pipe,i=n(4)({contextTypes:{conf:n(0).object.isRequired},displayName:"Notifications",mixins:[n(1755)],statics:{base:["notifications"]},componentDidMount:function(){var e=this.getConf(i,["comet","config"]),t=this.getConf(i,["comet","channel"]);if(e&&t){s.config(e.toJS());var n=new o(t,{seqAlgo:"none"});n.on("open",function(e){console.log("pipe is now open")}),n.on("close",function(e){console.log("pipe is now closed")}),n.on("message",function(e){console.log("message received:",e.data)}),n.on("idle",function(e){console.log("pipe has been idle -- will close")}),n.on("error",function(e){console.log("code:",e.code,"message:",e.message)}),n.open()}},render:function(){return null}});e.exports=i},2733:function(e,t,n){"use strict";var s=n(3)("uh:components:profile:Profile"),o={get:n(37)},i={state:{middle_auth:"middle_auth",signed_in:"signed_in",signed_out:"signed_out"}},a=n(4)({displayName:"Profile",mixins:[n(23)],statics:{storeListeners:[n(1757),n(390),n(92)],state:i.state},contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired},getConf:function(e){var t=this.context.conf.get("profile"),n=null;switch(e){case"mode":n=t.get("mode");break;case"defaultImg":n=t.get("defaultImg");break;case"authStateCheck":n=t.get("authStateCheck")}return n},getData:function(){var e,t=this.stores.profile,s=this.stores.route,o=this.stores.user,i=s&&s.getCurrentNavigate(),r=this.context.session,l=o&&o.getFirstName()||t&&t.getProfile().nickName;e=n(1751).getPageUrl(i,r.host,r.protocol);var c,u=t&&this.validateImage(t.getProfile().imageUrl)||this.getConf("defaultImg")||null;return c=o.isSignedIn()?a.state.signed_in:o.isRecognized()?a.state.middle_auth:a.state.signed_out,n(7).Map({alias:o.getAlias(),first_name:l,guid:o.getGUID(),image:u,page_url:e,site:n(1751).getSite(this.context)||this.context.session.dimensions.site,state:c,yid:o.getLogin()})},validateImage:function(e){return e&&e.indexOf("profile_")<0?e:null},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1757)),this.stores.profile=this.getStore(n(390)),this.stores.route=this.getStore("RouteStore"),this.stores.user=this.getStore(n(92)),"client"!==this.getConf("mode")&&this.stores.user.isLoaded()&&(this.stores.profile.isLoaded()||this.stores.profile.err)?{data:this.getData()}:{data:n(7).Map()}},componentDidMount:function(){s("componentDidMount","data",this.getData()),this.mounted=!0,"client"===this.getConf("mode")&&(this.stores.profile.isLoaded()?this.setState({data:this.getData()}):this.executeAction(n(1904),this.props))},componentWillUnmount:function(){this.mounted=!1},onChange:function(){var e=this.getData();this.mounted&&(s("onChange","data",e),e.state===a.state.signed_in?this.stores.profile.isLoaded()&&this.setState({data:e}):this.setState({data:e}))},render:function(){var e=o.get(this.context.session,"dimensions.authed",!1);if(this.context.session.isFailsafe)return null;var t=null,i=this.state.data;if(s("render","data",i),i.isEmpty())t="client"===this.getConf("mode")&&n(1751).isEnabled(this.getConf("authStateCheck"))&&"0"===e?n(1).createElement(n(2334),{data:i}):n(1).createElement(n(2734),null);else switch(i.get("state")){case a.state.middle_auth:t=n(1).createElement(n(2735),{data:i});break;case a.state.signed_in:t=n(1).createElement(n(2335),{triggerAccountFetch:this.props.triggerAccountFetch,data:i});break;case a.state.signed_out:t=n(1).createElement(n(2334),{data:i})}return t}});e.exports=a},2734:function(e,t,n){"use strict";var s=n(3)("uh:components:profile:NullProfile"),o=n(21).Icon,i=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"NullProfile",mixins:[n(1755),n(40)],statics:{base:["profile"],className:{style:{button:{wrapper:"_getClassNameWrapper"}}}},_getClassNameWrapper:function(){var e=[];return e.push(this.getTheme(i,["style","button","wrapper"])),e.push("V(h)"),e=0!==e.length?n(5)(e):null,s("_getClassNameWrapper",e,arguments),e},render:function(){return n(1).createElement("li",{className:this.getClassName(i,["style","button","wrapper"])},n(1).createElement(o,{asset:n(700),height:"34",width:"34",color:"#400090"}))}});e.exports=i},2735:function(e,t,n){"use strict";e.exports=n(4)({displayName:"MiddleAuthProfile",mixins:[n(40)],propTypes:{data:n(0).object.isRequired},render:function(){return n(1).createElement(n(2335),{data:this.props.data})}})},2736:function(e,t,n){"use strict";var s=n(4)({mixins:[n(1755),n(23)],contextTypes:{getStore:n(0).func,conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"NotificationsCount",statics:{base:["notifications"],className:{style:{notificationsCount:{wrapper:"_getClassNameNotificationsCountWrapper"}}},storeListeners:[n(1821)]},propTypes:{countConfig:n(0).object,isSmartPhone:n(0).bool},getDefaultProps:function(){return{countConfig:n(7).fromJS({maxCountDisplay:99})}},getInitialState:function(){var e=this;return e.maxCountDisplay=e.getConf(s,["count","maxCountDisplay"]),e.notificationsStore=e.getStore(n(1821)),{notificationsCount:e._getData()}},componentDidMount:function(){},componentWillUnmount:function(){},onChange:function(e){var t=this;t.setState({notificationsCount:t._getData()})},_getData:function(){return this.notificationsStore.getNotificationsCount()},shouldComponentUpdate:function(e,t){return t.notificationsCount!==this.state.notificationsCount},_getClassNameNotificationsCountWrapper:function(){var e=[];return e.push(this.getClassName(s,["style","notificationsCount","wrapper_1"])),e=n(5)(e)},render:function(){var e=this,t=e.state.notificationsCount>0,s=e.state.notificationsCount>e.notificationsCountMaxDisplay?e.notificationsCountMaxDisplay+"+":e.state.notificationsCount,o=n(5)(e._getClassNameNotificationsCountWrapper(),{"Px(3px)":e.state.notificationsCount>e.maxCountDisplay},{"V(h)":!t},"desktop"!==e.device?e.props.themeMailNotificationBorderColor:"",{"D(n)":!t&&"desktop"!==e.device});return n(1).createElement("span",{id:"uh-notifications-count",className:o},s)}});e.exports=s},2737:function(e,t,n){"use strict";var s=n(3)("uh:components:search:Search");e.exports=n(4)({displayName:"Search",mixins:[n(23)],contextTypes:{session:n(0).object.isRequired},statics:{storeListeners:[n(1757)]},getData:function(){var e=this.context.session.dimensions,t=n(7).Map({bucket:e.bucket,device:e.device,footer_component:this.props.footerTemplateComponent,handle_submit:this.props.onSubmit,lang:e.lang,partner:e.partner,placeholder:" ",region:e.region,show_footer:this.props.showFooter,site:n(1751).getSite(this.context)||e.site,template_component:this.props.resultTemplateComponent});return s("getData","data",t),t},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1757)),s("getInitialState","this.stores.header.getState()",this.stores.header.getState()),{data:this.getData()}},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},onChange:function(){var e=this.getData();s("onChange","data",e),this.mounted&&this.setState({data:e})},render:function(){var e=this.state.data;return s("render","data",e),n(1).createElement(n(2028),{data:e})}})},2738:function(e,t,n){"use strict";var s={cloneDeep:n(725),isEqual:n(198)},o=n(3)("uh:components:nav/Topbar"),i=n(4)({autobind:!1,contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired},displayName:"Topbar",mixins:[n(1755),n(23)],propTypes:{data:n(0).object},statics:{base:["topbar"],storeListeners:["RouteStore"]},_formatItem:function(e,t){var s,i=e,a=i.url;return this._isForceAbsolute(t)||(a=n(668).convertUrl(a,this._getSite())),s={id:t,name:this._formatTitle(t,i.name),order:e.order,url:a,follow:this._isFollow(a)},o("_formatItem",i,s),s},_formatTitle:function(e,t){return t},_getData:function(e,t){e=s.cloneDeep(e);var n,o,a=this.getConf(i,["data","more"]),r=[];if(a<=0||0===e.length)return[];"home"===t?(e=e[0].children,o=1):"main"===t?(e=e.slice(0,a),o=1):"more"===t&&(e=e.slice(a),o=a+1);for(var l=0;l<e.length;l++)n=e[l],n.children=void 0,n.order=o,o++,n=this._formatItem(n,n.id),r.push(n);return r},_getSite:function(){return this.context.session.dimensions.site},_handleClick:function(e,t){var n=this.state.data,i=s.cloneDeep(n);Object.keys(n.is_open).map(function(e){i.is_open[e]=t===e&&!n.is_open[e]}),this.currentTarget=e.currentTarget,this._addBodyClick(t),o("_handleClick","name",t),o("_handleClick","prev",n),o("_handleClick","next",i),s.isEqual(n,i)||this.setState({data:i})},_addBodyClick:function(e){this.bodyClickHandler?this._removeBodyClick():this.bodyClickHandler=n(200).listen(document,"click",function(t){if(!this.currentTarget.contains(t.target)){var n=this.currentTarget.nextSibling,s=this.state.data;n.contains(t.target)||(s.is_open[e]=!1,this.setState({data:s}),this._removeBodyClick())}}.bind(this))},_removeBodyClick:function(){this.bodyClickHandler&&(this.bodyClickHandler.remove(),this.bodyClickHandler=null)},_isAbsolute:function(e){var t=n(25).parse(e);return!t||null!==t.hostname},_isFollow:function(e){var t=n(25).parse(e);return!!n(1751).isEnabled(this.getConf(i,["data","force_absolute_all"]))||(!t||null!==t.hostname)&&(!t||t.hostname!==this.context.session.host)},_isForceAbsolute:function(e){if(n(1751).isEnabled(this.getConf(i,["data","force_absolute_all"])))return!0;var t=this.getConf(i,["data","force_absolute"]);return!(!t.has(e)||!t.get(e))},_getConfLink:function(){var e=this.context.session,t=["de","es","e1","cf","fr","it","br"],s={protocol:t.indexOf(e.dimensions.intl)>=0?"http":e.protocol,host:e.dimensions.intl+".everything.yahoo.com/"};return"cf"===e.dimensions.intl&&(s.host="fr-ca.sites.yahoo.com/"),"e1"===e.dimensions.intl&&(s.host="es-us.sitios.yahoo.com/"),"xe"===e.dimensions.intl&&(s.host="en-maktoob.everything.yahoo.com/"),"us"===e.dimensions.intl&&(s.host="everything.yahoo.com/"),n(25).format(s)},_processMainItems:function(e,t){return t.length>0&&e.push(this._formatItem({url:this._getConfLink(),order:e.length+t.length+1,name:this.getIntl(this.getConf(i,["data","more_item","title"]).toUpperCase())},"more")),e},getData:function(){var e=this.stores.nav,t=this.props.data&&this.props.data.items||e.getItems(),n=this._getData(t,"more"),s={home:this._getData(t,"home"),more:n,main:this._processMainItems(this._getData(t,"main"),n),is_open:{home:!1,more:!1},homeSwitcher:this.getConf(i,["data","homeSwitcher"])};return o("getData",s),s},getInitialState:function(){return this.stores={},this.stores.nav=this.getStore(n(1922)),this.stores.route=this.getStore("RouteStore"),o("getInitialState","this.stores.nav.getState()",this.stores.nav.getState()),{data:this.getData()}},onChange:function(){if(this.mounted){var e=this.getData();o("onChange","data",e),this.setState({data:e})}},componentDidMount:function(){this.mounted=!0},componentWillMount:function(){this._handleClick=this._handleClick.bind(this),this.onChange=this.onChange.bind(this)},componentWillUnmount:function(){this.mounted=!1,this._removeBodyClick()},render:function(){var e=this.state.data,t={click:this._handleClick};return o("render","data",e),n(1).createElement(n(2739),{data:e,methods:t})}});e.exports=i},2739:function(e,t,n){"use strict";var s=n(3)("uh:components:nav/TopbarItems"),o=Object.assign,i=n(13).I13nAnchor,a=n(4)({contextTypes:{conf:n(0).object.isRequired,getStore:n(0).func,session:n(0).object.isRequired,theme:n(0).object.isRequired},getDefaultProps:function(){return{data:{home:[],main:[],more:[],is_open:{home:!1,more:!1},homeSwitcher:{enabled:!1,link:"https://www.yahoo.com/?p=dnr",title:"Back to Yahoo.com"}},methods:{click:function(){}}}},getInitialState:function(){return{showSwitcher:!1}},displayName:"TopbarItems",mixins:[n(1755),n(40)],propTypes:{data:n(0).object.isRequired,methods:n(0).object.isRequired},statics:{base:["topbar"],className:{style:{nav_main:{wrapper:"_getClassNameWrapper",content:"_getClassNameContent"}}},node:{nav_home:"_getNodeNavHome",nav_main:"_getNodeNavMain",nav_more:"_getNodeNavMore",nav_switcher:"_getNodeHomeSwitcher"}},_getClassNameLinkHomeIconHomeStyle:function(e){var t=null,n=["style","nav_main","link_home","icon","home"];return t=this.getClassName(a,n.concat(["inline"])),t&&(t=e?o(t,{fill:this.getClassName(a,n.concat(["color_2"]))}):o(t,{fill:this.getClassName(a,n.concat(["color_1"]))})),s("_getClassNameLinkHomeIconHomeStyle",t,arguments),t},_getClassNameLinkHomeContent:function(e){var t=[],o=["style","nav_main","link_home"];return t.push(this.getClassName(a,o.concat(["content_1"]))),e&&t.push(this.getClassName(a,o.concat(["content_2"]))),t=n(5)(t),s("_getClassNameLinkHomeContent",t,arguments),t},_getClassNameLinkHomeWrapper:function(e){var t=[],o=["style","nav_main","link_home"];return t.push(this.getClassName(a,o.concat(["wrapper_1"]))),e&&t.push(this.getClassName(a,o.concat(["wrapper_2"]))),t.push(this.getClassName(a,o.concat(["wrapper_3"]))),t=n(5)(t),s("_getClassNameLinkHomeWrapper",t,arguments),t},_getClassNameWrapper:function(){var e=[];return e.push(this.getClassName(a,["style","nav_main","wrapper_1"])),e.push(this.getClassName(a,["style","nav_main","wrapper_2"])),e=n(5)(e),s("_getClassNameNavMainWrapper",e,arguments),e},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(a,["style","nav_main","content_1"])),e.push(this.getClassName(a,["style","nav_main","content_2"])),e.push(this.getClassName(a,["style","nav_main","content_3"])),e=n(5)(e),s("_getClassNameNavMainContent",e,arguments),e},_getNodeHomeSwitcher:function(){var e=null,t=this.context&&this.context.getStore("RouteStore"),s=t&&t.getCurrentNavigate(),o=this.props.data.homeSwitcher,a=o&&n(1751).isEnabled(o.get("enabled")),r=Object.assign({},{subsec:"uh",slk:"Back to Yahoo.com",cpos:0});return a&&s&&s.url&&s.url.indexOf("p=us")>-1&&(e=n(1).createElement("li",{className:"Pos(a) Lh(1.7) End(0) D(ib) Mend(18px) Pstart(14px) D(n)--sm1024"},n(1).createElement(i,{href:o.get("link"),i13nModel:r,className:"C(#fff) Pstart(4px) Td(n)! Td(u)!:h Fz(13px)"},o.get("title")))),e},_getNodeNavHome:function(e,t){var s={group:"main",icon:!0,index:t,item:e},o=this._getItems("home"),i=this.props.methods||{};return i.getClassNameLinkHomeIconHomeStyle=this._getClassNameLinkHomeIconHomeStyle,i.getClassNameLinkHomeContent=this._getClassNameLinkHomeContent,i.getClassNameLinkHomeWrapper=this._getClassNameLinkHomeWrapper,0===o.length?n(1).createElement(n(2054),{key:e.id,data:s,methods:i}):(s.is_open=this.props.data.is_open.home,n(1).createElement(n(2337),{key:e.id,data:s,methods:i},o))},_getNodeNavMain:function(){var e=this._getItems("main");return 0===e.length?null:e.map(function(e,t){if("home"===e.id)return this._getNodeNavHome(e,t);if("more"===e.id)return this._getNodeNavMore(e,t);var s={key:e.id,data:{group:"main",item:e,index:t}};return n(1).createElement(n(2054),s)}.bind(this))},_getNodeNavMore:function(e,t){var s={group:"main",index:t,item:e},o=this._getItems("more"),i=this.props.methods;return i.getClassNameLinkHomeIconHomeStyle=this._getClassNameLinkHomeIconHomeStyle,i.getClassNameLinkHomeContent=this._getClassNameLinkHomeContent,i.getClassNameLinkHomeWrapper=this._getClassNameLinkHomeWrapper,0===o.length?n(1).createElement(n(2054),{key:e.id,data:s,methods:i}):(s.is_open=this.props.data.is_open.more,n(1).createElement(n(2337),{key:e.id,data:s,methods:i},o))},_getItems:function(e){var t=this.props.data[e];return s("_getItems","items",e,t),t},_getPromo:function(){return n(1751).isEnabled(this.context.conf.getIn(["ui","topbarPromo"],!1))?n(1).createElement("li",{id:"uh-tb-firefoxpromo",className:"Pos(a) Lh(1.7) End(0) D(ib) Pend(14px) Mend(0) D(n)--md1160"},n(1).createElement("a",{className:"C(#fff) Pstart(78px) Td(n)! Td(u)!:h Fz(13px)",href:this.context.conf.getIn(["topbar","promo","link"],!1),target:"_blank",rel:"noopener noreferrer"},n(1).createElement("img",{className:"Pend(4px) Va(m)",src:this.context.conf.getIn(["topbar","promo","icon"]),width:"13",height:"13",alt:this.context.conf.getIn(["topbar","promo","iconAlt"])}),n(1).createElement("span",{className:"Va(m)",dangerouslySetInnerHTML:{__html:this.context.conf.getIn(["topbar","promo","text"])}}),n(1).createElement("span",{className:"Va(m)",dangerouslySetInnerHTML:{__html:"&nbsp;&raquo;"}}))):n(1).createElement(n(2741),null)},render:function(){return n(1).createElement("div",{id:"masterNav",className:this.getClassName(a,["style","nav_main","wrapper"])},n(1).createElement("ul",{id:"eyebrow",role:"navigation",className:this.getClassName(a,["style","nav_main","content"])},this._getNodeNavMain(),this._getNodeHomeSwitcher(),this._getPromo()))}});e.exports=a},2740:function(e,t,n){"use strict";var s=n(3)("uh:components:nav/TopbarNavDropdownMenu"),o=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"TopbarNavDropdownMenu",getDefaultProps:function(){return{data:{group:"main",items:[{id:"home",name:"Home",url:"http://www.yahoo.com",order:-1,follow:!1}]}}},mixins:[n(1755),n(40)],propTypes:{data:n(0).object.isRequired},statics:{base:["topbar"]},_getGroup:function(e,t){return n(1751).strExpand(this.props.data.group,e,t)},_getNodeMenuItems:function(){var e=this.props.data.items;return 0===e.length?null:e.map(function(e,t){var s={key:e.id,data:{group:"more",item:e,index:t}};return n(1).createElement(n(2054),s)}.bind(this))},render:function(){return s("data",this.props.data),n(1).createElement("div",{id:this._getGroup("uh-tb-","-menu")},n(1).createElement("div",{className:this.getClassName(o,["style",this._getGroup("nav_"),"wrapper"]),style:this.getClassName(o,["style",this._getGroup("nav_"),"inline"])},n(1).createElement("ul",{className:this.getClassName(o,["style",this._getGroup("nav_"),"content"])},this._getNodeMenuItems())))}});e.exports=o},2741:function(e,t,n){"use strict";var s={set:n(686)},o=n(3)("uh:components:nav/TopbarFFPromo");e.exports=n(4)({autobind:!1,mixins:[n(23)],contextTypes:{conf:n(0).object.isRequired,executeAction:n(0).func.isRequired,getStore:n(0).func,session:n(0).object.isRequired},displayName:"TopbarFFPromo",statics:{storeListeners:[n(1757)]},_getData:function(){var e=this,t={showFFPromo:e.headerStore.getShowFFPromo(),content:null,link:null},s=n(1751).getSite(e.context)||e.context.session.dimensions.site;if(t.showFFPromo)switch(s){case"finance":t.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-finance-try"].join(""),t.content="Try Yahoo Finance on Firefox";break;case"news":t.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-news-try"].join(""),t.content="Try Yahoo News on Firefox";break;case"sports":t.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-sports-try"].join(""),t.content="Try Yahoo Sports on Firefox";break;default:t.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-install-new-firefox"].join(""),t.content="Install the new Firefox"}return t},componentWillMount:function(){this.onChange=this.onChange.bind(this)},componentDidMount:function(){var e=this;if(void 0===e.headerStore.getShowFFPromo()){var t=e.context.conf.get("profile"),o=t.get("mode")||"server",i=e.context.conf.get("ui"),a=i.get("topbarFFPromo"),r={};a&&(s.set(r,"componentProps.componentConfig.uh.profile.mode",o),s.set(r,"componentProps.componentConfig.uh.ui.topbarFFPromo",!0),e.context.executeAction(n(1920),r))}},getInitialState:function(){var e=this;return e.headerStore=e.context.getStore(n(1757)),e._getData()},onChange:function(){this.setState(this._getData())},shouldComponentUpdate:function(e,t){var n=this.state;return t.showFFPromo!==n.showFFPromo||t.link!==n.link||t.content!==n.content},render:function(){o("render");var e=this.state,t=null;return e&&e.showFFPromo&&e.link&&e.content&&(t=n(1).createElement("li",{id:"uh-tb-firefoxpromo",className:"Pos(a) Lh(1.7) End(0) D(ib) Mend(18px) Pstart(14px) D(n)--sm1024"},n(1).createElement("a",{className:"C(#fff) Pstart(4px) Td(n)! Td(u)!:h Fz(13px)",href:e.link,target:"_blank",rel:"noopener noreferrer"},n(1).createElement("img",{className:"Pend(4px) Va(m)",src:"https://s.yimg.com/kx/yucs/uh3s/promo-ff/1/images/ff_icon-compressed.png",width:"15",height:"15",alt:"Firefox"}),n(1).createElement("span",null,e.content),n(1).createElement("span",{dangerouslySetInnerHTML:{__html:"&nbsp;&raquo;"}})))),t}})},2742:function(e,t,n){"use strict";var s=n(1751).isClient();e.exports=function(e,t,o){if(!s||!t)return o&&o();var i=t.permissionHelperConfig||{},a=t.promotedNotificationConfig||{};if(i.enabled){n(1751).initPermissionHelper(e,i);var r=e.permissionHelper&&e.permissionHelper.getPermissionHelper();if(!r)return o&&o();setTimeout(function(){if(!i.enableChurnCheck||!r.checkIsSupportedBrowser("pushNotifications")||window&&window.Notification&&"granted"!==window.Notification.permission||!n(1751).isBackoffTimerExceeded(i.churnCheckBackoff,"bnct"))return o&&o();r.checkSubscriptionChurn(function(t,s){if(t)return o&&o(t);if(n(1751).setBackoffSubcookie("bnct"),!s||!i.resubscribeOnChurn)return o&&o();var r={onePushAttributes:a.onePushAttributes,overlay:null,subscriptionConfirmation:{enabled:!1},trackingClickParams:{sec:"subChurn",subsec:"browser-prompt"}};e.executeAction(n(2052),r,o)})},500)}}}});